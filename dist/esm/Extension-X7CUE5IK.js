import{a as qi,h as _r}from"./chunk-SH7JBNHE.js";import{a as Er}from"./chunk-EJ5R5O2R.js";import{a as yr}from"./chunk-2XWW6OV5.js";import{a as Jt}from"./chunk-2SUYJOML.js";import{b as gr,c as mr,f as vr,h as Tr,i as wr,k as Ir,l as br,m as Cr}from"./chunk-JPWMMWT7.js";import{a as qs,c as Fi}from"./chunk-UYLDA6E6.js";import{b as ji,n as En,p as jt}from"./chunk-2YE6NNA6.js";import{a as Oi}from"./chunk-T6TTLDCO.js";import{b as pr,g as Ln}from"./chunk-MP7EINQY.js";import{a as nn,b as cr,c as Mi}from"./chunk-YAXTLTJC.js";var kr=cr(()=>{(function(t){"use strict";typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){"use strict";t.ui=t.ui||{};var f=t.ui.version="1.13.2";var o=0,l=Array.prototype.hasOwnProperty,h=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,c;for(c=0;(r=i[c])!=null;c++)n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove");e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,c,T,O={},V=e.split(".")[0];e=e.split(".")[1];var ee=V+"-"+e;return n||(n=i,i=t.Widget),Array.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr.pseudos[ee.toLowerCase()]=function(Ee){return!!t.data(Ee,ee)},t[V]=t[V]||{},r=t[V][e],c=t[V][e]=function(Ee,we){if(!this||!this._createWidget)return new c(Ee,we);arguments.length&&this._createWidget(Ee,we)},t.extend(c,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),T=new i,T.options=t.widget.extend({},T.options),t.each(n,function(Ee,we){if(typeof we!="function"){O[Ee]=we;return}O[Ee]=function(){function Re(){return i.prototype[Ee].apply(this,arguments)}function Ne(be){return i.prototype[Ee].apply(this,be)}return function(){var be=this._super,Ae=this._superApply,Ue;return this._super=Re,this._superApply=Ne,Ue=we.apply(this,arguments),this._super=be,this._superApply=Ae,Ue}}()}),c.prototype=t.widget.extend(T,{widgetEventPrefix:r&&T.widgetEventPrefix||e},O,{constructor:c,namespace:V,widgetName:e,widgetFullName:ee}),r?(t.each(r._childConstructors,function(Ee,we){var Re=we.prototype;t.widget(Re.namespace+"."+Re.widgetName,c,we._proto)}),delete r._childConstructors):i._childConstructors.push(c),t.widget.bridge(e,c),c},t.widget.extend=function(e){for(var i=h.call(arguments,1),n=0,r=i.length,c,T;n<r;n++)for(c in i[n])T=i[n][c],l.call(i[n],c)&&T!==void 0&&(t.isPlainObject(T)?e[c]=t.isPlainObject(e[c])?t.widget.extend({},e[c],T):t.widget.extend({},T):e[c]=T);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var c=typeof r=="string",T=h.call(arguments,1),O=this;return c?!this.length&&r==="instance"?O=void 0:this.each(function(){var V,ee=t.data(this,n);if(r==="instance")return O=ee,!1;if(!ee)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'");if(typeof ee[r]!="function"||r.charAt(0)==="_")return t.error("no such method '"+r+"' for "+e+" widget instance");if(V=ee[r].apply(ee,T),V!==ee&&V!==void 0)return O=V&&V.jquery?O.pushStack(V.get()):V,!1}):(T.length&&(r=t.widget.extend.apply(null,[r].concat(T))),this.each(function(){var V=t.data(this,n);V?(V.option(r||{}),V._init&&V._init()):t.data(this,n,new i(r,this))})),O}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(i,n){e._removeClass(n,i)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n=e,r,c,T;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof e=="string")if(n={},r=e.split("."),e=r.shift(),r.length){for(c=n[e]=t.widget.extend({},this.options[e]),T=0;T<r.length-1;T++)c[r[T]]=c[r[T]]||{},c=c[r[T]];if(e=r.pop(),arguments.length===1)return c[e]===void 0?null:c[e];c[e]=i}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];n[e]=i}return this._setOptions(n),this},_setOptions:function(e){var i;for(i in e)this._setOption(i,e[i]);return this},_setOption:function(e,i){return e==="classes"&&this._setOptionClasses(i),this.options[e]=i,e==="disabled"&&this._setOptionDisabled(i),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],!(e[i]===this.options.classes[i]||!r||!r.length)&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(){var T=[];e.element.each(function(O,V){var ee=t.map(n.classesElementLookup,function(Ee){return Ee}).some(function(Ee){return Ee.is(V)});ee||T.push(V)}),n._on(t(T),{remove:"_untrackClassesElement"})}function c(T,O){var V,ee;for(ee=0;ee<T.length;ee++)V=n.classesElementLookup[T[ee]]||t(),e.add?(r(),V=t(t.uniqueSort(V.get().concat(e.element.get())))):V=t(V.not(e.element).get()),n.classesElementLookup[T[ee]]=V,i.push(T[ee]),O&&e.classes[T[ee]]&&i.push(e.classes[T[ee]])}return e.keys&&c(e.keys.match(/\S+/g)||[],!0),e.extra&&c(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){t.inArray(e.target,r)!==-1&&(i.classesElementLookup[n]=t(r.not(e.target).get()))}),this._off(t(e.target))},_removeClass:function(e,i,n){return this._toggleClass(e,i,n,!1)},_addClass:function(e,i,n){return this._toggleClass(e,i,n,!0)},_toggleClass:function(e,i,n,r){r=typeof r=="boolean"?r:n;var c=typeof e=="string"||e===null,T={extra:c?i:n,keys:c?e:i,element:c?this.element:e,add:r};return T.element.toggleClass(this._classes(T),r),this},_on:function(e,i,n){var r,c=this;typeof e!="boolean"&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(T,O){function V(){if(!(!e&&(c.options.disabled===!0||t(this).hasClass("ui-state-disabled"))))return(typeof O=="string"?c[O]:O).apply(c,arguments)}typeof O!="string"&&(V.guid=O.guid=O.guid||V.guid||t.guid++);var ee=T.match(/^([\w:-]*)\s*(.*)$/),Ee=ee[1]+c.eventNamespace,we=ee[2];we?r.on(Ee,we,V):i.on(Ee,V)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(e,i){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,i||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(i){this._addClass(t(i.currentTarget),null,"ui-state-hover")},mouseleave:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(i){this._addClass(t(i.currentTarget),null,"ui-state-focus")},focusout:function(i){this._removeClass(t(i.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,c,T=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],c=i.originalEvent,c)for(r in c)r in i||(i[r]=c[r]);return this.element.trigger(i,n),!(typeof T=="function"&&T.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,c){typeof r=="string"&&(r={effect:r});var T,O=r?r===!0||typeof r=="number"?i:r.effect||i:e;r=r||{},typeof r=="number"?r={duration:r}:r===!0&&(r={}),T=!t.isEmptyObject(r),r.complete=c,r.delay&&n.delay(r.delay),T&&t.effects&&t.effects.effect[O]?n[e](r):O!==e&&n[O]?n[O](r.duration,r.easing,c):n.queue(function(V){t(this)[e](),c&&c.call(n[0]),V()})}});var m=t.widget;(function(){var e,i=Math.max,n=Math.abs,r=/left|center|right/,c=/top|center|bottom/,T=/[\+\-]\d+(\.[\d]+)?%?/,O=/^\w+/,V=/%$/,ee=t.fn.position;function Ee(be,Ae,Ue){return[parseFloat(be[0])*(V.test(be[0])?Ae/100:1),parseFloat(be[1])*(V.test(be[1])?Ue/100:1)]}function we(be,Ae){return parseInt(t.css(be,Ae),10)||0}function Re(be){return be!=null&&be===be.window}function Ne(be){var Ae=be[0];return Ae.nodeType===9?{width:be.width(),height:be.height(),offset:{top:0,left:0}}:Re(Ae)?{width:be.width(),height:be.height(),offset:{top:be.scrollTop(),left:be.scrollLeft()}}:Ae.preventDefault?{width:0,height:0,offset:{top:Ae.pageY,left:Ae.pageX}}:{width:be.outerWidth(),height:be.outerHeight(),offset:be.offset()}}t.position={scrollbarWidth:function(){if(e!==void 0)return e;var be,Ae,Ue=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),We=Ue.children()[0];return t("body").append(Ue),be=We.offsetWidth,Ue.css("overflow","scroll"),Ae=We.offsetWidth,be===Ae&&(Ae=Ue[0].clientWidth),Ue.remove(),e=be-Ae},getScrollInfo:function(be){var Ae=be.isWindow||be.isDocument?"":be.element.css("overflow-x"),Ue=be.isWindow||be.isDocument?"":be.element.css("overflow-y"),We=Ae==="scroll"||Ae==="auto"&&be.width<be.element[0].scrollWidth,st=Ue==="scroll"||Ue==="auto"&&be.height<be.element[0].scrollHeight;return{width:st?t.position.scrollbarWidth():0,height:We?t.position.scrollbarWidth():0}},getWithinInfo:function(be){var Ae=t(be||window),Ue=Re(Ae[0]),We=!!Ae[0]&&Ae[0].nodeType===9,st=!Ue&&!We;return{element:Ae,isWindow:Ue,isDocument:We,offset:st?t(be).offset():{left:0,top:0},scrollLeft:Ae.scrollLeft(),scrollTop:Ae.scrollTop(),width:Ae.outerWidth(),height:Ae.outerHeight()}}},t.fn.position=function(be){if(!be||!be.of)return ee.apply(this,arguments);be=t.extend({},be);var Ae,Ue,We,st,dt,yt,Et=typeof be.of=="string"?t(document).find(be.of):t(be.of),Tt=t.position.getWithinInfo(be.within),_t=t.position.getScrollInfo(Tt),Ve=(be.collision||"flip").split(" "),ut={};return yt=Ne(Et),Et[0].preventDefault&&(be.at="left top"),Ue=yt.width,We=yt.height,st=yt.offset,dt=t.extend({},st),t.each(["my","at"],function(){var ht=(be[this]||"").split(" "),It,bt;ht.length===1&&(ht=r.test(ht[0])?ht.concat(["center"]):c.test(ht[0])?["center"].concat(ht):["center","center"]),ht[0]=r.test(ht[0])?ht[0]:"center",ht[1]=c.test(ht[1])?ht[1]:"center",It=T.exec(ht[0]),bt=T.exec(ht[1]),ut[this]=[It?It[0]:0,bt?bt[0]:0],be[this]=[O.exec(ht[0])[0],O.exec(ht[1])[0]]}),Ve.length===1&&(Ve[1]=Ve[0]),be.at[0]==="right"?dt.left+=Ue:be.at[0]==="center"&&(dt.left+=Ue/2),be.at[1]==="bottom"?dt.top+=We:be.at[1]==="center"&&(dt.top+=We/2),Ae=Ee(ut.at,Ue,We),dt.left+=Ae[0],dt.top+=Ae[1],this.each(function(){var ht,It,bt=t(this),Dt=bt.outerWidth(),Ct=bt.outerHeight(),xt=we(this,"marginLeft"),Nt=we(this,"marginTop"),Pt=Dt+xt+we(this,"marginRight")+_t.width,Ft=Ct+Nt+we(this,"marginBottom")+_t.height,Be=t.extend({},dt),ft=Ee(ut.my,bt.outerWidth(),bt.outerHeight());be.my[0]==="right"?Be.left-=Dt:be.my[0]==="center"&&(Be.left-=Dt/2),be.my[1]==="bottom"?Be.top-=Ct:be.my[1]==="center"&&(Be.top-=Ct/2),Be.left+=ft[0],Be.top+=ft[1],ht={marginLeft:xt,marginTop:Nt},t.each(["left","top"],function(ie,Me){t.ui.position[Ve[ie]]&&t.ui.position[Ve[ie]][Me](Be,{targetWidth:Ue,targetHeight:We,elemWidth:Dt,elemHeight:Ct,collisionPosition:ht,collisionWidth:Pt,collisionHeight:Ft,offset:[Ae[0]+ft[0],Ae[1]+ft[1]],my:be.my,at:be.at,within:Tt,elem:bt})}),be.using&&(It=function(ie){var Me=st.left-Be.left,je=Me+Ue-Dt,Je=st.top-Be.top,nt=Je+We-Ct,gt={target:{element:Et,left:st.left,top:st.top,width:Ue,height:We},element:{element:bt,left:Be.left,top:Be.top,width:Dt,height:Ct},horizontal:je<0?"left":Me>0?"right":"center",vertical:nt<0?"top":Je>0?"bottom":"middle"};Ue<Dt&&n(Me+je)<Ue&&(gt.horizontal="center"),We<Ct&&n(Je+nt)<We&&(gt.vertical="middle"),i(n(Me),n(je))>i(n(Je),n(nt))?gt.important="horizontal":gt.important="vertical",be.using.call(this,ie,gt)}),bt.offset(t.extend(Be,{using:It}))})},t.ui.position={fit:{left:function(be,Ae){var Ue=Ae.within,We=Ue.isWindow?Ue.scrollLeft:Ue.offset.left,st=Ue.width,dt=be.left-Ae.collisionPosition.marginLeft,yt=We-dt,Et=dt+Ae.collisionWidth-st-We,Tt;Ae.collisionWidth>st?yt>0&&Et<=0?(Tt=be.left+yt+Ae.collisionWidth-st-We,be.left+=yt-Tt):Et>0&&yt<=0?be.left=We:yt>Et?be.left=We+st-Ae.collisionWidth:be.left=We:yt>0?be.left+=yt:Et>0?be.left-=Et:be.left=i(be.left-dt,be.left)},top:function(be,Ae){var Ue=Ae.within,We=Ue.isWindow?Ue.scrollTop:Ue.offset.top,st=Ae.within.height,dt=be.top-Ae.collisionPosition.marginTop,yt=We-dt,Et=dt+Ae.collisionHeight-st-We,Tt;Ae.collisionHeight>st?yt>0&&Et<=0?(Tt=be.top+yt+Ae.collisionHeight-st-We,be.top+=yt-Tt):Et>0&&yt<=0?be.top=We:yt>Et?be.top=We+st-Ae.collisionHeight:be.top=We:yt>0?be.top+=yt:Et>0?be.top-=Et:be.top=i(be.top-dt,be.top)}},flip:{left:function(be,Ae){var Ue=Ae.within,We=Ue.offset.left+Ue.scrollLeft,st=Ue.width,dt=Ue.isWindow?Ue.scrollLeft:Ue.offset.left,yt=be.left-Ae.collisionPosition.marginLeft,Et=yt-dt,Tt=yt+Ae.collisionWidth-st-dt,_t=Ae.my[0]==="left"?-Ae.elemWidth:Ae.my[0]==="right"?Ae.elemWidth:0,Ve=Ae.at[0]==="left"?Ae.targetWidth:Ae.at[0]==="right"?-Ae.targetWidth:0,ut=-2*Ae.offset[0],ht,It;Et<0?(ht=be.left+_t+Ve+ut+Ae.collisionWidth-st-We,(ht<0||ht<n(Et))&&(be.left+=_t+Ve+ut)):Tt>0&&(It=be.left-Ae.collisionPosition.marginLeft+_t+Ve+ut-dt,(It>0||n(It)<Tt)&&(be.left+=_t+Ve+ut))},top:function(be,Ae){var Ue=Ae.within,We=Ue.offset.top+Ue.scrollTop,st=Ue.height,dt=Ue.isWindow?Ue.scrollTop:Ue.offset.top,yt=be.top-Ae.collisionPosition.marginTop,Et=yt-dt,Tt=yt+Ae.collisionHeight-st-dt,_t=Ae.my[1]==="top",Ve=_t?-Ae.elemHeight:Ae.my[1]==="bottom"?Ae.elemHeight:0,ut=Ae.at[1]==="top"?Ae.targetHeight:Ae.at[1]==="bottom"?-Ae.targetHeight:0,ht=-2*Ae.offset[1],It,bt;Et<0?(bt=be.top+Ve+ut+ht+Ae.collisionHeight-st-We,(bt<0||bt<n(Et))&&(be.top+=Ve+ut+ht)):Tt>0&&(It=be.top-Ae.collisionPosition.marginTop+Ve+ut+ht-dt,(It>0||n(It)<Tt)&&(be.top+=Ve+ut+ht))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}})();var u=t.ui.position;var v=t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}});var g=t.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(i){i.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),_=t;var p="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",y={},I=y.toString,E=/^([\-+])=\s*(\d+\.?\d*)/,D=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?(parseInt(e[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),e[4]?(parseInt(e[4]+e[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],R=_.Color=function(e,i,n,r){return new _.Color.fn.parse(e,i,n,r)},S={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},L={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},B=R.support={},k=_("<p>")[0],b,A=_.each;k.style.cssText="background-color:rgba(1,1,1,.5)",B.rgba=k.style.backgroundColor.indexOf("rgba")>-1,A(S,function(e,i){i.cache="_"+e,i.props.alpha={idx:3,type:"percent",def:1}}),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,i){y["[object "+i+"]"]=i.toLowerCase()});function G(e){return e==null?e+"":typeof e=="object"?y[I.call(e)]||"object":typeof e}function w(e,i,n){var r=L[i.type]||{};return e==null?n||!i.def?null:i.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?i.def:r.mod?(e+r.mod)%r.mod:Math.min(r.max,Math.max(0,e)))}function M(e){var i=R(),n=i._rgba=[];return e=e.toLowerCase(),A(D,function(r,c){var T,O=c.re.exec(e),V=O&&c.parse(O),ee=c.space||"rgba";if(V)return T=i[ee](V),i[S[ee].cache]=T[S[ee].cache],n=i._rgba=T._rgba,!1}),n.length?(n.join()==="0,0,0,0"&&_.extend(n,b.transparent),i):b[e]}R.fn=_.extend(R.prototype,{parse:function(e,i,n,r){if(e===void 0)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=_(e).css(i),i=void 0);var c=this,T=G(e),O=this._rgba=[];if(i!==void 0&&(e=[e,i,n,r],T="array"),T==="string")return this.parse(M(e)||b._default);if(T==="array")return A(S.rgba.props,function(V,ee){O[ee.idx]=w(e[ee.idx],ee)}),this;if(T==="object")return e instanceof R?A(S,function(V,ee){e[ee.cache]&&(c[ee.cache]=e[ee.cache].slice())}):A(S,function(V,ee){var Ee=ee.cache;A(ee.props,function(we,Re){if(!c[Ee]&&ee.to){if(we==="alpha"||e[we]==null)return;c[Ee]=ee.to(c._rgba)}c[Ee][Re.idx]=w(e[we],Re,!0)}),c[Ee]&&_.inArray(null,c[Ee].slice(0,3))<0&&(c[Ee][3]==null&&(c[Ee][3]=1),ee.from&&(c._rgba=ee.from(c[Ee])))}),this},is:function(e){var i=R(e),n=!0,r=this;return A(S,function(c,T){var O,V=i[T.cache];return V&&(O=r[T.cache]||T.to&&T.to(r._rgba)||[],A(T.props,function(ee,Ee){if(V[Ee.idx]!=null)return n=V[Ee.idx]===O[Ee.idx],n})),n}),n},_space:function(){var e=[],i=this;return A(S,function(n,r){i[r.cache]&&e.push(n)}),e.pop()},transition:function(e,i){var n=R(e),r=n._space(),c=S[r],T=this.alpha()===0?R("transparent"):this,O=T[c.cache]||c.to(T._rgba),V=O.slice();return n=n[c.cache],A(c.props,function(ee,Ee){var we=Ee.idx,Re=O[we],Ne=n[we],be=L[Ee.type]||{};Ne!==null&&(Re===null?V[we]=Ne:(be.mod&&(Ne-Re>be.mod/2?Re+=be.mod:Re-Ne>be.mod/2&&(Re-=be.mod)),V[we]=w((Ne-Re)*i+Re,Ee)))}),this[r](V)},blend:function(e){if(this._rgba[3]===1)return this;var i=this._rgba.slice(),n=i.pop(),r=R(e)._rgba;return R(_.map(i,function(c,T){return(1-n)*r[T]+n*c}))},toRgbaString:function(){var e="rgba(",i=_.map(this._rgba,function(n,r){return n??(r>2?1:0)});return i[3]===1&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=_.map(this.hsla(),function(n,r){return n==null&&(n=r>2?1:0),r&&r<3&&(n=Math.round(n*100)+"%"),n});return i[3]===1&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(n*255)),"#"+_.map(i,function(r){return r=(r||0).toString(16),r.length===1?"0"+r:r}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),R.fn.parse.prototype=R.fn;function U(e,i,n){return n=(n+1)%1,n*6<1?e+(i-e)*n*6:n*2<1?i:n*3<2?e+(i-e)*(2/3-n)*6:e}S.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/255,n=e[1]/255,r=e[2]/255,c=e[3],T=Math.max(i,n,r),O=Math.min(i,n,r),V=T-O,ee=T+O,Ee=ee*.5,we,Re;return O===T?we=0:i===T?we=60*(n-r)/V+360:n===T?we=60*(r-i)/V+120:we=60*(i-n)/V+240,V===0?Re=0:Ee<=.5?Re=V/ee:Re=V/(2-ee),[Math.round(we)%360,Re,Ee,c??1]},S.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var i=e[0]/360,n=e[1],r=e[2],c=e[3],T=r<=.5?r*(1+n):r+n-r*n,O=2*r-T;return[Math.round(U(O,T,i+1/3)*255),Math.round(U(O,T,i)*255),Math.round(U(O,T,i-1/3)*255),c]},A(S,function(e,i){var n=i.props,r=i.cache,c=i.to,T=i.from;R.fn[e]=function(O){if(c&&!this[r]&&(this[r]=c(this._rgba)),O===void 0)return this[r].slice();var V,ee=G(O),Ee=ee==="array"||ee==="object"?O:arguments,we=this[r].slice();return A(n,function(Re,Ne){var be=Ee[ee==="object"?Re:Ne.idx];be==null&&(be=we[Ne.idx]),we[Ne.idx]=w(be,Ne)}),T?(V=R(T(we)),V[r]=we,V):R(we)},A(n,function(O,V){R.fn[O]||(R.fn[O]=function(ee){var Ee,we,Re,Ne,be=G(ee);return O==="alpha"?Ne=this._hsla?"hsla":"rgba":Ne=e,Ee=this[Ne](),we=Ee[V.idx],be==="undefined"?we:(be==="function"&&(ee=ee.call(this,we),be=G(ee)),ee==null&&V.empty?this:(be==="string"&&(Re=E.exec(ee),Re&&(ee=we+parseFloat(Re[2])*(Re[1]==="+"?1:-1))),Ee[V.idx]=ee,this[Ne](Ee)))})})}),R.hook=function(e){var i=e.split(" ");A(i,function(n,r){_.cssHooks[r]={set:function(c,T){var O,V,ee="";if(T!=="transparent"&&(G(T)!=="string"||(O=M(T)))){if(T=R(O||T),!B.rgba&&T._rgba[3]!==1){for(V=r==="backgroundColor"?c.parentNode:c;(ee===""||ee==="transparent")&&V&&V.style;)try{ee=_.css(V,"backgroundColor"),V=V.parentNode}catch{}T=T.blend(ee&&ee!=="transparent"?ee:"_default")}T=T.toRgbaString()}try{c.style[r]=T}catch{}}},_.fx.step[r]=function(c){c.colorInit||(c.start=R(c.elem,r),c.end=R(c.end),c.colorInit=!0),_.cssHooks[r].set(c.elem,c.start.transition(c.end,c.pos))}})},R.hook(p),_.cssHooks.borderColor={expand:function(e){var i={};return A(["Top","Right","Bottom","Left"],function(n,r){i["border"+r+"Color"]=e}),i}},b=_.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var j="ui-effects-",le="ui-effects-style",Z="ui-effects-animated";t.effects={effect:{}},function(){var e=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(T,O){t.fx.step[O]=function(V){(V.end!=="none"&&!V.setAttr||V.pos===1&&!V.setAttr)&&(_.style(V.elem,O,V.end),V.setAttr=!0)}});function n(T){return T.replace(/-([\da-z])/gi,function(O,V){return V.toUpperCase()})}function r(T){var O,V,ee=T.ownerDocument.defaultView?T.ownerDocument.defaultView.getComputedStyle(T,null):T.currentStyle,Ee={};if(ee&&ee.length&&ee[0]&&ee[ee[0]])for(V=ee.length;V--;)O=ee[V],typeof ee[O]=="string"&&(Ee[n(O)]=ee[O]);else for(O in ee)typeof ee[O]=="string"&&(Ee[O]=ee[O]);return Ee}function c(T,O){var V={},ee,Ee;for(ee in O)Ee=O[ee],T[ee]!==Ee&&(i[ee]||(t.fx.step[ee]||!isNaN(parseFloat(Ee)))&&(V[ee]=Ee));return V}t.fn.addBack||(t.fn.addBack=function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}),t.effects.animateClass=function(T,O,V,ee){var Ee=t.speed(O,V,ee);return this.queue(function(){var we=t(this),Re=we.attr("class")||"",Ne,be=Ee.children?we.find("*").addBack():we;be=be.map(function(){var Ae=t(this);return{el:Ae,start:r(this)}}),Ne=function(){t.each(e,function(Ae,Ue){T[Ue]&&we[Ue+"Class"](T[Ue])})},Ne(),be=be.map(function(){return this.end=r(this.el[0]),this.diff=c(this.start,this.end),this}),we.attr("class",Re),be=be.map(function(){var Ae=this,Ue=t.Deferred(),We=t.extend({},Ee,{queue:!1,complete:function(){Ue.resolve(Ae)}});return this.el.animate(this.diff,We),Ue.promise()}),t.when.apply(t,be.get()).done(function(){Ne(),t.each(arguments,function(){var Ae=this.el;t.each(this.diff,function(Ue){Ae.css(Ue,"")})}),Ee.complete.call(we[0])})})},t.fn.extend({addClass:function(T){return function(O,V,ee,Ee){return V?t.effects.animateClass.call(this,{add:O},V,ee,Ee):T.apply(this,arguments)}}(t.fn.addClass),removeClass:function(T){return function(O,V,ee,Ee){return arguments.length>1?t.effects.animateClass.call(this,{remove:O},V,ee,Ee):T.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(T){return function(O,V,ee,Ee,we){return typeof V=="boolean"||V===void 0?ee?t.effects.animateClass.call(this,V?{add:O}:{remove:O},ee,Ee,we):T.apply(this,arguments):t.effects.animateClass.call(this,{toggle:O},V,ee,Ee)}}(t.fn.toggleClass),switchClass:function(T,O,V,ee,Ee){return t.effects.animateClass.call(this,{add:O,remove:T},V,ee,Ee)}})}(),function(){t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(r){return function(c){return!!t(c).data(Z)||r(c)}}(t.expr.pseudos.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(r,c){for(var T=0,O=c.length;T<O;T++)c[T]!==null&&r.data(j+c[T],r[0].style[c[T]])},restore:function(r,c){for(var T,O=0,V=c.length;O<V;O++)c[O]!==null&&(T=r.data(j+c[O]),r.css(c[O],T))},setMode:function(r,c){return c==="toggle"&&(c=r.is(":hidden")?"show":"hide"),c},createWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent();var c={width:r.outerWidth(!0),height:r.outerHeight(!0),float:r.css("float")},T=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),O={width:r.width(),height:r.height()},V=document.activeElement;try{V.id}catch{V=document.body}return r.wrap(T),(r[0]===V||t.contains(r[0],V))&&t(V).trigger("focus"),T=r.parent(),r.css("position")==="static"?(T.css({position:"relative"}),r.css({position:"relative"})):(t.extend(c,{position:r.css("position"),zIndex:r.css("z-index")}),t.each(["top","left","bottom","right"],function(ee,Ee){c[Ee]=r.css(Ee),isNaN(parseInt(c[Ee],10))&&(c[Ee]="auto")}),r.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(O),T.css(c).show()},removeWrapper:function(r){var c=document.activeElement;return r.parent().is(".ui-effects-wrapper")&&(r.parent().replaceWith(r),(r[0]===c||t.contains(r[0],c))&&t(c).trigger("focus")),r}}),t.extend(t.effects,{version:"1.13.2",define:function(r,c,T){return T||(T=c,c="effect"),t.effects.effect[r]=T,t.effects.effect[r].mode=c,T},scaledDimensions:function(r,c,T){if(c===0)return{height:0,width:0,outerHeight:0,outerWidth:0};var O=T!=="horizontal"?(c||100)/100:1,V=T!=="vertical"?(c||100)/100:1;return{height:r.height()*V,width:r.width()*O,outerHeight:r.outerHeight()*V,outerWidth:r.outerWidth()*O}},clipToBox:function(r){return{width:r.clip.right-r.clip.left,height:r.clip.bottom-r.clip.top,left:r.clip.left,top:r.clip.top}},unshift:function(r,c,T){var O=r.queue();c>1&&O.splice.apply(O,[1,0].concat(O.splice(c,T))),r.dequeue()},saveStyle:function(r){r.data(le,r[0].style.cssText)},restoreStyle:function(r){r[0].style.cssText=r.data(le)||"",r.removeData(le)},mode:function(r,c){var T=r.is(":hidden");return c==="toggle"&&(c=T?"show":"hide"),(T?c==="hide":c==="show")&&(c="none"),c},getBaseline:function(r,c){var T,O;switch(r[0]){case"top":T=0;break;case"middle":T=.5;break;case"bottom":T=1;break;default:T=r[0]/c.height}switch(r[1]){case"left":O=0;break;case"center":O=.5;break;case"right":O=1;break;default:O=r[1]/c.width}return{x:O,y:T}},createPlaceholder:function(r){var c,T=r.css("position"),O=r.position();return r.css({marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()),/^(static|relative)/.test(T)&&(T="absolute",c=t("<"+r[0].nodeName+">").insertAfter(r).css({display:/^(inline|ruby)/.test(r.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:r.css("marginTop"),marginBottom:r.css("marginBottom"),marginLeft:r.css("marginLeft"),marginRight:r.css("marginRight"),float:r.css("float")}).outerWidth(r.outerWidth()).outerHeight(r.outerHeight()).addClass("ui-effects-placeholder"),r.data(j+"placeholder",c)),r.css({position:T,left:O.left,top:O.top}),c},removePlaceholder:function(r){var c=j+"placeholder",T=r.data(c);T&&(T.remove(),r.removeData(c))},cleanUp:function(r){t.effects.restoreStyle(r),t.effects.removePlaceholder(r)},setTransition:function(r,c,T,O){return O=O||{},t.each(c,function(V,ee){var Ee=r.cssUnit(ee);Ee[0]>0&&(O[ee]=Ee[0]*T+Ee[1])}),O}});function e(r,c,T,O){return t.isPlainObject(r)&&(c=r,r=r.effect),r={effect:r},c==null&&(c={}),typeof c=="function"&&(O=c,T=null,c={}),(typeof c=="number"||t.fx.speeds[c])&&(O=T,T=c,c={}),typeof T=="function"&&(O=T,T=null),c&&t.extend(r,c),T=T||c.duration,r.duration=t.fx.off?0:typeof T=="number"?T:T in t.fx.speeds?t.fx.speeds[T]:t.fx.speeds._default,r.complete=O||c.complete,r}function i(r){return!!(!r||typeof r=="number"||t.fx.speeds[r]||typeof r=="string"&&!t.effects.effect[r]||typeof r=="function"||typeof r=="object"&&!r.effect)}t.fn.extend({effect:function(){var r=e.apply(this,arguments),c=t.effects.effect[r.effect],T=c.mode,O=r.queue,V=O||"fx",ee=r.complete,Ee=r.mode,we=[],Re=function(be){var Ae=t(this),Ue=t.effects.mode(Ae,Ee)||T;Ae.data(Z,!0),we.push(Ue),T&&(Ue==="show"||Ue===T&&Ue==="hide")&&Ae.show(),(!T||Ue!=="none")&&t.effects.saveStyle(Ae),typeof be=="function"&&be()};if(t.fx.off||!c)return Ee?this[Ee](r.duration,ee):this.each(function(){ee&&ee.call(this)});function Ne(be){var Ae=t(this);function Ue(){Ae.removeData(Z),t.effects.cleanUp(Ae),r.mode==="hide"&&Ae.hide(),We()}function We(){typeof ee=="function"&&ee.call(Ae[0]),typeof be=="function"&&be()}r.mode=we.shift(),t.uiBackCompat!==!1&&!T?(Ae.is(":hidden")?Ee==="hide":Ee==="show")?(Ae[Ee](),We()):c.call(Ae[0],r,We):r.mode==="none"?(Ae[Ee](),We()):c.call(Ae[0],r,Ue)}return O===!1?this.each(Re).each(Ne):this.queue(V,Re).queue(V,Ne)},show:function(r){return function(c){if(i(c))return r.apply(this,arguments);var T=e.apply(this,arguments);return T.mode="show",this.effect.call(this,T)}}(t.fn.show),hide:function(r){return function(c){if(i(c))return r.apply(this,arguments);var T=e.apply(this,arguments);return T.mode="hide",this.effect.call(this,T)}}(t.fn.hide),toggle:function(r){return function(c){if(i(c)||typeof c=="boolean")return r.apply(this,arguments);var T=e.apply(this,arguments);return T.mode="toggle",this.effect.call(this,T)}}(t.fn.toggle),cssUnit:function(r){var c=this.css(r),T=[];return t.each(["em","px","%","pt"],function(O,V){c.indexOf(V)>0&&(T=[parseFloat(c),V])}),T},cssClip:function(r){return r?this.css("clip","rect("+r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px)"):n(this.css("clip"),this)},transfer:function(r,c){var T=t(this),O=t(r.to),V=O.css("position")==="fixed",ee=t("body"),Ee=V?ee.scrollTop():0,we=V?ee.scrollLeft():0,Re=O.offset(),Ne={top:Re.top-Ee,left:Re.left-we,height:O.innerHeight(),width:O.innerWidth()},be=T.offset(),Ae=t("<div class='ui-effects-transfer'></div>");Ae.appendTo("body").addClass(r.className).css({top:be.top-Ee,left:be.left-we,height:T.innerHeight(),width:T.innerWidth(),position:V?"fixed":"absolute"}).animate(Ne,r.duration,r.easing,function(){Ae.remove(),typeof c=="function"&&c()})}});function n(r,c){var T=c.outerWidth(),O=c.outerHeight(),V=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,ee=V.exec(r)||["",0,T,O,0];return{top:parseFloat(ee[1])||0,right:ee[2]==="auto"?T:parseFloat(ee[2]),bottom:ee[3]==="auto"?O:parseFloat(ee[3]),left:parseFloat(ee[4])||0}}t.fx.step.clip=function(r){r.clipInit||(r.start=t(r.elem).cssClip(),typeof r.end=="string"&&(r.end=n(r.end,r.elem)),r.clipInit=!0),t(r.elem).cssClip({top:r.pos*(r.end.top-r.start.top)+r.start.top,right:r.pos*(r.end.right-r.start.right)+r.start.right,bottom:r.pos*(r.end.bottom-r.start.bottom)+r.start.bottom,left:r.pos*(r.end.left-r.start.left)+r.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,n){e[n]=function(r){return Math.pow(r,i+2)}}),t.extend(e,{Sine:function(i){return 1-Math.cos(i*Math.PI/2)},Circ:function(i){return 1-Math.sqrt(1-i*i)},Elastic:function(i){return i===0||i===1?i:-Math.pow(2,8*(i-1))*Math.sin(((i-1)*80-7.5)*Math.PI/15)},Back:function(i){return i*i*(3*i-2)},Bounce:function(i){for(var n,r=4;i<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-i,2)}}),t.each(e,function(i,n){t.easing["easeIn"+i]=n,t.easing["easeOut"+i]=function(r){return 1-n(1-r)},t.easing["easeInOut"+i]=function(r){return r<.5?n(r*2)/2:1-n(r*-2+2)/2}})}();var ne=t.effects;var X=t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),c=e.direction||"up",T=r.cssClip(),O={clip:t.extend({},T)},V=t.effects.createPlaceholder(r);O.clip[n[c][0]]=O.clip[n[c][1]],e.mode==="show"&&(r.cssClip(O.clip),V&&V.css(t.effects.clipToBox(O)),O.clip=T),V&&V.animate(t.effects.clipToBox(O),e.duration,e.easing),r.animate(O,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var pe=t.effects.define("bounce",function(e,i){var n,r,c,T=t(this),O=e.mode,V=O==="hide",ee=O==="show",Ee=e.direction||"up",we=e.distance,Re=e.times||5,Ne=Re*2+(ee||V?1:0),be=e.duration/Ne,Ae=e.easing,Ue=Ee==="up"||Ee==="down"?"top":"left",We=Ee==="up"||Ee==="left",st=0,dt=T.queue().length;for(t.effects.createPlaceholder(T),c=T.css(Ue),we||(we=T[Ue==="top"?"outerHeight":"outerWidth"]()/3),ee&&(r={opacity:1},r[Ue]=c,T.css("opacity",0).css(Ue,We?-we*2:we*2).animate(r,be,Ae)),V&&(we=we/Math.pow(2,Re-1)),r={},r[Ue]=c;st<Re;st++)n={},n[Ue]=(We?"-=":"+=")+we,T.animate(n,be,Ae).animate(r,be,Ae),we=V?we*2:we/2;V&&(n={opacity:0},n[Ue]=(We?"-=":"+=")+we,T.animate(n,be,Ae)),T.queue(i),t.effects.unshift(T,dt,Ne+1)});var K=t.effects.define("clip","hide",function(e,i){var n,r={},c=t(this),T=e.direction||"vertical",O=T==="both",V=O||T==="horizontal",ee=O||T==="vertical";n=c.cssClip(),r.clip={top:ee?(n.bottom-n.top)/2:n.top,right:V?(n.right-n.left)/2:n.right,bottom:ee?(n.bottom-n.top)/2:n.bottom,left:V?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(c),e.mode==="show"&&(c.cssClip(r.clip),r.clip=n),c.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var de=t.effects.define("drop","hide",function(e,i){var n,r=t(this),c=e.mode,T=c==="show",O=e.direction||"left",V=O==="up"||O==="down"?"top":"left",ee=O==="up"||O==="left"?"-=":"+=",Ee=ee==="+="?"-=":"+=",we={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r[V==="top"?"outerHeight":"outerWidth"](!0)/2,we[V]=ee+n,T&&(r.css(we),we[V]=Ee+n,we.opacity=1),r.animate(we,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var fe=t.effects.define("explode","hide",function(e,i){var n,r,c,T,O,V,ee=e.pieces?Math.round(Math.sqrt(e.pieces)):3,Ee=ee,we=t(this),Re=e.mode,Ne=Re==="show",be=we.show().css("visibility","hidden").offset(),Ae=Math.ceil(we.outerWidth()/Ee),Ue=Math.ceil(we.outerHeight()/ee),We=[];function st(){We.push(this),We.length===ee*Ee&&dt()}for(n=0;n<ee;n++)for(T=be.top+n*Ue,V=n-(ee-1)/2,r=0;r<Ee;r++)c=be.left+r*Ae,O=r-(Ee-1)/2,we.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*Ae,top:-n*Ue}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:Ae,height:Ue,left:c+(Ne?O*Ae:0),top:T+(Ne?V*Ue:0),opacity:Ne?0:1}).animate({left:c+(Ne?0:O*Ae),top:T+(Ne?0:V*Ue),opacity:Ne?1:0},e.duration||500,e.easing,st);function dt(){we.css({visibility:"visible"}),t(We).remove(),i()}});var re=t.effects.define("fade","toggle",function(e,i){var n=e.mode==="show";t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var ge=t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,c=r==="show",T=r==="hide",O=e.size||15,V=/([0-9]+)%/.exec(O),ee=!!e.horizFirst,Ee=ee?["right","bottom"]:["bottom","right"],we=e.duration/2,Re=t.effects.createPlaceholder(n),Ne=n.cssClip(),be={clip:t.extend({},Ne)},Ae={clip:t.extend({},Ne)},Ue=[Ne[Ee[0]],Ne[Ee[1]]],We=n.queue().length;V&&(O=parseInt(V[1],10)/100*Ue[T?0:1]),be.clip[Ee[0]]=O,Ae.clip[Ee[0]]=O,Ae.clip[Ee[1]]=0,c&&(n.cssClip(Ae.clip),Re&&Re.css(t.effects.clipToBox(Ae)),Ae.clip=Ne),n.queue(function(st){Re&&Re.animate(t.effects.clipToBox(be),we,e.easing).animate(t.effects.clipToBox(Ae),we,e.easing),st()}).animate(be,we,e.easing).animate(Ae,we,e.easing).queue(i),t.effects.unshift(n,We,4)});var _e=t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};e.mode==="hide"&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var W=t.effects.define("size",function(e,i){var n,r,c,T=t(this),O=["fontSize"],V=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],ee=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Ee=e.mode,we=Ee!=="effect",Re=e.scale||"both",Ne=e.origin||["middle","center"],be=T.css("position"),Ae=T.position(),Ue=t.effects.scaledDimensions(T),We=e.from||Ue,st=e.to||t.effects.scaledDimensions(T,0);t.effects.createPlaceholder(T),Ee==="show"&&(c=We,We=st,st=c),r={from:{y:We.height/Ue.height,x:We.width/Ue.width},to:{y:st.height/Ue.height,x:st.width/Ue.width}},(Re==="box"||Re==="both")&&(r.from.y!==r.to.y&&(We=t.effects.setTransition(T,V,r.from.y,We),st=t.effects.setTransition(T,V,r.to.y,st)),r.from.x!==r.to.x&&(We=t.effects.setTransition(T,ee,r.from.x,We),st=t.effects.setTransition(T,ee,r.to.x,st))),(Re==="content"||Re==="both")&&r.from.y!==r.to.y&&(We=t.effects.setTransition(T,O,r.from.y,We),st=t.effects.setTransition(T,O,r.to.y,st)),Ne&&(n=t.effects.getBaseline(Ne,Ue),We.top=(Ue.outerHeight-We.outerHeight)*n.y+Ae.top,We.left=(Ue.outerWidth-We.outerWidth)*n.x+Ae.left,st.top=(Ue.outerHeight-st.outerHeight)*n.y+Ae.top,st.left=(Ue.outerWidth-st.outerWidth)*n.x+Ae.left),delete We.outerHeight,delete We.outerWidth,T.css(We),(Re==="content"||Re==="both")&&(V=V.concat(["marginTop","marginBottom"]).concat(O),ee=ee.concat(["marginLeft","marginRight"]),T.find("*[width]").each(function(){var dt=t(this),yt=t.effects.scaledDimensions(dt),Et={height:yt.height*r.from.y,width:yt.width*r.from.x,outerHeight:yt.outerHeight*r.from.y,outerWidth:yt.outerWidth*r.from.x},Tt={height:yt.height*r.to.y,width:yt.width*r.to.x,outerHeight:yt.height*r.to.y,outerWidth:yt.width*r.to.x};r.from.y!==r.to.y&&(Et=t.effects.setTransition(dt,V,r.from.y,Et),Tt=t.effects.setTransition(dt,V,r.to.y,Tt)),r.from.x!==r.to.x&&(Et=t.effects.setTransition(dt,ee,r.from.x,Et),Tt=t.effects.setTransition(dt,ee,r.to.x,Tt)),we&&t.effects.saveStyle(dt),dt.css(Et),dt.animate(Tt,e.duration,e.easing,function(){we&&t.effects.restoreStyle(dt)})})),T.animate(st,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var dt=T.offset();st.opacity===0&&T.css("opacity",We.opacity),we||(T.css("position",be==="static"?"relative":be).offset(dt),t.effects.saveStyle(T)),i()}})});var ae=t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,c=parseInt(e.percent,10)||(parseInt(e.percent,10)===0||r!=="effect"?0:100),T=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,c,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(T.from.opacity=1,T.to.opacity=0),t.effects.effect.size.call(this,T,i)});var me=t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)});var Te=t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,c=r==="show",T=r==="hide",O=c||T,V=(e.times||5)*2+(O?1:0),ee=e.duration/V,Ee=0,we=1,Re=n.queue().length;for((c||!n.is(":visible"))&&(n.css("opacity",0).show(),Ee=1);we<V;we++)n.animate({opacity:Ee},ee,e.easing),Ee=1-Ee;n.animate({opacity:Ee},ee,e.easing),n.queue(i),t.effects.unshift(n,Re,V+1)});var te=t.effects.define("shake",function(e,i){var n=1,r=t(this),c=e.direction||"left",T=e.distance||20,O=e.times||3,V=O*2+1,ee=Math.round(e.duration/V),Ee=c==="up"||c==="down"?"top":"left",we=c==="up"||c==="left",Re={},Ne={},be={},Ae=r.queue().length;for(t.effects.createPlaceholder(r),Re[Ee]=(we?"-=":"+=")+T,Ne[Ee]=(we?"+=":"-=")+T*2,be[Ee]=(we?"-=":"+=")+T*2,r.animate(Re,ee,e.easing);n<O;n++)r.animate(Ne,ee,e.easing).animate(be,ee,e.easing);r.animate(Ne,ee,e.easing).animate(Re,ee/2,e.easing).queue(i),t.effects.unshift(r,Ae,V+1)});var ue=t.effects.define("slide","show",function(e,i){var n,r,c=t(this),T={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},O=e.mode,V=e.direction||"left",ee=V==="up"||V==="down"?"top":"left",Ee=V==="up"||V==="left",we=e.distance||c[ee==="top"?"outerHeight":"outerWidth"](!0),Re={};t.effects.createPlaceholder(c),n=c.cssClip(),r=c.position()[ee],Re[ee]=(Ee?-1:1)*we+r,Re.clip=c.cssClip(),Re.clip[T[V][1]]=Re.clip[T[V][0]],O==="show"&&(c.cssClip(Re.clip),c.css(ee,Re[ee]),Re.clip=n,Re[ee]=r),c.animate(Re,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var ne;t.uiBackCompat!==!1&&(ne=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)}));var ve=ne;t.ui.focusable=function(e,i){var n,r,c,T,O,V=e.nodeName.toLowerCase();return V==="area"?(n=e.parentNode,r=n.name,!e.href||!r||n.nodeName.toLowerCase()!=="map"?!1:(c=t("img[usemap='#"+r+"']"),c.length>0&&c.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(V)?(T=!e.disabled,T&&(O=t(e).closest("fieldset")[0],O&&(T=!O.disabled))):V==="a"?T=e.href||i:T=i,T&&t(e).is(":visible")&&ye(t(e)))};function ye(e){for(var i=e.css("visibility");i==="inherit";)e=e.parent(),i=e.css("visibility");return i==="visible"}t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,t.attr(e,"tabindex")!=null)}});var se=t.ui.focusable,Ie=t.fn._form=function(){return typeof this[0].form=="string"?this.closest("form"):t(this[0].form)};var x=t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element._form(),!!this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(!!this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(t.expr.pseudos||(t.expr.pseudos=t.expr[":"]),t.uniqueSort||(t.uniqueSort=t.unique),!t.escapeSelector){var q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,P=function(e,i){return i?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};t.escapeSelector=function(e){return(e+"").replace(q,P)}}(!t.fn.even||!t.fn.odd)&&t.fn.extend({even:function(){return this.filter(function(e){return e%2==0})},odd:function(){return this.filter(function(e){return e%2==1})}});var N=t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var Q=t.fn.labels=function(){var e,i,n,r,c;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),c=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.escapeSelector(n)+"']",r=r.add(c.find(i).addBack(i))),this.pushStack(r)):this.pushStack([])};var z=t.fn.scrollParent=function(e){var i=this.css("position"),n=i==="absolute",r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,c=this.parents().filter(function(){var T=t(this);return n&&T.css("position")==="static"?!1:r.test(T.css("overflow")+T.css("overflow-y")+T.css("overflow-x"))}).eq(0);return i==="fixed"||!c.length?t(this[0].ownerDocument||document):c};var oe=t.extend(t.expr.pseudos,{tabbable:function(e){var i=t.attr(e,"tabindex"),n=i!=null;return(!n||i>=0)&&t.ui.focusable(e,n)}});var he=t.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var d=t.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(e){return e.find("> li > :first-child").add(e.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(e.active===!1||e.active==null)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&e.css("height","")},_setOption:function(e,i){if(e==="active"){this._activate(i);return}e==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(i)),this._super(e,i),e==="collapsible"&&!i&&this.options.active===!1&&this._activate(0),e==="icons"&&(this._destroyIcons(),i&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!(e.altKey||e.ctrlKey)){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),c=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:c=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:c=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:c=this.headers[0];break;case i.END:c=this.headers[n-1];break}c&&(t(e.target).attr("tabIndex",-1),t(c).attr("tabIndex",0),t(c).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,i=this.panels;typeof this.options.header=="function"?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),i&&(this._off(e.not(this.headers)),this._off(i.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var c=t(this),T=c.uniqueId().attr("id"),O=c.next(),V=O.uniqueId().attr("id");c.attr("aria-controls",V),O.attr("aria-labelledby",T)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),n==="fill"?(e=r.height(),this.element.siblings(":visible").each(function(){var c=t(this),T=c.css("position");T==="absolute"||T==="fixed"||(e-=c.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):n==="auto"&&(e=0,this.headers.next().each(function(){var c=t(this).is(":visible");c||t(this).show(),e=Math.max(e,t(this).css("height","").height()),c||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,c=this.active,T=t(e.currentTarget),O=T[0]===c[0],V=O&&r.collapsible,ee=V?t():T.next(),Ee=c.next(),we={oldHeader:c,oldPanel:Ee,newHeader:V?t():T,newPanel:ee};e.preventDefault(),!(O&&!r.collapsible||this._trigger("beforeActivate",e,we)===!1)&&(r.active=V?!1:this.headers.index(T),this.active=O?t():T,this._toggle(we),this._removeClass(c,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=c.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),O||(this._removeClass(T,"ui-accordion-header-collapsed")._addClass(T,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=T.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(T.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return parseInt(t(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,n){var r,c,T,O=this,V=0,ee=e.css("box-sizing"),Ee=e.length&&(!i.length||e.index()<i.index()),we=this.options.animate||{},Re=Ee&&we.down||we,Ne=function(){O._toggleComplete(n)};if(typeof Re=="number"&&(T=Re),typeof Re=="string"&&(c=Re),c=c||Re.easing||we.easing,T=T||Re.duration||we.duration,!i.length)return e.animate(this.showProps,T,c,Ne);if(!e.length)return i.animate(this.hideProps,T,c,Ne);r=e.show().outerHeight(),i.animate(this.hideProps,{duration:T,easing:c,step:function(be,Ae){Ae.now=Math.round(be)}}),e.hide().animate(this.showProps,{duration:T,easing:c,complete:Ne,step:function(be,Ae){Ae.now=Math.round(be),Ae.prop!=="height"?ee==="content-box"&&(V+=Ae.now):O.options.heightStyle!=="content"&&(Ae.now=Math.round(r-i.outerHeight()-V),V=0)}})},_toggleComplete:function(e){var i=e.oldPanel,n=i.prev();this._removeClass(i,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),i.length&&(i.parent()[0].className=i.parent()[0].className),this._trigger("activate",null,e)}}),C=t.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch{i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i};var F=t.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,i){var n=this.active||this._menuItems().first();i||this.focus(e,n)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){if(!this.previousFilter&&!(e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y)){this.lastMousePosition={x:e.clientX,y:e.clientY};var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(n.is(".ui-state-active")||(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n)))}},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var n=t(this);n.data("ui-menu-submenu-caret")&&n.remove()})},_keydown:function(e){var i,n,r,c,T=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:T=!1,n=this.previousFilter||"",c=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?c=!0:r=n+r,i=this._filterMenuItems(r),i=c&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}T&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i,n,r,c,T=this,O=this.options.icons.submenu,V=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=V.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var ee=t(this),Ee=ee.prev(),we=t("<span>").data("ui-menu-submenu-caret",!0);T._addClass(we,"ui-menu-icon","ui-icon "+O),Ee.attr("aria-haspopup","true").prepend(we),ee.attr("aria-labelledby",Ee.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=V.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var ee=t(this);T._isDivider(ee)&&T._addClass(ee,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),c=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(c,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,i){if(e==="icons"){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,i.submenu)}this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,i){var n,r,c;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(i),this.active=i.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),c=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(c,null,"ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=i.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=i.parent(),this._trigger("focus",e,{item:i})},_scrollIntoView:function(e){var i,n,r,c,T,O;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,c=this.activeMenu.scrollTop(),T=this.activeMenu.height(),O=e.outerHeight(),r<0?this.activeMenu.scrollTop(c+r):r+O>T&&this.activeMenu.scrollTop(c+r-T+O))},blur:function(e,i){i||clearTimeout(this.timer),!!this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),e.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},i?0:this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var i=this.active&&this.active.parent().closest(".ui-menu-item",this.element);i&&i.length&&(this._close(),this.focus(e,i))},expand:function(e){var i=this.active&&this._menuItems(this.active.children(".ui-menu")).first();i&&i.length&&(this._open(i.parent()),this._delay(function(){this.focus(e,i)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,i,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").last():r=this.active[e+"All"](".ui-menu-item").first()),(!r||!r.length||!this.active)&&(r=this._menuItems(this.activeMenu)[i]()),this.focus(n,r)},nextPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active){this.next(e);return}this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.innerHeight(),t.fn.jquery.indexOf("3.2.")===0&&(r+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this._menuItems(this.activeMenu).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(String.prototype.trim.call(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),c=r==="textarea",T=r==="input";this.isMultiLine=c||!T&&this._isContentEditable(this.element),this.valueMethod=this.element[c||T?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(O){if(this.element.prop("readOnly")){e=!0,n=!0,i=!0;return}e=!1,n=!1,i=!1;var V=t.ui.keyCode;switch(O.keyCode){case V.PAGE_UP:e=!0,this._move("previousPage",O);break;case V.PAGE_DOWN:e=!0,this._move("nextPage",O);break;case V.UP:e=!0,this._keyEvent("previous",O);break;case V.DOWN:e=!0,this._keyEvent("next",O);break;case V.ENTER:this.menu.active&&(e=!0,O.preventDefault(),this.menu.select(O));break;case V.TAB:this.menu.active&&this.menu.select(O);break;case V.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(O),O.preventDefault());break;default:i=!0,this._searchTimeout(O);break}},keypress:function(O){if(e){e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&O.preventDefault();return}if(!i){var V=t.ui.keyCode;switch(O.keyCode){case V.PAGE_UP:this._move("previousPage",O);break;case V.PAGE_DOWN:this._move("nextPage",O);break;case V.UP:this._keyEvent("previous",O);break;case V.DOWN:this._keyEvent("next",O);break}}},input:function(O){if(n){n=!1,O.preventDefault();return}this._searchTimeout(O)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(O){clearTimeout(this.searching),this.close(O),this._change(O)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(O){O.preventDefault()},menufocus:function(O,V){var ee,Ee;if(this.isNewMenu&&(this.isNewMenu=!1,O.originalEvent&&/^mouse/.test(O.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){t(O.target).trigger(O.originalEvent)});return}Ee=V.item.data("ui-autocomplete-item"),this._trigger("focus",O,{item:Ee})!==!1&&O.originalEvent&&/^key/.test(O.originalEvent.type)&&this._value(Ee.value),ee=V.item.attr("aria-label")||Ee.value,ee&&String.prototype.trim.call(ee).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(ee))},100))},menuselect:function(O,V){var ee=V.item.data("ui-autocomplete-item"),Ee=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=Ee,this._delay(function(){this.previous=Ee,this.selectedItem=ee})),this._trigger("select",O,{item:ee})!==!1&&this._value(ee.value),this.term=this._value(),this.close(O),this.selectedItem=ee}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,i){this._super(e,i),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&i&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;Array.isArray(this.options.source)?(e=this.options.source,this.source=function(r,c){c(t.ui.autocomplete.filter(e,r.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,c){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:r,dataType:"json",success:function(T){c(T)},error:function(){c([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var i=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!i||i&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,i){if(e=e??this._value(),this.term=this._value(),e.length<this.options.minLength)return this.close(i);if(this._trigger("search",i)!==!1)return this._search(e)},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(i){e===this.requestIndex&&this.__response(i),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(i){return typeof i=="string"?{label:i,value:i}:t.extend({},i,{label:i.label||i.value,value:i.value||i.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(r,c){n._renderItemData(e,c)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-autocomplete-item",i)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(e,i){if(!this.menu.element.is(":visible")){this.search(null,i);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term),this.menu.blur();return}this.menu[e](i)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,i){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,i),i.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var i=e.prop("contentEditable");return i==="inherit"?this._isContentEditable(e.parent()):i==="true"}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(r){return n.test(r.label||r.value||r)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(e&&e.length?i=this.options.messages.results(e.length):i=this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(t("<div>").text(i))},100))}});var H=t.ui.autocomplete;var Y=/ui-corner-([a-z]){2,6}/g,ce=t.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){var c,T={};if(!!r){if(n==="controlgroupLabel"){c=e.element.find(r),c.each(function(){var O=t(this);O.children(".ui-controlgroup-label-contents").length||O.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(c,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(c.get());return}!t.fn[n]||(e["_"+n+"Options"]?T=e["_"+n+"Options"]("middle"):T={classes:{}},e.element.find(r).each(function(){var O=t(this),V=O[n]("instance"),ee=t.widget.extend({},T);if(!(n==="button"&&O.parent(".ui-spinner").length)){V||(V=O[n]()[n]("instance")),V&&(ee.classes=e._resolveClassesValues(ee.classes,V)),O[n](ee);var Ee=O[n]("widget");t.data(Ee[0],"ui-controlgroup-data",V||O[n]("instance")),i.push(Ee[0])}}))}}),this.childWidgets=t(t.uniqueSort(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(e,i){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(i,"label").classes.label;this._removeClass(e,null,n),this._addClass(e,null,r)},_buildSimpleOptions:function(e,i){var n=this.options.direction==="vertical",r={classes:{}};return r.classes[i]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var i=this._buildSimpleOptions(e,"ui-spinner");return i.classes["ui-spinner-up"]="",i.classes["ui-spinner-down"]="",i},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var i=this.options.direction==="vertical";return{width:i?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(i?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(i?"top":"left")},last:{"ui-selectmenu-button-open":i?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(i?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var c=i.options.classes[r]||"";c=String.prototype.trim.call(c.replace(Y,"")),n[r]=(c+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(e,i){if(e==="direction"&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,i),e==="disabled"){this._callChildMethod(i?"disable":"enable");return}this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),this.options.direction==="horizontal"&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(n,r){var c=e[r]().data("ui-controlgroup-data");if(c&&i["_"+c.widgetName+"Options"]){var T=i["_"+c.widgetName+"Options"](e.length===1?"only":r);T.classes=i._resolveClassesValues(T.classes,c),c.element[c.widgetName](T)}else i._updateCornerClass(e[r](),r)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",n=this.label.contents().not(this.element[0]),n.length&&(this.originalLabel+=n.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,e!=null&&(r.disabled=e),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),this.type==="radio"&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,(e!=="input"||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.escapeSelector(i)+"']";return i?(this.form.length?e=t(this.form[0].elements).filter(n):e=t(n).filter(function(){return t(this)._form().length===0}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&this.type==="checkbox"&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),this.type==="radio"&&this._getRadioGroup().each(function(){var i=t(this).checkboxradio("instance");i&&i._removeClass(i.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,i){if(!(e==="label"&&!i)){if(this._super(e,i),e==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",i),this.element[0].disabled=i;return}this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),this.type==="checkbox"?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==void 0&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,i=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.label!==null&&this._updateLabel(),i!==this.options.disabled&&this._setOptions({disabled:i})}}]);var xe=t.ui.checkboxradio;t.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,i=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,e!=null&&(i.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),this.options.disabled==null&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n=e!=="iconPosition",r=n?this.options.iconPosition:i,c=r==="top"||r==="bottom";this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),c?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var i=e.showLabel===void 0?this.options.showLabel:e.showLabel,n=e.icon===void 0?this.options.icon:e.icon;!i&&!n&&(e.showLabel=!0),this._super(e)},_setOption:function(e,i){e==="icon"&&(i?this._updateIcon(e,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),e==="iconPosition"&&this._updateIcon(e,i),e==="showLabel"&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),e==="label"&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,i),e==="disabled"&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)?this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"):this.options.icon&&(this.options.icons.primary=this.options.icon),this._super()},_setOption:function(e,i){if(e==="text"){this._super("showLabel",i);return}e==="showLabel"&&(this.options.text=i),e==="icon"&&(this.options.icons.primary=i),e==="icons"&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(i){var n=typeof i=="string",r=Array.prototype.slice.call(arguments,1),c=this;return n?!this.length&&i==="instance"?c=void 0:this.each(function(){var T,O=t(this).attr("type"),V=O!=="checkbox"&&O!=="radio"?"button":"checkboxradio",ee=t.data(this,"ui-"+V);if(i==="instance")return c=ee,!1;if(!ee)return t.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'");if(typeof ee[i]!="function"||i.charAt(0)==="_")return t.error("no such method '"+i+"' for button widget instance");if(T=ee[i].apply(ee,r),T!==ee&&T!==void 0)return c=T&&T.jquery?c.pushStack(T.get()):T,!1}):(r.length&&(i=t.widget.extend.apply(null,[i].concat(r))),this.each(function(){var T=t(this).attr("type"),O=T!=="checkbox"&&T!=="radio"?"button":"checkboxradio",V=t.data(this,"ui-"+O);if(V)V.option(i||{}),V._init&&V._init();else{if(O==="button"){e.call(t(this),i);return}t(this).checkboxradio(t.extend({icon:!1},i))}})),c}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):arguments[0]==="option"&&arguments[1]==="items"?this.controlgroup.apply(this,[arguments[0],"items.button"]):(typeof arguments[0]=="object"&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var Se=t.ui.button;t.extend(t.ui,{datepicker:{version:"1.13.2"}});var Pe;function Oe(e){for(var i,n;e.length&&e[0]!==document;){if(i=e.css("position"),(i==="absolute"||i==="relative"||i==="fixed")&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&n!==0))return n;e=e.parent()}return 0}function Fe(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=Ke(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(Fe.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return ke(this._defaults,e||{}),this},_attachDatepicker:function(e,i){var n,r,c;n=e.nodeName.toLowerCase(),r=n==="div"||n==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),c=this._newInst(t(e),r),c.settings=t.extend({},i||{}),n==="input"?this._connectDatepicker(e,c):r&&this._inlineDatepicker(e,c)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?Ke(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),!n.hasClass(this.markerClassName)&&(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,c,T=this._get(i,"appendText"),O=this._get(i,"isRTL");i.append&&i.append.remove(),T&&(i.append=t("<span>").addClass(this._appendClass).text(T),e[O?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),(n==="focus"||n==="both")&&e.on("focus",this._showDatepicker),(n==="button"||n==="both")&&(r=this._get(i,"buttonText"),c=this._get(i,"buttonImage"),this._get(i,"buttonImageOnly")?i.trigger=t("<img>").addClass(this._triggerClass).attr({src:c,alt:r,title:r}):(i.trigger=t("<button type='button'>").addClass(this._triggerClass),c?i.trigger.html(t("<img>").attr({src:c,alt:r,title:r})):i.trigger.text(r)),e[O?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var i,n,r,c,T=new Date(2009,12-1,20),O=this._get(e,"dateFormat");O.match(/[DM]/)&&(i=function(V){for(n=0,r=0,c=0;c<V.length;c++)V[c].length>n&&(n=V[c].length,r=c);return r},T.setMonth(i(this._get(e,O.match(/MM/)?"monthNames":"monthNamesShort"))),T.setDate(i(this._get(e,O.match(/DD/)?"dayNames":"dayNamesShort"))+20-T.getDay())),e.input.attr("size",this._formatDate(e,T).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,c){var T,O,V,ee,Ee,we=this._dialogInst;return we||(this.uuid+=1,T="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+T+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),we=this._dialogInst=this._newInst(this._dialogInput,!1),we.settings={},t.data(this._dialogInput[0],"datepicker",we)),ke(we.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(we,i):i,this._dialogInput.val(i),this._pos=c?c.length?c:[c.pageX,c.pageY]:null,this._pos||(O=document.documentElement.clientWidth,V=document.documentElement.clientHeight,ee=document.documentElement.scrollLeft||document.body.scrollLeft,Ee=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[O/2-100+ee,V/2-150+Ee]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),we.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",we),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");!n.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),i==="input"?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):(i==="div"||i==="span")&&n.removeClass(this.markerClassName).empty(),Pe===r&&(Pe=null,this._curInst=null))},_enableDatepicker:function(e){var i,n,r=t(e),c=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(T){return T===e?null:T}))},_disableDatepicker:function(e){var i,n,r=t(e),c=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||(i=e.nodeName.toLowerCase(),i==="input"?(e.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i==="div"||i==="span")&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(T){return T===e?null:T}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===e)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch{throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,c,T,O,V=this._getInst(e);if(arguments.length===2&&typeof i=="string")return i==="defaults"?t.extend({},t.datepicker._defaults):V?i==="all"?t.extend({},V.settings):this._get(V,i):null;r=i||{},typeof i=="string"&&(r={},r[i]=n),V&&(this._curInst===V&&this._hideDatepicker(),c=this._getDateDatepicker(e,!0),T=this._getMinMaxDate(V,"min"),O=this._getMinMaxDate(V,"max"),ke(V.settings,r),T!==null&&r.dateFormat!==void 0&&r.minDate===void 0&&(V.settings.minDate=this._formatDate(V,T)),O!==null&&r.dateFormat!==void 0&&r.maxDate===void 0&&(V.settings.maxDate=this._formatDate(V,O)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),V),this._autoSize(V),this._setDate(V,c),this._updateAlternate(V),this._updateDatepicker(V))},_changeDatepicker:function(e,i,n){this._optionDatepicker(e,i,n)},_refreshDatepicker:function(e){var i=this._getInst(e);i&&this._updateDatepicker(i)},_setDateDatepicker:function(e,i){var n=this._getInst(e);n&&(this._setDate(n,i),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,i){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,i),n?this._getDate(n):null},_doKeyDown:function(e){var i,n,r,c=t.datepicker._getInst(e.target),T=!0,O=c.dpDiv.is(".ui-datepicker-rtl");if(c._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),T=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",c.dpDiv),r[0]&&t.datepicker._selectDay(e.target,c.selectedMonth,c.selectedYear,r[0]),i=t.datepicker._get(c,"onSelect"),i?(n=t.datepicker._formatDate(c),i.apply(c.input?c.input[0]:null,[n,c])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(c,"stepBigMonths"):-t.datepicker._get(c,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(c,"stepBigMonths"):+t.datepicker._get(c,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),T=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),T=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,O?1:-1,"D"),T=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(c,"stepBigMonths"):-t.datepicker._get(c,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),T=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,O?-1:1,"D"),T=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(c,"stepBigMonths"):+t.datepicker._get(c,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),T=e.ctrlKey||e.metaKey;break;default:T=!1}else e.keyCode===36&&e.ctrlKey?t.datepicker._showDatepicker(this):T=!1;T&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch{}return!0},_showDatepicker:function(e){if(e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=t("input",e.parentNode)[0]),!(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)){var i,n,r,c,T,O,V;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),r=n?n.apply(e,[e,i]):{},r!==!1&&(ke(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),c=!1,t(e).parents().each(function(){return c|=t(this).css("position")==="fixed",!c}),T={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),T=t.datepicker._checkOffset(i,T,c),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":c?"fixed":"absolute",display:"none",left:T.left+"px",top:T.top+"px"}),i.inline||(O=t.datepicker._get(i,"showAnim"),V=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",Oe(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[O]?i.dpDiv.show(O,t.datepicker._get(i,"showOptions"),V):i.dpDiv[O||"show"](O?V:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,Pe=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],c=17,T=e.dpDiv.find("."+this._dayOverClass+" a"),O=t.datepicker._get(e,"onUpdateDatepicker");T.length>0&&rt.apply(T.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",c*r+"em"),e.dpDiv[(n[0]!==1||n[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year").first().replaceWith(e.yearshtml),i=e.yearshtml=null},0)),O&&O.apply(e.input?e.input[0]:null,[e])},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),c=e.dpDiv.outerHeight(),T=e.input?e.input.outerWidth():0,O=e.input?e.input.outerHeight():0,V=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),ee=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-T:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+O?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>V&&V>r?Math.abs(i.left+r-V):0),i.top-=Math.min(i.top,i.top+c>ee&&ee>c?Math.abs(c+O):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&(e.type==="hidden"||e.nodeType!==1||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,c,T=this._curInst;!T||e&&T!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(T,"showAnim"),n=this._get(T,"duration"),r=function(){t.datepicker._tidyDialog(T)},t.effects&&(t.effects.effect[i]||t.effects[i])?T.dpDiv.hide(i,t.datepicker._get(T,"showOptions"),n,r):T.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,c=this._get(T,"onClose"),c&&c.apply(T.input?T.input[0]:null,[T.input?T.input.val():"",T]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!!t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&i.parents("#"+t.datepicker._mainDivId).length===0&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),c=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(c,i,n),this._updateDatepicker(c))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),c=this._getInst(r[0]);c["selected"+(n==="M"?"Month":"Year")]=c["draw"+(n==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(c),this._adjustDate(r)},_selectDay:function(e,i,n,r){var c,T=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(T[0])||(c=this._getInst(T[0]),c.selectedDay=c.currentDay=parseInt(t("a",r).attr("data-date")),c.selectedMonth=c.currentMonth=i,c.selectedYear=c.currentYear=n,this._selectDate(e,this._formatDate(c,c.currentDay,c.currentMonth,c.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),c=this._getInst(r[0]);i=i??this._formatDate(c),c.input&&c.input.val(i),this._updateAlternate(c),n=this._get(c,"onSelect"),n?n.apply(c.input?c.input[0]:null,[i,c]):c.input&&c.input.trigger("change"),c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],typeof c.input[0]!="object"&&c.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,c=this._get(e,"altField");c&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(document).find(c).val(r))},noWeekends:function(e){var i=e.getDay();return[i>0&&i<6,""]},iso8601Week:function(e){var i,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),i=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n)/864e5)/7)+1},parseDate:function(e,i,n){if(e==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;var r,c,T,O=0,V=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,ee=typeof V!="string"?V:new Date().getFullYear()%100+parseInt(V,10),Ee=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,we=(n?n.dayNames:null)||this._defaults.dayNames,Re=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,Ne=(n?n.monthNames:null)||this._defaults.monthNames,be=-1,Ae=-1,Ue=-1,We=-1,st=!1,dt,yt=function(Ve){var ut=r+1<e.length&&e.charAt(r+1)===Ve;return ut&&r++,ut},Et=function(Ve){var ut=yt(Ve),ht=Ve==="@"?14:Ve==="!"?20:Ve==="y"&&ut?4:Ve==="o"?3:2,It=Ve==="y"?ht:1,bt=new RegExp("^\\d{"+It+","+ht+"}"),Dt=i.substring(O).match(bt);if(!Dt)throw"Missing number at position "+O;return O+=Dt[0].length,parseInt(Dt[0],10)},Tt=function(Ve,ut,ht){var It=-1,bt=t.map(yt(Ve)?ht:ut,function(Dt,Ct){return[[Ct,Dt]]}).sort(function(Dt,Ct){return-(Dt[1].length-Ct[1].length)});if(t.each(bt,function(Dt,Ct){var xt=Ct[1];if(i.substr(O,xt.length).toLowerCase()===xt.toLowerCase())return It=Ct[0],O+=xt.length,!1}),It!==-1)return It+1;throw"Unknown name at position "+O},_t=function(){if(i.charAt(O)!==e.charAt(r))throw"Unexpected literal at position "+O;O++};for(r=0;r<e.length;r++)if(st)e.charAt(r)==="'"&&!yt("'")?st=!1:_t();else switch(e.charAt(r)){case"d":Ue=Et("d");break;case"D":Tt("D",Ee,we);break;case"o":We=Et("o");break;case"m":Ae=Et("m");break;case"M":Ae=Tt("M",Re,Ne);break;case"y":be=Et("y");break;case"@":dt=new Date(Et("@")),be=dt.getFullYear(),Ae=dt.getMonth()+1,Ue=dt.getDate();break;case"!":dt=new Date((Et("!")-this._ticksTo1970)/1e4),be=dt.getFullYear(),Ae=dt.getMonth()+1,Ue=dt.getDate();break;case"'":yt("'")?_t():st=!0;break;default:_t()}if(O<i.length&&(T=i.substr(O),!/^\s+/.test(T)))throw"Extra/unparsed characters found in date: "+T;if(be===-1?be=new Date().getFullYear():be<100&&(be+=new Date().getFullYear()-new Date().getFullYear()%100+(be<=ee?0:-100)),We>-1){Ae=1,Ue=We;do{if(c=this._getDaysInMonth(be,Ae-1),Ue<=c)break;Ae++,Ue-=c}while(!0)}if(dt=this._daylightSavingAdjust(new Date(be,Ae-1,Ue)),dt.getFullYear()!==be||dt.getMonth()+1!==Ae||dt.getDate()!==Ue)throw"Invalid date";return dt},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,i,n){if(!i)return"";var r,c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,T=(n?n.dayNames:null)||this._defaults.dayNames,O=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,V=(n?n.monthNames:null)||this._defaults.monthNames,ee=function(be){var Ae=r+1<e.length&&e.charAt(r+1)===be;return Ae&&r++,Ae},Ee=function(be,Ae,Ue){var We=""+Ae;if(ee(be))for(;We.length<Ue;)We="0"+We;return We},we=function(be,Ae,Ue,We){return ee(be)?We[Ae]:Ue[Ae]},Re="",Ne=!1;if(i)for(r=0;r<e.length;r++)if(Ne)e.charAt(r)==="'"&&!ee("'")?Ne=!1:Re+=e.charAt(r);else switch(e.charAt(r)){case"d":Re+=Ee("d",i.getDate(),2);break;case"D":Re+=we("D",i.getDay(),c,T);break;case"o":Re+=Ee("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Re+=Ee("m",i.getMonth()+1,2);break;case"M":Re+=we("M",i.getMonth(),O,V);break;case"y":Re+=ee("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":Re+=i.getTime();break;case"!":Re+=i.getTime()*1e4+this._ticksTo1970;break;case"'":ee("'")?Re+="'":Ne=!0;break;default:Re+=e.charAt(r)}return Re},_possibleChars:function(e){var i,n="",r=!1,c=function(T){var O=i+1<e.length&&e.charAt(i+1)===T;return O&&i++,O};for(i=0;i<e.length;i++)if(r)e.charAt(i)==="'"&&!c("'")?r=!1:n+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":c("'")?n+="'":r=!0;break;default:n+=e.charAt(i)}return n},_get:function(e,i){return e.settings[i]!==void 0?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,i){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,c=this._getDefaultDate(e),T=c,O=this._getFormatConfig(e);try{T=this.parseDate(n,r,O)||c}catch{r=i?"":r}e.selectedDay=T.getDate(),e.drawMonth=e.selectedMonth=T.getMonth(),e.drawYear=e.selectedYear=T.getFullYear(),e.currentDay=r?T.getDate():0,e.currentMonth=r?T.getMonth():0,e.currentYear=r?T.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(O){var V=new Date;return V.setDate(V.getDate()+O),V},c=function(O){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),O,t.datepicker._getFormatConfig(e))}catch{}for(var V=(O.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,ee=V.getFullYear(),Ee=V.getMonth(),we=V.getDate(),Re=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,Ne=Re.exec(O);Ne;){switch(Ne[2]||"d"){case"d":case"D":we+=parseInt(Ne[1],10);break;case"w":case"W":we+=parseInt(Ne[1],10)*7;break;case"m":case"M":Ee+=parseInt(Ne[1],10),we=Math.min(we,t.datepicker._getDaysInMonth(ee,Ee));break;case"y":case"Y":ee+=parseInt(Ne[1],10),we=Math.min(we,t.datepicker._getDaysInMonth(ee,Ee));break}Ne=Re.exec(O)}return new Date(ee,Ee,we)},T=i==null||i===""?n:typeof i=="string"?c(i):typeof i=="number"?isNaN(i)?n:r(i):new Date(i.getTime());return T=T&&T.toString()==="Invalid Date"?n:T,T&&(T.setHours(0),T.setMinutes(0),T.setSeconds(0),T.setMilliseconds(0)),this._daylightSavingAdjust(T)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,i,n){var r=!i,c=e.selectedMonth,T=e.selectedYear,O=this._restrictMinMax(e,this._determineDate(e,i,new Date));e.selectedDay=e.currentDay=O.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=O.getMonth(),e.drawYear=e.selectedYear=e.currentYear=O.getFullYear(),(c!==e.selectedMonth||T!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var i=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return i},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var r={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),r[this.getAttribute("data-handler")])})},_generateHTML:function(e){var i,n,r,c,T,O,V,ee,Ee,we,Re,Ne,be,Ae,Ue,We,st,dt,yt,Et,Tt,_t,Ve,ut,ht,It,bt,Dt,Ct,xt,Nt,Pt,Ft,Be,ft,ie,Me,je,Je,nt=new Date,gt=this._daylightSavingAdjust(new Date(nt.getFullYear(),nt.getMonth(),nt.getDate())),wt=this._get(e,"isRTL"),Mt=this._get(e,"showButtonPanel"),Vt=this._get(e,"hideIfNoPrevNext"),Lt=this._get(e,"navigationAsDateFormat"),Ut=this._getNumberOfMonths(e),Ci=this._get(e,"showCurrentAtPos"),ii=this._get(e,"stepMonths"),pi=Ut[0]!==1||Ut[1]!==1,ri=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),ai=this._getMinMaxDate(e,"min"),ni=this._getMinMaxDate(e,"max"),tt=e.drawMonth-Ci,At=e.drawYear;if(tt<0&&(tt+=12,At--),ni)for(i=this._daylightSavingAdjust(new Date(ni.getFullYear(),ni.getMonth()-Ut[0]*Ut[1]+1,ni.getDate())),i=ai&&i<ai?ai:i;this._daylightSavingAdjust(new Date(At,tt,1))>i;)tt--,tt<0&&(tt=11,At--);for(e.drawMonth=tt,e.drawYear=At,n=this._get(e,"prevText"),n=Lt?this.formatDate(n,this._daylightSavingAdjust(new Date(At,tt-ii,1)),this._getFormatConfig(e)):n,this._canAdjustMonth(e,-1,At,tt)?r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(wt?"e":"w")).text(n))[0].outerHTML:Vt?r="":r=t("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:n}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(wt?"e":"w")).text(n))[0].outerHTML,c=this._get(e,"nextText"),c=Lt?this.formatDate(c,this._daylightSavingAdjust(new Date(At,tt+ii,1)),this._getFormatConfig(e)):c,this._canAdjustMonth(e,1,At,tt)?T=t("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:c}).append(t("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(wt?"w":"e")).text(c))[0].outerHTML:Vt?T="":T=t("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:c}).append(t("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(wt?"w":"e")).text(c))[0].outerHTML,O=this._get(e,"currentText"),V=this._get(e,"gotoCurrent")&&e.currentDay?ri:gt,O=Lt?this.formatDate(O,V,this._getFormatConfig(e)):O,ee="",e.inline||(ee=t("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(e,"closeText"))[0].outerHTML),Ee="",Mt&&(Ee=t("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(wt?ee:"").append(this._isInRange(e,V)?t("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(O):"").append(wt?"":ee)[0].outerHTML),we=parseInt(this._get(e,"firstDay"),10),we=isNaN(we)?0:we,Re=this._get(e,"showWeek"),Ne=this._get(e,"dayNames"),be=this._get(e,"dayNamesMin"),Ae=this._get(e,"monthNames"),Ue=this._get(e,"monthNamesShort"),We=this._get(e,"beforeShowDay"),st=this._get(e,"showOtherMonths"),dt=this._get(e,"selectOtherMonths"),yt=this._getDefaultDate(e),Et="",_t=0;_t<Ut[0];_t++){for(Ve="",this.maxRows=4,ut=0;ut<Ut[1];ut++){if(ht=this._daylightSavingAdjust(new Date(At,tt,e.selectedDay)),It=" ui-corner-all",bt="",pi){if(bt+="<div class='ui-datepicker-group",Ut[1]>1)switch(ut){case 0:bt+=" ui-datepicker-group-first",It=" ui-corner-"+(wt?"right":"left");break;case Ut[1]-1:bt+=" ui-datepicker-group-last",It=" ui-corner-"+(wt?"left":"right");break;default:bt+=" ui-datepicker-group-middle",It="";break}bt+="'>"}for(bt+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+It+"'>"+(/all|left/.test(It)&&_t===0?wt?T:r:"")+(/all|right/.test(It)&&_t===0?wt?r:T:"")+this._generateMonthYearHeader(e,tt,At,ai,ni,_t>0||ut>0,Ae,Ue)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Dt=Re?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",Tt=0;Tt<7;Tt++)Ct=(Tt+we)%7,Dt+="<th scope='col'"+((Tt+we+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+Ne[Ct]+"'>"+be[Ct]+"</span></th>";for(bt+=Dt+"</tr></thead><tbody>",xt=this._getDaysInMonth(At,tt),At===e.selectedYear&&tt===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,xt)),Nt=(this._getFirstDayOfMonth(At,tt)-we+7)%7,Pt=Math.ceil((Nt+xt)/7),Ft=pi&&this.maxRows>Pt?this.maxRows:Pt,this.maxRows=Ft,Be=this._daylightSavingAdjust(new Date(At,tt,1-Nt)),ft=0;ft<Ft;ft++){for(bt+="<tr>",ie=Re?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(Be)+"</td>":"",Tt=0;Tt<7;Tt++)Me=We?We.apply(e.input?e.input[0]:null,[Be]):[!0,""],je=Be.getMonth()!==tt,Je=je&&!dt||!Me[0]||ai&&Be<ai||ni&&Be>ni,ie+="<td class='"+((Tt+we+6)%7>=5?" ui-datepicker-week-end":"")+(je?" ui-datepicker-other-month":"")+(Be.getTime()===ht.getTime()&&tt===e.selectedMonth&&e._keyEvent||yt.getTime()===Be.getTime()&&yt.getTime()===ht.getTime()?" "+this._dayOverClass:"")+(Je?" "+this._unselectableClass+" ui-state-disabled":"")+(je&&!st?"":" "+Me[1]+(Be.getTime()===ri.getTime()?" "+this._currentClass:"")+(Be.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+((!je||st)&&Me[2]?" title='"+Me[2].replace(/'/g,"&#39;")+"'":"")+(Je?"":" data-handler='selectDay' data-event='click' data-month='"+Be.getMonth()+"' data-year='"+Be.getFullYear()+"'")+">"+(je&&!st?"&#xa0;":Je?"<span class='ui-state-default'>"+Be.getDate()+"</span>":"<a class='ui-state-default"+(Be.getTime()===gt.getTime()?" ui-state-highlight":"")+(Be.getTime()===ri.getTime()?" ui-state-active":"")+(je?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Be.getTime()===ri.getTime()?"true":"false")+"' data-date='"+Be.getDate()+"'>"+Be.getDate()+"</a>")+"</td>",Be.setDate(Be.getDate()+1),Be=this._daylightSavingAdjust(Be);bt+=ie+"</tr>"}tt++,tt>11&&(tt=0,At++),bt+="</tbody></table>"+(pi?"</div>"+(Ut[0]>0&&ut===Ut[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),Ve+=bt}Et+=Ve}return Et+=Ee,e._keyEvent=!1,Et},_generateMonthYearHeader:function(e,i,n,r,c,T,O,V){var ee,Ee,we,Re,Ne,be,Ae,Ue,We=this._get(e,"changeMonth"),st=this._get(e,"changeYear"),dt=this._get(e,"showMonthAfterYear"),yt=this._get(e,"selectMonthLabel"),Et=this._get(e,"selectYearLabel"),Tt="<div class='ui-datepicker-title'>",_t="";if(T||!We)_t+="<span class='ui-datepicker-month'>"+O[i]+"</span>";else{for(ee=r&&r.getFullYear()===n,Ee=c&&c.getFullYear()===n,_t+="<select class='ui-datepicker-month' aria-label='"+yt+"' data-handler='selectMonth' data-event='change'>",we=0;we<12;we++)(!ee||we>=r.getMonth())&&(!Ee||we<=c.getMonth())&&(_t+="<option value='"+we+"'"+(we===i?" selected='selected'":"")+">"+V[we]+"</option>");_t+="</select>"}if(dt||(Tt+=_t+(T||!(We&&st)?"&#xa0;":"")),!e.yearshtml)if(e.yearshtml="",T||!st)Tt+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(Re=this._get(e,"yearRange").split(":"),Ne=new Date().getFullYear(),be=function(Ve){var ut=Ve.match(/c[+\-].*/)?n+parseInt(Ve.substring(1),10):Ve.match(/[+\-].*/)?Ne+parseInt(Ve,10):parseInt(Ve,10);return isNaN(ut)?Ne:ut},Ae=be(Re[0]),Ue=Math.max(Ae,be(Re[1]||"")),Ae=r?Math.max(Ae,r.getFullYear()):Ae,Ue=c?Math.min(Ue,c.getFullYear()):Ue,e.yearshtml+="<select class='ui-datepicker-year' aria-label='"+Et+"' data-handler='selectYear' data-event='change'>";Ae<=Ue;Ae++)e.yearshtml+="<option value='"+Ae+"'"+(Ae===n?" selected='selected'":"")+">"+Ae+"</option>";e.yearshtml+="</select>",Tt+=e.yearshtml,e.yearshtml=null}return Tt+=this._get(e,"yearSuffix"),dt&&(Tt+=(T||!(We&&st)?"&#xa0;":"")+_t),Tt+="</div>",Tt},_adjustInstDate:function(e,i,n){var r=e.selectedYear+(n==="Y"?i:0),c=e.selectedMonth+(n==="M"?i:0),T=Math.min(e.selectedDay,this._getDaysInMonth(r,c))+(n==="D"?i:0),O=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,c,T)));e.selectedDay=O.getDate(),e.drawMonth=e.selectedMonth=O.getMonth(),e.drawYear=e.selectedYear=O.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,i){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),c=n&&i<n?n:i;return r&&c>r?r:c},_notifyChange:function(e){var i=this._get(e,"onChangeMonthYear");i&&i.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var i=this._get(e,"numberOfMonths");return i==null?[1,1]:typeof i=="number"?[1,i]:i},_getMinMaxDate:function(e,i){return this._determineDate(e,this._get(e,i+"Date"),null)},_getDaysInMonth:function(e,i){return 32-this._daylightSavingAdjust(new Date(e,i,32)).getDate()},_getFirstDayOfMonth:function(e,i){return new Date(e,i,1).getDay()},_canAdjustMonth:function(e,i,n,r){var c=this._getNumberOfMonths(e),T=this._daylightSavingAdjust(new Date(n,r+(i<0?i:c[0]*c[1]),1));return i<0&&T.setDate(this._getDaysInMonth(T.getFullYear(),T.getMonth())),this._isInRange(e,T)},_isInRange:function(e,i){var n,r,c=this._getMinMaxDate(e,"min"),T=this._getMinMaxDate(e,"max"),O=null,V=null,ee=this._get(e,"yearRange");return ee&&(n=ee.split(":"),r=new Date().getFullYear(),O=parseInt(n[0],10),V=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(O+=r),n[1].match(/[+\-].*/)&&(V+=r)),(!c||i.getTime()>=c.getTime())&&(!T||i.getTime()<=T.getTime())&&(!O||i.getFullYear()>=O)&&(!V||i.getFullYear()<=V)},_getFormatConfig:function(e){var i=this._get(e,"shortYearCutoff");return i=typeof i!="string"?i:new Date().getFullYear()%100+parseInt(i,10),{shortYearCutoff:i,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,i,n,r){i||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var c=i?typeof i=="object"?i:this._daylightSavingAdjust(new Date(r,n,i)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),c,this._getFormatConfig(e))}});function Ke(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,rt)}function rt(){t.datepicker._isDisabledDatepicker(Pe.inline?Pe.dpDiv.parent()[0]:Pe.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function ke(e,i){t.extend(e,i);for(var n in i)i[n]==null&&(e[n]=i[n]);return e}t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof e=="string"&&(e==="isDisabled"||e==="getDate"||e==="widget")?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){typeof e=="string"?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})},t.datepicker=new Fe,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.13.2";var Xe=t.datepicker,Qe=t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var ze=!1;t(document).on("mouseup",function(){ze=!1});var pt=t.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(i){return e._mouseDown(i)}).on("click."+this.widgetName,function(i){if(t.data(i.target,e.widgetName+".preventClickEvent")===!0)return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!ze){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=e.which===1,r=typeof this.options.cancel=="string"&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return!n||r||!this._mouseCapture(e)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(t.data(e.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(c){return i._mouseMove(c)},this._mouseUpDelegate=function(c){return i._mouseUp(c)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),ze=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which){if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,ze=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),mt=t.ui.plugin={add:function(e,i,n){var r,c=t.ui[e].prototype;for(r in n)c.plugins[r]=c.plugins[r]||[],c.plugins[r].push([i,n[r]])},call:function(e,i,n,r){var c,T=e.plugins[i];if(!!T&&!(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)))for(c=0;c<T.length;c++)e.options[T[c][0]]&&T[c][1].apply(e.element,n)}},Ze=t.ui.safeBlur=function(e){e&&e.nodeName.toLowerCase()!=="body"&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,i){this._super(e,i),e==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)?!1:(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var i=t(this);return t("<div>").css("position","absolute").appendTo(i.parent()).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return t(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===!0||typeof this.options.revert=="function"&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function",r=n?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),i=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(i?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(i?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,c=this.document[0];if(this.relativeContainer=null,!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,t(c).width()-this.helperProportions.width-this.margins.left,(t(c).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}r.containment==="parent"&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],!!n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,i){var n,r,c,T,O=this.options,V=this._isRootNode(this.scrollParent[0]),ee=e.pageX,Ee=e.pageY;return(!V||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),i&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(ee=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(Ee=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(ee=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(Ee=n[3]+this.offset.click.top)),O.grid&&(c=O.grid[1]?this.originalPageY+Math.round((Ee-this.originalPageY)/O.grid[1])*O.grid[1]:this.originalPageY,Ee=n?c-this.offset.click.top>=n[1]||c-this.offset.click.top>n[3]?c:c-this.offset.click.top>=n[1]?c-O.grid[1]:c+O.grid[1]:c,T=O.grid[0]?this.originalPageX+Math.round((ee-this.originalPageX)/O.grid[0])*O.grid[0]:this.originalPageX,ee=n?T-this.offset.click.left>=n[0]||T-this.offset.click.left>n[2]?T:T-this.offset.click.left>=n[0]?T-O.grid[0]:T+O.grid[0]:T),O.axis==="y"&&(ee=this.originalPageX),O.axis==="x"&&(Ee=this.originalPageY)),{top:Ee-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:V?0:this.offset.scroll.top),left:ee-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:V?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var c=t(this).sortable("instance");c&&!c.options.disabled&&(n.sortables.push(c),c.refreshPositions(),c._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var c=this;c.isOver?(c.isOver=0,n.cancelHelperRemoval=!0,c.cancelHelperRemoval=!1,c._storedCSS={position:c.placeholder.css("position"),top:c.placeholder.css("top"),left:c.placeholder.css("left")},c._mouseStop(e),c.options.helper=c.options._helper):(c.cancelHelperRemoval=!0,c._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,c=this;c.positionAbs=n.positionAbs,c.helperProportions=n.helperProportions,c.offset.click=n.offset.click,c._intersectsWith(c.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==c&&this._intersectsWith(this.containerCache)&&t.contains(c.element[0],this.element[0])&&(r=!1),r})),r?(c.isOver||(c.isOver=1,n._parent=i.helper.parent(),c.currentItem=i.helper.appendTo(c.element).data("ui-sortable-item",!0),c.options._helper=c.options.helper,c.options.helper=function(){return i.helper[0]},e.target=c.currentItem[0],c._mouseCapture(e,!0),c._mouseStart(e,!0,!0),c.offset.click.top=n.offset.click.top,c.offset.click.left=n.offset.click.left,c.offset.parent.left-=n.offset.parent.left-c.offset.parent.left,c.offset.parent.top-=n.offset.parent.top-c.offset.parent.top,n._trigger("toSortable",e),n.dropped=c.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,c.fromOutside=n),c.currentItem&&(c._mouseDrag(e),i.position=c.position)):c.isOver&&(c.isOver=0,c.cancelHelperRemoval=!0,c.options._revert=c.options.revert,c.options.revert=!1,c._trigger("out",e,c._uiHash(c)),c._mouseStop(e,!0),c.options.revert=c.options._revert,c.options.helper=c.options._helper,c.placeholder&&c.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),c=n.options;r.css("cursor")&&(c._cursor=r.css("cursor")),r.css("cursor",c.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),c=n.options;r.css("opacity")&&(c._opacity=r.css("opacity")),r.css("opacity",c.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,c=!1,T=n.scrollParentNotHidden[0],O=n.document[0];T!==O&&T.tagName!=="HTML"?((!r.axis||r.axis!=="x")&&(n.overflowOffset.top+T.offsetHeight-e.pageY<r.scrollSensitivity?T.scrollTop=c=T.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(T.scrollTop=c=T.scrollTop-r.scrollSpeed)),(!r.axis||r.axis!=="y")&&(n.overflowOffset.left+T.offsetWidth-e.pageX<r.scrollSensitivity?T.scrollLeft=c=T.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(T.scrollLeft=c=T.scrollLeft-r.scrollSpeed))):((!r.axis||r.axis!=="x")&&(e.pageY-t(O).scrollTop()<r.scrollSensitivity?c=t(O).scrollTop(t(O).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(O).scrollTop())<r.scrollSensitivity&&(c=t(O).scrollTop(t(O).scrollTop()+r.scrollSpeed))),(!r.axis||r.axis!=="y")&&(e.pageX-t(O).scrollLeft()<r.scrollSensitivity?c=t(O).scrollLeft(t(O).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(O).scrollLeft())<r.scrollSensitivity&&(c=t(O).scrollLeft(t(O).scrollLeft()+r.scrollSpeed)))),c!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var c=t(this),T=c.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:T.top,left:T.left})})},drag:function(e,i,n){var r,c,T,O,V,ee,Ee,we,Re,Ne,be=n.options,Ae=be.snapTolerance,Ue=i.offset.left,We=Ue+n.helperProportions.width,st=i.offset.top,dt=st+n.helperProportions.height;for(Re=n.snapElements.length-1;Re>=0;Re--){if(V=n.snapElements[Re].left-n.margins.left,ee=V+n.snapElements[Re].width,Ee=n.snapElements[Re].top-n.margins.top,we=Ee+n.snapElements[Re].height,We<V-Ae||Ue>ee+Ae||dt<Ee-Ae||st>we+Ae||!t.contains(n.snapElements[Re].item.ownerDocument,n.snapElements[Re].item)){n.snapElements[Re].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[Re].item})),n.snapElements[Re].snapping=!1;continue}be.snapMode!=="inner"&&(r=Math.abs(Ee-dt)<=Ae,c=Math.abs(we-st)<=Ae,T=Math.abs(V-We)<=Ae,O=Math.abs(ee-Ue)<=Ae,r&&(i.position.top=n._convertPositionTo("relative",{top:Ee-n.helperProportions.height,left:0}).top),c&&(i.position.top=n._convertPositionTo("relative",{top:we,left:0}).top),T&&(i.position.left=n._convertPositionTo("relative",{top:0,left:V-n.helperProportions.width}).left),O&&(i.position.left=n._convertPositionTo("relative",{top:0,left:ee}).left)),Ne=r||c||T||O,be.snapMode!=="outer"&&(r=Math.abs(Ee-st)<=Ae,c=Math.abs(we-dt)<=Ae,T=Math.abs(V-Ue)<=Ae,O=Math.abs(ee-We)<=Ae,r&&(i.position.top=n._convertPositionTo("relative",{top:Ee,left:0}).top),c&&(i.position.top=n._convertPositionTo("relative",{top:we-n.helperProportions.height,left:0}).top),T&&(i.position.left=n._convertPositionTo("relative",{top:0,left:V}).left),O&&(i.position.left=n._convertPositionTo("relative",{top:0,left:ee-n.helperProportions.width}).left)),!n.snapElements[Re].snapping&&(r||c||T||O||Ne)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[Re].item})),n.snapElements[Re].snapping=r||c||T||O||Ne}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,c=n.options,T=t.makeArray(t(c.stack)).sort(function(O,V){return(parseInt(t(O).css("zIndex"),10)||0)-(parseInt(t(V).css("zIndex"),10)||0)});!T.length||(r=parseInt(t(T[0]).css("zIndex"),10)||0,t(T).each(function(O){t(this).css("zIndex",r+O)}),this.css("zIndex",r+T.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),c=n.options;r.css("zIndex")&&(c._zIndex=r.css("zIndex")),r.css("zIndex",c.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});var $e=t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,i){if(t(e).css("overflow")==="hidden")return!1;var n=i&&i==="left"?"scrollLeft":"scrollTop",r=!1;if(e[n]>0)return!0;try{e[n]=1,r=e[n]>0,e[n]=0}catch{}return r},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var e,i=function(n){t(n).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,i){switch(this._super(e,i),e){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i;break;default:break}},_setupHandles:function(){var e=this.options,i,n,r,c,T,O=this;if(this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this._addedHandles=t(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},n=0;n<r.length;n++)i=String.prototype.trim.call(r[n]),c="ui-resizable-"+i,T=t("<div>"),this._addClass(T,"ui-resizable-handle "+c),T.css({zIndex:e.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.children(this.handles[i]).length||(this.element.append(T),this._addedHandles=this._addedHandles.add(T));this._renderAxis=function(V){var ee,Ee,we,Re;V=V||this.element;for(ee in this.handles)this.handles[ee].constructor===String?this.handles[ee]=this.element.children(this.handles[ee]).first().show():(this.handles[ee].jquery||this.handles[ee].nodeType)&&(this.handles[ee]=t(this.handles[ee]),this._on(this.handles[ee],{mousedown:O._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(Ee=t(this.handles[ee],this.element),Re=/sw|ne|nw|se|n|s/.test(ee)?Ee.outerHeight():Ee.outerWidth(),we=["padding",/ne|nw|n/.test(ee)?"Top":/se|sw|s/.test(ee)?"Bottom":/^e$/.test(ee)?"Right":"Left"].join(""),V.css(we,Re),this._proportionallyResize()),this._handles=this._handles.add(this.handles[ee])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){O.resizing||(this.className&&(T=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),O.axis=T&&T[1]?T[1]:"se")}),e.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,c=this.options,T=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),c.containment&&(i+=t(c.containment).scrollLeft()||0,n+=t(c.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:T.width(),height:T.height()},this.originalSize=this._helper?{width:T.outerWidth(),height:T.outerHeight()}:{width:T.width(),height:T.height()},this.sizeDiff={width:T.outerWidth()-T.width(),height:T.outerHeight()-T.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=typeof c.aspectRatio=="number"?c.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",r==="auto"?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,c=this.axis,T=e.pageX-r.left||0,O=e.pageY-r.top||0,V=this._change[c];return this._updatePrevProperties(),V&&(i=V.apply(this,[e,T,O]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,c,T,O,V,ee=this.options,Ee=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:Ee.sizeDiff.height,c=n?0:Ee.sizeDiff.width,T={width:Ee.helper.width()-c,height:Ee.helper.height()-r},O=parseFloat(Ee.element.css("left"))+(Ee.position.left-Ee.originalPosition.left)||null,V=parseFloat(Ee.element.css("top"))+(Ee.position.top-Ee.originalPosition.top)||null,ee.animate||this.element.css(t.extend(T,{top:V,left:O})),Ee.helper.height(Ee.size.height),Ee.helper.width(Ee.size.width),this._helper&&!ee.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var i,n,r,c,T,O=this.options;T={minWidth:this._isNumber(O.minWidth)?O.minWidth:0,maxWidth:this._isNumber(O.maxWidth)?O.maxWidth:1/0,minHeight:this._isNumber(O.minHeight)?O.minHeight:0,maxHeight:this._isNumber(O.maxHeight)?O.maxHeight:1/0},(this._aspectRatio||e)&&(i=T.minHeight*this.aspectRatio,r=T.minWidth/this.aspectRatio,n=T.maxHeight*this.aspectRatio,c=T.maxWidth/this.aspectRatio,i>T.minWidth&&(T.minWidth=i),r>T.minHeight&&(T.minHeight=r),n<T.maxWidth&&(T.maxWidth=n),c<T.maxHeight&&(T.maxHeight=c)),this._vBoundaries=T},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var i=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),r==="sw"&&(e.left=i.left+(n.width-e.width),e.top=null),r==="nw"&&(e.top=i.top+(n.height-e.height),e.left=i.left+(n.width-e.width)),e},_respectSize:function(e){var i=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&i.maxWidth&&i.maxWidth<e.width,c=this._isNumber(e.height)&&i.maxHeight&&i.maxHeight<e.height,T=this._isNumber(e.width)&&i.minWidth&&i.minWidth>e.width,O=this._isNumber(e.height)&&i.minHeight&&i.minHeight>e.height,V=this.originalPosition.left+this.originalSize.width,ee=this.originalPosition.top+this.originalSize.height,Ee=/sw|nw|w/.test(n),we=/nw|ne|n/.test(n);return T&&(e.width=i.minWidth),O&&(e.height=i.minHeight),r&&(e.width=i.maxWidth),c&&(e.height=i.maxHeight),T&&Ee&&(e.left=V-i.minWidth),r&&Ee&&(e.left=V-i.maxWidth),O&&we&&(e.top=ee-i.minHeight),c&&we&&(e.top=ee-i.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_getPaddingPlusBorderDimensions:function(e){for(var i=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],c=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];i<4;i++)n[i]=parseFloat(r[i])||0,n[i]+=parseFloat(c[i])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!!this._proportionallyResizeElements.length)for(var e,i=0,n=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)e=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,i){return{width:this.originalSize.width+i}},w:function(e,i){var n=this.originalSize,r=this.originalPosition;return{left:r.left+i,width:n.width-i}},n:function(e,i,n){var r=this.originalSize,c=this.originalPosition;return{top:c.top+n,height:r.height-n}},s:function(e,i,n){return{height:this.originalSize.height+n}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),e!=="resize"&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,c=r.length&&/textarea/i.test(r[0].nodeName),T=c&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,O=c?0:i.sizeDiff.width,V={width:i.size.width-O,height:i.size.height-T},ee=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,Ee=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(V,Ee&&ee?{top:Ee,left:ee}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var we={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:we.width,height:we.height}),i._updateCache(we),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,c,T,O,V=t(this).resizable("instance"),ee=V.options,Ee=V.element,we=ee.containment,Re=we instanceof t?we.get(0):/parent/.test(we)?Ee.parent().get(0):we;!Re||(V.containerElement=t(Re),/document/.test(we)||we===document?(V.containerOffset={left:0,top:0},V.containerPosition={left:0,top:0},V.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(Re),i=[],t(["Top","Right","Left","Bottom"]).each(function(Ne,be){i[Ne]=V._num(e.css("padding"+be))}),V.containerOffset=e.offset(),V.containerPosition=e.position(),V.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=V.containerOffset,r=V.containerSize.height,c=V.containerSize.width,T=V._hasScroll(Re,"left")?Re.scrollWidth:c,O=V._hasScroll(Re)?Re.scrollHeight:r,V.parentData={element:Re,left:n.left,top:n.top,width:T,height:O}))},resize:function(e){var i,n,r,c,T=t(this).resizable("instance"),O=T.options,V=T.containerOffset,ee=T.position,Ee=T._aspectRatio||e.shiftKey,we={top:0,left:0},Re=T.containerElement,Ne=!0;Re[0]!==document&&/static/.test(Re.css("position"))&&(we=V),ee.left<(T._helper?V.left:0)&&(T.size.width=T.size.width+(T._helper?T.position.left-V.left:T.position.left-we.left),Ee&&(T.size.height=T.size.width/T.aspectRatio,Ne=!1),T.position.left=O.helper?V.left:0),ee.top<(T._helper?V.top:0)&&(T.size.height=T.size.height+(T._helper?T.position.top-V.top:T.position.top),Ee&&(T.size.width=T.size.height*T.aspectRatio,Ne=!1),T.position.top=T._helper?V.top:0),r=T.containerElement.get(0)===T.element.parent().get(0),c=/relative|absolute/.test(T.containerElement.css("position")),r&&c?(T.offset.left=T.parentData.left+T.position.left,T.offset.top=T.parentData.top+T.position.top):(T.offset.left=T.element.offset().left,T.offset.top=T.element.offset().top),i=Math.abs(T.sizeDiff.width+(T._helper?T.offset.left-we.left:T.offset.left-V.left)),n=Math.abs(T.sizeDiff.height+(T._helper?T.offset.top-we.top:T.offset.top-V.top)),i+T.size.width>=T.parentData.width&&(T.size.width=T.parentData.width-i,Ee&&(T.size.height=T.size.width/T.aspectRatio,Ne=!1)),n+T.size.height>=T.parentData.height&&(T.size.height=T.parentData.height-n,Ee&&(T.size.width=T.size.height*T.aspectRatio,Ne=!1)),Ne||(T.position.left=T.prevPosition.left,T.position.top=T.prevPosition.top,T.size.width=T.prevSize.width,T.size.height=T.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,c=e.containerElement,T=t(e.helper),O=T.offset(),V=T.outerWidth()-e.sizeDiff.width,ee=T.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(c.css("position"))&&t(this).css({left:O.left-r.left-n.left,width:V,height:ee}),e._helper&&!i.animate&&/static/.test(c.css("position"))&&t(this).css({left:O.left-r.left-n.left,width:V,height:ee})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var n=t(this);n.data("ui-resizable-alsoresize",{width:parseFloat(n.width()),height:parseFloat(n.height()),left:parseFloat(n.css("left")),top:parseFloat(n.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,c=n.originalSize,T=n.originalPosition,O={height:n.size.height-c.height||0,width:n.size.width-c.width||0,top:n.position.top-T.top||0,left:n.position.left-T.left||0};t(r.alsoResize).each(function(){var V=t(this),ee=t(this).data("ui-resizable-alsoresize"),Ee={},we=V.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(we,function(Re,Ne){var be=(ee[Ne]||0)+(O[Ne]||0);be&&be>=0&&(Ee[Ne]=be||null)}),V.css(Ee)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&typeof e.options.ghost=="string"&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,c=i.originalSize,T=i.originalPosition,O=i.axis,V=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,ee=V[0]||1,Ee=V[1]||1,we=Math.round((r.width-c.width)/ee)*ee,Re=Math.round((r.height-c.height)/Ee)*Ee,Ne=c.width+we,be=c.height+Re,Ae=n.maxWidth&&n.maxWidth<Ne,Ue=n.maxHeight&&n.maxHeight<be,We=n.minWidth&&n.minWidth>Ne,st=n.minHeight&&n.minHeight>be;n.grid=V,We&&(Ne+=ee),st&&(be+=Ee),Ae&&(Ne-=ee),Ue&&(be-=Ee),/^(se|s|e)$/.test(O)?(i.size.width=Ne,i.size.height=be):/^(ne)$/.test(O)?(i.size.width=Ne,i.size.height=be,i.position.top=T.top-Re):/^(sw)$/.test(O)?(i.size.width=Ne,i.size.height=be,i.position.left=T.left-we):((be-Ee<=0||Ne-ee<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),be-Ee>0?(i.size.height=be,i.position.top=T.top-Re):(be=Ee-e.height,i.size.height=be,i.position.top=T.top+c.height-be),Ne-ee>0?(i.size.width=Ne,i.position.left=T.left-we):(Ne=ee-e.width,i.size.width=Ne,i.position.left=T.left+c.width-Ne))}});var Ge=t.ui.resizable;t.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,i=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=i.parent.children().eq(i.index),e.length&&e[0]!==this.element[0]?e.before(this.element):i.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;!this._isOpen||this._trigger("beforeClose",e)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),c=Math.max.apply(null,r);return c>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",c+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()},_keepFocus:function(e){e.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault(),this.close(e);return}if(!(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())){var i=this.uiDialog.find(":tabbable"),n=i.first(),r=i.last();(e.target===r[0]||e.target===this.uiDialog[0])&&!e.shiftKey?(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(e.target===n[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){r.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(i){t(i.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||Array.isArray(i)&&!i.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(i,function(n,r){var c,T;r=typeof r=="function"?{click:r,text:n}:r,r=t.extend({type:"button"},r),c=r.click,T={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,delete r.icons,typeof r.text=="boolean"&&delete r.text,t("<button></button>",r).button(T).appendTo(e.uiButtonSet).on("click",function(){c.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,i=this.options;function n(r){return{position:r.position,offset:r.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,c){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",r,n(c))},drag:function(r,c){e._trigger("drag",r,n(c))},stop:function(r,c){var T=c.offset.left-e.document.scrollLeft(),O=c.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(T>=0?"+":"")+T+" top"+(O>=0?"+":"")+O,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,n(c))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),c=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";function T(O){return{originalPosition:O.originalPosition,originalSize:O.originalSize,position:O.position,size:O.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:c,start:function(O,V){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",O,T(V))},resize:function(O,V){e._trigger("resize",O,T(V))},stop:function(O,V){var ee=e.uiDialog.offset(),Ee=ee.left-e.document.scrollLeft(),we=ee.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(Ee>=0?"+":"")+Ee+" top"+(we>=0?"+":"")+we,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",O,T(V))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);i!==-1&&e.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(c,T){i._setOption(c,T),c in i.sizeRelatedOptions&&(n=!0),c in i.resizableRelatedOptions&&(r[c]=T)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,c=this.uiDialog;e!=="disabled"&&(this._super(e,i),e==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),e==="buttons"&&this._createButtons(),e==="closeText"&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),e==="draggable"&&(n=c.is(":data(ui-draggable)"),n&&!i&&c.draggable("destroy"),!n&&i&&this._makeDraggable()),e==="position"&&this._position(),e==="resizable"&&(r=c.is(":data(ui-resizable)"),r&&!i&&c.resizable("destroy"),r&&typeof i=="string"&&c.resizable("option","handles",i),!r&&i!==!1&&this._makeResizable()),e==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,i,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),i=Math.max(0,r.minHeight-e),n=typeof r.maxHeight=="number"?Math.max(0,r.maxHeight-e):"none",r.height==="auto"?this.element.css({minHeight:i,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!!this.options.modal){var e=t.fn.jquery.substring(0,4),i=!0;this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(n){if(!i){var r=this._trackingInstances()[0];r._allowInteraction(n)||(n.preventDefault(),r._focusTabbable(),(e==="3.4."||e==="3.5.")&&r._delay(r._restoreTabbableFocus))}}.bind(this)),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(!!this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,i){e==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(i),this._superApply(arguments)}});var Le=t.ui.dialog;t.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=typeof n=="function"?n:function(r){return r.is(n)},this.proportions=function(){if(arguments.length)e=arguments[0];else return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var i=0;i<e.length;i++)e[i]===this&&e.splice(i,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if(e==="accept")this.accept=typeof i=="function"?i:function(r){return r.is(i)};else if(e==="scope"){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;!i||(i.currentItem||i.element)[0]===this.element[0]||this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!n||(n.currentItem||n.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=t(this).droppable("instance");if(c.options.greedy&&!c.options.disabled&&c.options.scope===n.options.scope&&c.accept.call(c.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(c,{offset:c.element.offset()}),c.options.tolerance,e))return r=!0,!1}),r)?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),t.ui.intersect=function(){function e(i,n,r){return i>=n&&i<n+r}return function(i,n,r,c){if(!n.offset)return!1;var T=(i.positionAbs||i.position.absolute).left+i.margins.left,O=(i.positionAbs||i.position.absolute).top+i.margins.top,V=T+i.helperProportions.width,ee=O+i.helperProportions.height,Ee=n.offset.left,we=n.offset.top,Re=Ee+n.proportions().width,Ne=we+n.proportions().height;switch(r){case"fit":return Ee<=T&&V<=Re&&we<=O&&ee<=Ne;case"intersect":return Ee<T+i.helperProportions.width/2&&V-i.helperProportions.width/2<Re&&we<O+i.helperProportions.height/2&&ee-i.helperProportions.height/2<Ne;case"pointer":return e(c.pageY,we,n.proportions().height)&&e(c.pageX,Ee,n.proportions().width);case"touch":return(O>=we&&O<=Ne||ee>=we&&ee<=Ne||O<we&&ee>Ne)&&(T>=Ee&&T<=Re||V>=Ee&&V<=Re||T<Ee&&V>Re);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,c=t.ui.ddmanager.droppables[e.options.scope]||[],T=i?i.type:null,O=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<c.length;n++)if(!(c[n].options.disabled||e&&!c[n].accept.call(c[n].element[0],e.currentItem||e.element))){for(r=0;r<O.length;r++)if(O[r]===c[n].element[0]){c[n].proportions().height=0;continue e}c[n].visible=c[n].element.css("display")!=="none",!!c[n].visible&&(T==="mousedown"&&c[n]._activate.call(c[n],i),c[n].offset=c[n].element.offset(),c[n].proportions({width:c[n].element[0].offsetWidth,height:c[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var n,r,c,T=t.ui.intersect(e,this,this.options.tolerance,i),O=!T&&this.isover?"isout":T&&!this.isover?"isover":null;!O||(this.options.greedy&&(r=this.options.scope,c=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),c.length&&(n=t(c[0]).droppable("instance"),n.greedyChild=O==="isover")),n&&O==="isover"&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[O]=!0,this[O==="isout"?"isover":"isout"]=!1,this[O==="isover"?"_over":"_out"].call(this,i),n&&O==="isout"&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var He=t.ui.droppable;var at=t.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===void 0)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===void 0&&(e=this.options.value),this.indeterminate=e===!1,typeof e!="number"&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var i=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(i),this._refreshValue()},_setOption:function(e,i){e==="max"&&(i=Math.max(this.min,i)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}});var et=t.widget("ui.selectable",t.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=t.data(this,"selectable-item");r.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",e,{unselecting:r.element}))}),t(e.target).parents().addBack().each(function(){var r,c=t.data(this,"selectable-item");if(c)return r=!e.metaKey&&!e.ctrlKey||!c.$element.hasClass("ui-selected"),i._removeClass(c.$element,r?"ui-unselecting":"ui-selected")._addClass(c.$element,r?"ui-selecting":"ui-unselecting"),c.unselecting=!r,c.selecting=r,c.selected=r,r?i._trigger("selecting",e,{selecting:c.element}):i._trigger("unselecting",e,{unselecting:c.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,c=this.opos[0],T=this.opos[1],O=e.pageX,V=e.pageY;return c>O&&(i=O,O=c,c=i),T>V&&(i=V,V=T,T=i),this.helper.css({left:c,top:T,width:O-c,height:V-T}),this.selectees.each(function(){var ee=t.data(this,"selectable-item"),Ee=!1,we={};!ee||ee.element===n.element[0]||(we.left=ee.left+n.elementPos.left,we.right=ee.right+n.elementPos.left,we.top=ee.top+n.elementPos.top,we.bottom=ee.bottom+n.elementPos.top,r.tolerance==="touch"?Ee=!(we.left>O||we.right<c||we.top>V||we.bottom<T):r.tolerance==="fit"&&(Ee=we.left>c&&we.right<O&&we.top>T&&we.bottom<V),Ee?(ee.selected&&(n._removeClass(ee.$element,"ui-selected"),ee.selected=!1),ee.unselecting&&(n._removeClass(ee.$element,"ui-unselecting"),ee.unselecting=!1),ee.selecting||(n._addClass(ee.$element,"ui-selecting"),ee.selecting=!0,n._trigger("selecting",e,{selecting:ee.element}))):(ee.selecting&&((e.metaKey||e.ctrlKey)&&ee.startselected?(n._removeClass(ee.$element,"ui-selecting"),ee.selecting=!1,n._addClass(ee.$element,"ui-selected"),ee.selected=!0):(n._removeClass(ee.$element,"ui-selecting"),ee.selecting=!1,ee.startselected&&(n._addClass(ee.$element,"ui-unselecting"),ee.unselecting=!0),n._trigger("unselecting",e,{unselecting:ee.element}))),ee.selected&&!e.metaKey&&!e.ctrlKey&&!ee.startselected&&(n._removeClass(ee.$element,"ui-selected"),ee.selected=!1,n._addClass(ee.$element,"ui-unselecting"),ee.unselecting=!0,n._trigger("unselecting",e,{unselecting:ee.element}))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}});var qe=t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(r){this.button.trigger("focus"),r.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(i,n){i.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),i)},focus:function(i,n){var r=n.item.data("ui-selectmenu-item");e.focusIndex!=null&&r.index!==e.focusIndex&&(e._trigger("focus",i,{item:r}),e.isOpen||e._select(r,i)),e.focusIndex=r.index,e.button.attr("aria-activedescendant",e.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),this.options.width===null&&this._resizeButton()},_refreshMenu:function(){var e,i=this.element.find("option");this.menu.empty(),this._parseOptions(i),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,!!i.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),!!this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(e){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(c,T){var O;T.optgroup!==r&&(O=t("<li>",{text:T.optgroup}),n._addClass(O,"ui-selectmenu-optgroup","ui-menu-divider"+(T.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),O.appendTo(e),r=T.optgroup),n._renderItemData(e,T)})},_renderItemData:function(e,i){return this._renderItem(e,i).data("ui-selectmenu-item",i)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(e,i){i?e.text(i):e.html("&#160;")},_move:function(e,i){var n,r,c=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),c+=":not(.ui-state-disabled)"),e==="first"||e==="last"?r=n[e==="first"?"prevAll":"nextAll"](c).eq(-1):r=n[e+"All"](c).eq(0),r.length&&this.menuInstance.focus(i,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;!this.range||(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(e){var i=this.menuItems.eq(this.focusIndex).parent("li");i.hasClass("ui-state-disabled")||this._select(i.data("ui-selectmenu-item"),e)},_select:function(e,i){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",i,{item:e}),e.index!==n&&this._trigger("change",i,{item:e}),this.close(i)},_setAria:function(e){var i=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":i,"aria-activedescendant":i}),this.menu.attr("aria-activedescendant",i)},_setOption:function(e,i){if(e==="icons"){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,i.button)}this._super(e,i),e==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),e==="width"&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(e===!1){this.button.css("width","");return}e===null&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(r,c){c.hidden||n.push(i._parseOption(t(c),r))}),this.items=n},_parseOption:function(e,i){var n=e.parent("optgroup");return{element:e,index:i,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]);var Ye=t.widget("ui.slider",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),c="<span tabindex='0'></span>",T=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)T.push(c);this.handles=r.add(t(T.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(O){t(this).data("ui-slider-handle-index",O).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&e.values.length!==2?e.values=[e.values[0],e.values[0]]:Array.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")):(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})),(e.range==="min"||e.range==="max")&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,c,T,O,V,ee,Ee=this,we=this.options;return we.disabled||(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(Re){var Ne=Math.abs(n-Ee.values(Re));(r>Ne||r===Ne&&(Re===Ee._lastChangedValue||Ee.values(Re)===we.min))&&(r=Ne,c=t(this),T=Re)}),O=this._start(e,T),O===!1)?!1:(this._mouseSliding=!0,this._handleIndex=T,this._addClass(c,null,"ui-state-active"),c.trigger("focus"),V=c.offset(),ee=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=ee?{left:0,top:0}:{left:e.pageX-V.left-c.width()/2,top:e.pageY-V.top-c.height()/2-(parseInt(c.css("borderTopWidth"),10)||0)-(parseInt(c.css("borderBottomWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,T,n),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(e){var i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var i,n,r,c,T;return this.orientation==="horizontal"?(i=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/i,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),c=this._valueMax()-this._valueMin(),T=this._valueMin()+r*c,this._trimAlignValue(T)},_uiHash:function(e,i,n){var r={handle:this.handles[e],handleIndex:e,value:i!==void 0?i:this.value()};return this._hasMultipleValues()&&(r.value=i!==void 0?i:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,i){return this._trigger("start",e,this._uiHash(i))},_slide:function(e,i,n){var r,c,T=this.value(),O=this.values();this._hasMultipleValues()&&(c=this.values(i?0:1),T=this.values(i),this.options.values.length===2&&this.options.range===!0&&(n=i===0?Math.min(c,n):Math.max(c,n)),O[i]=n),n!==T&&(r=this._trigger("slide",e,this._uiHash(i,n,O)),r!==!1&&(this._hasMultipleValues()?this.values(i,n):this.value(n)))},_stop:function(e,i){this._trigger("stop",e,this._uiHash(i))},_change:function(e,i){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=i,this._trigger("change",e,this._uiHash(i)))},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,i){var n,r,c;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e);return}if(arguments.length)if(Array.isArray(arguments[0])){for(n=this.options.values,r=arguments[0],c=0;c<n.length;c+=1)n[c]=this._trimAlignValue(r[c]),this._change(null,c);this._refreshValue()}else return this._hasMultipleValues()?this._values(e):this.value();else return this._values()},_setOption:function(e,i){var n,r=0;switch(e==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;break}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var i,n,r;if(arguments.length)return i=this.options.values[e],i=this._trimAlignValue(i),i;if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}else return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var i=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%i,r=e-n;return Math.abs(n)*2>=i&&(r+=n>0?i:-i),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,i=this._valueMin(),n=this.options.step,r=Math.round((e-i)/n)*n;e=r+i,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){e==="vertical"&&this.range.css({width:"",left:""}),e==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,c,T=this.options.range,O=this.options,V=this,ee=this._animateOff?!1:O.animate,Ee={};this._hasMultipleValues()?this.handles.each(function(we){i=(V.values(we)-V._valueMin())/(V._valueMax()-V._valueMin())*100,Ee[V.orientation==="horizontal"?"left":"bottom"]=i+"%",t(this).stop(1,1)[ee?"animate":"css"](Ee,O.animate),V.options.range===!0&&(V.orientation==="horizontal"?(we===0&&V.range.stop(1,1)[ee?"animate":"css"]({left:i+"%"},O.animate),we===1&&V.range[ee?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:O.animate})):(we===0&&V.range.stop(1,1)[ee?"animate":"css"]({bottom:i+"%"},O.animate),we===1&&V.range[ee?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:O.animate}))),e=i}):(n=this.value(),r=this._valueMin(),c=this._valueMax(),i=c!==r?(n-r)/(c-r)*100:0,Ee[this.orientation==="horizontal"?"left":"bottom"]=i+"%",this.handle.stop(1,1)[ee?"animate":"css"](Ee,O.animate),T==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[ee?"animate":"css"]({width:i+"%"},O.animate),T==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[ee?"animate":"css"]({width:100-i+"%"},O.animate),T==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[ee?"animate":"css"]({height:i+"%"},O.animate),T==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[ee?"animate":"css"]({height:100-i+"%"},O.animate))},_handleEvents:{keydown:function(e){var i,n,r,c,T=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,T),i===!1))return;break}switch(c=this.options.step,this._hasMultipleValues()?n=r=this.values(T):n=r=this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+c);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-c);break}this._slide(e,T,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}});var it=t.widget("ui.sortable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,i,n){return e>=i&&e<i+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,i){this._super(e,i),e==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,c=this;return this.reverting||this.options.disabled||this.options.type==="static"||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,c.widgetName+"-item")===c)return n=t(this),!1}),t.data(e.target,c.widgetName+"-item")===c&&(n=t(e.target)),!n)||this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)?!1:(this.currentItem=n,this._removeCurrentsFromItems(),!0)},_mouseStart:function(e,i,n){var r,c,T=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t(T.appendTo!=="parent"?T.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),T.cursorAt&&this._adjustOffsetFromHelper(T.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),T.containment&&this._setContainment(),T.cursor&&T.cursor!=="auto"&&(c=this.document.find("body"),this.storedCursor=c.css("cursor"),c.css("cursor",T.cursor),this.storedStylesheet=t("<style>*{ cursor: "+T.cursor+" !important; }</style>").appendTo(c)),T.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",T.zIndex)),T.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",T.opacity)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!T.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(e){var i=this.options,n=!1;return this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-this.document.scrollTop()<i.scrollSensitivity?n=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<i.scrollSensitivity&&(n=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),e.pageX-this.document.scrollLeft()<i.scrollSensitivity?n=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(n=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),n},_mouseDrag:function(e){var i,n,r,c,T=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!=="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!=="x")&&(this.helper[0].style.top=this.position.top+"px"),T.scroll&&this._scroll(e)!==!1&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!T.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],c=this._intersectsWithPointer(n),!!c&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[c===1?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],r):!0)){if(this.direction=c===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(n))this._rearrange(e,n);else break;this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(!!e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),c=this.options.axis,T={};(!c||c==="x")&&(T.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!c||c==="y")&&(T.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(T,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),this.options.helper==="original"?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var r=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);r&&n.push((e.key||r[1]+"[]")+"="+(e.key&&e.expression?r[1]:r[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var i=this.positionAbs.left,n=i+this.helperProportions.width,r=this.positionAbs.top,c=r+this.helperProportions.height,T=e.left,O=T+e.width,V=e.top,ee=V+e.height,Ee=this.offset.click.top,we=this.offset.click.left,Re=this.options.axis==="x"||r+Ee>V&&r+Ee<ee,Ne=this.options.axis==="y"||i+we>T&&i+we<O,be=Re&&Ne;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?be:T<i+this.helperProportions.width/2&&n-this.helperProportions.width/2<O&&V<r+this.helperProportions.height/2&&c-this.helperProportions.height/2<ee},_intersectsWithPointer:function(e){var i,n,r=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),c=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),T=r&&c;return T?(i=this.dragDirection.vertical,n=this.dragDirection.horizontal,this.floating?n==="right"||i==="down"?2:1:i&&(i==="down"?2:1)):!1},_intersectsWithSides:function(e){var i=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this.dragDirection.vertical,c=this.dragDirection.horizontal;return this.floating&&c?c==="right"&&n||c==="left"&&!n:r&&(r==="down"&&i||r==="up"&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var i,n,r,c,T=[],O=[],V=this._connectWith();if(V&&e)for(i=V.length-1;i>=0;i--)for(r=t(V[i],this.document[0]),n=r.length-1;n>=0;n--)c=t.data(r[n],this.widgetFullName),c&&c!==this&&!c.options.disabled&&O.push([typeof c.options.items=="function"?c.options.items.call(c.element):t(c.options.items,c.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),c]);O.push([typeof this.options.items=="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function ee(){T.push(this)}for(i=O.length-1;i>=0;i--)O[i][0].each(ee);return t(T)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(i){for(var n=0;n<e.length;n++)if(e[n]===i.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,c,T,O,V,ee,Ee=this.items,we=[[typeof this.options.items=="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],Re=this._connectWith();if(Re&&this.ready)for(i=Re.length-1;i>=0;i--)for(r=t(Re[i],this.document[0]),n=r.length-1;n>=0;n--)c=t.data(r[n],this.widgetFullName),c&&c!==this&&!c.options.disabled&&(we.push([typeof c.options.items=="function"?c.options.items.call(c.element[0],e,{item:this.currentItem}):t(c.options.items,c.element),c]),this.containers.push(c));for(i=we.length-1;i>=0;i--)for(T=we[i][1],O=we[i][0],n=0,ee=O.length;n<ee;n++)V=t(O[n]),V.data(this.widgetName+"-item",T),Ee.push({item:V,instance:T,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var i,n,r,c;for(i=this.items.length-1;i>=0;i--)n=this.items[i],!(this.currentContainer&&n.instance!==this.currentContainer&&n.item[0]!==this.currentItem[0])&&(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),c=r.offset(),n.left=c.left,n.top=c.top)},refreshPositions:function(e){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(e);var i,n;if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n,r=e.options;(!r.placeholder||r.placeholder.constructor===String)&&(i=r.placeholder,n=e.currentItem[0].nodeName.toLowerCase(),r.placeholder={element:function(){var c=t("<"+n+">",e.document[0]);return e._addClass(c,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(c,"ui-sortable-helper"),n==="tbody"?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(c)):n==="tr"?e._createTrPlaceholder(e.currentItem,c):n==="img"&&c.attr("src",e.currentItem.attr("src")),i||c.css("visibility","hidden"),c},update:function(c,T){i&&!r.forcePlaceholderSize||((!T.height()||r.forcePlaceholderSize&&(n==="tbody"||n==="tr"))&&T.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),T.width()||T.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(r.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),r.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,c,T,O,V,ee,Ee,we,Re=null,Ne=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(Re&&t.contains(this.containers[i].element[0],Re.element[0]))continue;Re=this.containers[i],Ne=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(!!Re)if(this.containers.length===1)this.containers[Ne].containerCache.over||(this.containers[Ne]._trigger("over",e,this._uiHash(this)),this.containers[Ne].containerCache.over=1);else{for(r=1e4,c=null,Ee=Re.floating||this._isFloating(this.currentItem),T=Ee?"left":"top",O=Ee?"width":"height",we=Ee?"pageX":"pageY",n=this.items.length-1;n>=0;n--)!t.contains(this.containers[Ne].element[0],this.items[n].item[0])||this.items[n].item[0]!==this.currentItem[0]&&(V=this.items[n].item.offset()[T],ee=!1,e[we]-V>this.items[n][O]/2&&(ee=!0),Math.abs(e[we]-V)<r&&(r=Math.abs(e[we]-V),c=this.items[n],this.direction=ee?"up":"down"));if(!c&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[Ne]){this.currentContainer.containerCache.over||(this.containers[Ne]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1);return}c?this._rearrange(e,c,null,!0):this._rearrange(e,null,this.containers[Ne].element,!0),this._trigger("change",e,this._uiHash()),this.containers[Ne]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[Ne],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this.containers[Ne]._trigger("over",e,this._uiHash(this)),this.containers[Ne].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=typeof i.helper=="function"?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){typeof e=="string"&&(e=e.split(" ")),Array.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;r.containment==="parent"&&(r.containment=this.helper[0].parentNode),(r.containment==="document"||r.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n=t(e).css("overflow")!=="hidden",this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n=e==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():c?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():c?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,c=e.pageX,T=e.pageY,O=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,V=/(html|body)/i.test(O[0].tagName);return this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(c=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(T=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(c=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(T=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((T-this.originalPageY)/r.grid[1])*r.grid[1],T=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((c-this.originalPageX)/r.grid[0])*r.grid[0],c=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:T-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():V?0:O.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():V?0:O.scrollLeft())}},_rearrange:function(e,i,n,r){n?n[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var c=this.counter;this._delay(function(){c===this.counter&&this.refreshPositions(!r)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&r.push(function(T){this._trigger("receive",T,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!i&&r.push(function(T){this._trigger("update",T,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(T){this._trigger("remove",T,this._uiHash())}),r.push(function(T){return function(O){T._trigger("receive",O,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(T){return function(O){T._trigger("update",O,this._uiHash(this))}}.call(this,this.currentContainer))));function c(T,O,V){return function(ee){V._trigger(T,ee,O._uiHash(O))}}for(n=this.containers.length-1;n>=0;n--)i||r.push(c("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(c("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!i){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function ct(e){return function(){var i=this.element.val();e.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(n,r){var c=i.attr(r);c!=null&&c.length&&(e[r]=c)}),e},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,i){var n=t.ui.safeActiveElement(this.document[0]),r=this.element[0]===n;if(!(!r||!i)){if(!this.spinning&&!this._start(e))return!1;this._spin((i>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function n(){var r=this.element[0]===t.ui.safeActiveElement(this.document[0]);r||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!!t(e.currentTarget).hasClass("ui-state-active")){if(this._start(e)===!1)return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,i,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,n)},e),this._spin(i*this.options.step,n)},_spin:function(e,i){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),(!this.spinning||this._trigger("spin",i,{value:n})!==!1)&&(this._value(n),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?typeof i=="function"?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var i=e.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_adjustValue:function(e){var i,n,r=this.options;return i=r.min!==null?r.min:0,n=e-i,n=Math.round(n/r.step)*r.step,e=i+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,i){var n,r,c;if(e==="culture"||e==="numberFormat"){n=this._parse(this.element.val()),this.options[e]=i,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof i=="string"&&(i=this._parse(i)),e==="icons"&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,i.up),c=this.buttons.last().find(".ui-icon"),this._removeClass(c,null,this.options.icons.down),this._addClass(c,null,i.down)),this._super(e,i)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:ct(function(e){this._super(e)}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return e===null?!1:e===this._adjustValue(e)},_value:function(e,i){var n;e!==""&&(n=this._parse(e),n!==null&&(i||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:ct(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:ct(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:ct(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:ct(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());ct(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var lt=t.ui.spinner;t.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(i){var n,r;n=i.href.replace(e,""),r=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch{}try{r=decodeURIComponent(r)}catch{}return i.hash.length>1&&n===r}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(n){return e.tabs.index(n)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return e===null&&(n&&this.tabs.each(function(r,c){if(t(c).attr("aria-controls")===n)return e=r,!1}),e===null&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(e===null||e===-1)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:e.preventDefault(),clearTimeout(this.activating),this._activate(n);return;case t.ui.keyCode.ENTER:e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n);return;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),!e.ctrlKey&&!e.metaKey&&(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(e,i){var n=this.tabs.length-1;function r(){return e>n&&(e=0),e<0&&(e=n),e}for(;t.inArray(r(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(e,i){return e=this._findNextTab(e,i),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,i){if(e==="active"){this._activate(i);return}this._super(e,i),e==="collapsible"&&(this._toggleClass("ui-tabs-collapsible",null,i),!i&&this.options.active===!1&&this._activate(0)),e==="event"&&this._setupEvents(i),e==="heightStyle"&&this._setupHeightStyle(i)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=t()):this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(c){t(this).is(".ui-state-disabled")&&c.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(c,T){var O,V,ee,Ee=t(T).uniqueId().attr("id"),we=t(T).closest("li"),Re=we.attr("aria-controls");e._isLocal(T)?(O=T.hash,ee=O.substring(1),V=e.element.find(e._sanitizeSelector(O))):(ee=we.attr("aria-controls")||t({}).uniqueId()[0].id,O="#"+ee,V=e.element.find(O),V.length||(V=e._createPanel(ee),V.insertAfter(e.panels[c-1]||e.tablist)),V.attr("aria-live","polite")),V.length&&(e.panels=e.panels.add(V)),Re&&we.data("ui-tabs-aria-controls",Re),we.attr({"aria-controls":ee,"aria-labelledby":Ee}),V.attr("aria-labelledby",Ee)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||t.inArray(r,e)!==-1?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(n,r){i[r]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(n){n.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();e==="fill"?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var r=t(this),c=r.css("position");c==="absolute"||c==="fixed"||(i-=r.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):e==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),c=r.closest("li"),T=c[0]===n[0],O=T&&i.collapsible,V=O?t():this._getPanelForTab(c),ee=n.length?this._getPanelForTab(n):t(),Ee={oldTab:n,oldPanel:ee,newTab:O?t():c,newPanel:V};e.preventDefault(),!(c.hasClass("ui-state-disabled")||c.hasClass("ui-tabs-loading")||this.running||T&&!i.collapsible||this._trigger("beforeActivate",e,Ee)===!1)&&(i.active=O?!1:this.tabs.index(c),this.active=T?t():c,this.xhr&&this.xhr.abort(),!ee.length&&!V.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),V.length&&this.load(this.tabs.index(c),e),this._toggle(e,Ee))},_toggle:function(e,i){var n=this,r=i.newPanel,c=i.oldPanel;this.running=!0;function T(){n.running=!1,n._trigger("activate",e,i)}function O(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,T):(r.show(),T())}c.length&&this.options.hide?this._hide(c,this.options.hide,function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),O()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),c.hide(),O()),c.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&c.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(e===void 0?i=!1:(e=this._getIndex(e),Array.isArray(i)?i=t.map(i,function(n){return n!==e?n:null}):i=t.map(this.tabs,function(n,r){return r!==e?r:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(e===void 0)i=!0;else{if(e=this._getIndex(e),t.inArray(e,i)!==-1)return;Array.isArray(i)?i=t.merge([e],i).sort():i=[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),c=r.find(".ui-tabs-anchor"),T=this._getPanelForTab(r),O={tab:r,panel:T},V=function(ee,Ee){Ee==="abort"&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),T.removeAttr("aria-busy"),ee===n.xhr&&delete n.xhr};this._isLocal(c[0])||(this.xhr=t.ajax(this._ajaxSettings(c,i,O)),this.xhr&&this.xhr.statusText!=="canceled"&&(this._addClass(r,"ui-tabs-loading"),T.attr("aria-busy","true"),this.xhr.done(function(ee,Ee,we){setTimeout(function(){T.html(ee),n._trigger("load",i,O),V(we,Ee)},1)}).fail(function(ee,Ee){setTimeout(function(){V(ee,Ee)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(c,T){return r._trigger("beforeLoad",i,t.extend({jqXHR:c,ajaxSettings:T},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});var J=t.ui.tabs;t.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title");return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",String.prototype.trim.call(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);r!==-1&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=String.prototype.trim.call(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),e==="content"&&t.each(this.tooltips,function(r,c){n._updateContent(c.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var i=t(this);if(i.is("[title]"))return i.data("ui-tooltip-title",i.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);!n.length||n.data("ui-tooltip-id")||(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&e.type==="mouseover"&&n.parents().each(function(){var r=t(this),c;r.data("ui-tooltip-open")&&(c=t.Event("blur"),c.target=c.currentTarget=this,i.close(c,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(e,i){var n,r=this.options.content,c=this,T=i?i.type:null;if(typeof r=="string"||r.nodeType||r.jquery)return this._open(i,e,r);n=r.call(e[0],function(O){c._delay(function(){!e.data("ui-tooltip-open")||(i&&(i.type=T),this._open(i,e,O))})}),n&&this._open(i,e,n)},_open:function(e,i,n){var r,c,T,O,V=t.extend({},this.options.position);if(!n)return;if(r=this._find(i),r){r.tooltip.find(".ui-tooltip-content").html(n);return}i.is("[title]")&&(e&&e.type==="mouseover"?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),c=r.tooltip,this._addDescribedBy(i,c.attr("id")),c.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),O=t("<div>").html(c.find(".ui-tooltip-content").html()),O.removeAttr("name").find("[name]").removeAttr("name"),O.removeAttr("id").find("[id]").removeAttr("id"),O.appendTo(this.liveRegion);function ee(Ee){V.of=Ee,!c.is(":hidden")&&c.position(V)}this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:ee}),ee(e)):c.position(t.extend({of:i},this.options.position)),c.hide(),this._show(c,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(T=this.delayedShow=setInterval(function(){c.is(":visible")&&(ee(V.of),clearInterval(T))},13)),this._trigger("open",e,{tooltip:c})},_registerCloseHandlers:function(e,i){var n={keyup:function(r){if(r.keyCode===t.ui.keyCode.ESCAPE){var c=t.Event(r);c.currentTarget=i[0],this.close(c,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){var r=this._find(i);r&&this._removeTooltip(r.tooltip)}),(!e||e.type==="mouseover")&&(n.mouseleave="close"),(!e||e.type==="focusin")&&(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),c=this._find(r);if(!c){r.removeData("ui-tooltip-open");return}i=c.tooltip,!c.closing&&(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),c.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&e.type==="mouseleave"&&t.each(this.parents,function(T,O){t(O.element).attr("title",O.title),delete n.parents[T]}),c.closing=!0,this._trigger("close",e,{tooltip:i}),c.hiding||(c.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(e){var i=e.data("ui-tooltip-id");return i?this.tooltips[i]:null},_removeTooltip:function(e){clearInterval(this.delayedShow),e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var i=e.closest(".ui-front, dialog");return i.length||(i=this.document[0].body),i},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),c=n.element;r.target=r.currentTarget=c[0],e.close(r,!0),t("#"+i).remove(),c.data("ui-tooltip-title")&&(c.attr("title")||c.attr("title",c.data("ui-tooltip-title")),c.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});var De=t.ui.tooltip})});var Lr=cr((fl,mo)=>{mo.exports={}});var mn=Mi(Fi());var Sn=Mi(Fi());var ti=class{};ti.NEXT_RANGE="nextrange";ti.PAUSECANVAS="pause";ti.PLAYCANVAS="play";ti.PREVIOUS_RANGE="previousrange";var hi=class{};hi.VOLUME_CHANGED="volumechanged";var Sr=Mi(Fi());function Bn(){return String(new Date().valueOf())}var Ar=Mi(Fi());function rn(t,f){let o=Ar.Utils.getTemporalComponent(f);if(o){let l=0,h=f.substr(0,f.indexOf("#"));for(let m=0;m<t.length;m++){let u=t[m];if(u.id.includes(h))break;{let v=u.getDuration();v&&(l+=v)}}return o[0]=Number(o[0])+l,o[1]=Number(o[1])+l,h+"#t="+o[0]+","+o[1]}}Oi();var ki=class{constructor(){this.canvases=[],this.durationMap={},this.totalDuration=0,this.id=Bn()}addCanvas(f){this.canvases.push(jQuery.extend(!0,{},f));let o=f.getDuration()||0;this.totalDuration+=o,this.durationMap[f.id]={duration:o,runningDuration:this.totalDuration}}getContent(){let f=[];return this.canvases.forEach(o=>{let l=o.getContent();l.forEach(h=>{let m=h.getTarget();m&&(Sr.Utils.getTemporalComponent(m)||(h.__jsonld.target+="#t=0,"+o.getDuration()))}),l.forEach(h=>{let m=h.getTarget();m&&(h.__jsonld.target=rn(this.canvases,m))}),f.push(...l)}),f}getDuration(){let f=0;return this.canvases.forEach(o=>{let l=o.getDuration();l&&(f+=l)}),Math.floor(f)}getWidth(){return this.canvases.length?this.canvases[0].getWidth():0}getHeight(){return this.canvases.length?this.canvases[0].getHeight():0}};function Dr(t,f){return t/f*100}var Jn=Mi(Fi());function xi(){try{return window.Hls}catch{return null}}var wi=class{constructor(f,o={}){this.source=f,this.options=o}attachTo(f){f.setAttribute("src",this.source)}};var Un=class extends wi{constructor(f,o={}){super(f,o);this.player=dashjs.MediaPlayer().create(),this.player.getDebug().setLogToBrowserConsole(!1),o.adaptiveAuthEnabled&&this.player.setXHRWithCredentialsForType("MPD",!0)}attachTo(f){this.player.initialize(f,this.source,!1)}debug(){this.player.getDebug().setLogToBrowserConsole(!0),this.player.getDebug().setLogLevel(4)}};var Hn=class extends wi{constructor(f,o={}){super(f,o);let l=xi();o.adaptiveAuthEnabled?this.hls=new l({xhrSetup:h=>{h.withCredentials=!0}}):this.hls=new l,this.hls.loadSource(this.source)}attachTo(f){this.hls.attachMedia(f)}};var Wn=class extends wi{constructor(f,o={}){super(f,o)}attachTo(f){f.src=this.source}};var Vn=class extends wi{constructor(f,o={}){super(f,o)}};var Ys=!1,Yi=()=>Ys&&window&&window.__DEBUG_AV_COMPONENT__,vt={enabled:!0,log(...t){this.enabled&&Yi()&&console.log(...t)},warn(...t){this.enabled&&Yi()&&console.warn(...t)},error(...t){this.enabled&&Yi()&&console.error(...t)},groupCollapsed(...t){this.enabled&&Yi()&&console.group(...t)},group(...t){this.enabled&&Yi()&&console.group(...t)},groupEnd(){this.enabled&&Yi()&&console.groupEnd()}};var Xs=function(t,f,o,l){function h(m){return m instanceof o?m:new o(function(u){u(m)})}return new(o||(o=Promise))(function(m,u){function v(p){try{_(l.next(p))}catch(y){u(y)}}function g(p){try{_(l.throw(p))}catch(y){u(y)}}function _(p){p.done?m(p.value):h(p.value).then(v,g)}_((l=l.apply(t,f||[])).next())})},Ks=Oi(),Gn=class{constructor(f,o={}){switch(this.playWasRequested=!1,this.pauseWasRequested=!1,this.lastPause=0,this.isPausing=!1,this.source=f,this.mediaSource=f.mediaSource,this.type=f.type.toString().toLowerCase(),this.format=f.format?f.format.toString():void 0,this.mediaSyncMarginSecs=o.mediaSyncMarginSecs||1,this.type){case"video":this.element=document.createElement("video");break;case"sound":case"audio":this.element=document.createElement("audio");break;default:return}this.isDash()?this.instance=new Un(this.mediaSource,o):this.isHls()?this.instance=new Hn(this.mediaSource,o):this.isMpeg()?this.instance=new Wn(this.mediaSource,o):this.instance=new Vn(this.mediaSource,o),this.element.classList.add("anno"),o.probed||(this.element.crossOrigin="anonymous"),this.element.preload="metadata",this.instance.attachTo(this.element),this.element.currentTime=this.source.start,this.element.addEventListener("play",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this.element.addEventListener("pause",()=>{setTimeout(()=>{this.playWasRequested=!1,this.pauseWasRequested=!1},0)}),this._pauseElement()}_playElement(){return this.playWasRequested=!0,this.pauseWasRequested&&(this.pauseWasRequested=!1),vt.log(`HTMLElement.play() request - ${this.element.src}`),this.element.play()}_pauseElement(){this.pauseWasRequested=!0,this.playWasRequested&&(this.playWasRequested=!1),vt.log(`HTMLElement.pause() request - ${this.element.src}`);try{this.element.pause()}catch{}}syncClock(f){if(f>this.element.duration){vt.error(`Clock synced out of bounds (max: ${this.element.duration}, got: ${f})`);return}Math.abs(this.element.currentTime-f)>this.mediaSyncMarginSecs&&(this.element.currentTime=f)}getElementTime(){return this.element.currentTime}getCanvasId(){return this.source.canvasId}isWithinRange(f){return this.source.start<=f&&this.source.end>=f}load(f=!1){return Xs(this,void 0,void 0,function*(){f&&this.element.load(),yield new Promise(o=>{this.element.addEventListener("loadedmetadata",()=>{o()})})})}setSize(f,o,l,h){Ks(this.element).css({top:`${f}%`,left:`${o}%`,width:`${l}%`,height:`${h}%`})}isDash(){return this.format&&this.format.toString()==="application/dash+xml"&&typeof dashjs!="undefined"}isHls(){let f=xi();return this.format&&this.format.toString()==="application/vnd.apple.mpegurl"&&typeof f!="undefined"&&f!==null&&f.isSupported()}isMpeg(){return this.element.canPlayType?this.element.canPlayType("application/vnd.apple.mpegurl")!=="":!0}stop(){this._pauseElement(),this.element.currentTime=this.source.start}play(f){return vt.log(`MediaElement.play(${f}) - ${this.element.src}`),typeof f!="undefined"&&(this.element.currentTime=f),this._playElement()}pause(){vt.log(`MediaElement.pause() request - ${this.element.src}`);let f=Date.now();if(this.lastPause+1e3>f){if(this.isPausing)return;this.isPausing=!0,setTimeout(()=>{this._pauseElement(),this.isPausing=!1,this.lastPause=Date.now()},500);return}this.lastPause=Date.now(),this._pauseElement()}addEventListener(f,o){this.element.addEventListener(f,()=>{if(f==="play"){this.playWasRequested&&o();return}if(f==="pause"){this.pauseWasRequested&&o();return}o()})}getRawElement(){return this.element}isPaused(){return this.element.paused}setVolume(f){this.element.volume=f}isBuffering(){return this.element.readyState<3}};function oi(t){return t}function Xi(t){return t}function sn(t){return t}function Li(t,f){return t+f}function Kt(t,f){return t-f}function Qs(t,f){return t*f}function on(t){return Qs(t,1e3)}function wn(t){return t/1e3}var an=function(t,f,o,l){function h(m){return m instanceof o?m:new o(function(u){u(m)})}return new(o||(o=Promise))(function(m,u){function v(p){try{_(l.next(p))}catch(y){u(y)}}function g(p){try{_(l.throw(p))}catch(y){u(y)}}function _(p){p.done?m(p.value):h(p.value).then(v,g)}_((l=l.apply(t,f||[])).next())})},zn=class{constructor(f,o,l,h,m,u){this.continuous=!0,this.playing=!1,this._time=oi(0),vt.log("TimePlanPlayer",{media:f,plan:o}),this.media=f,this.plan=o,this.fullPlan=o,this.currentStop=o.stops[0];let v=()=>{};this.notifyRangeChange=l||v,this.notifyTimeChange=h||v,this.notifyPlaying=m||v,this.notifyBuffering=u||v,this.logging=!0,this.currentRange=this.currentStop.rangeStack[0],this.setTime(this.currentStop.start),f.onPlay((g,_,p)=>{g===this.currentStop.canvasId&&(this.playing||this.notifyPlaying(!0))}),f.onBuffering(()=>{this.notifyBuffering()}),f.onPause((g,_,p)=>{p.isBuffering()||g===this.currentStop.canvasId&&this.playing&&this.notifyPlaying(!1)})}selectPlan({reset:f,rangeId:o}={}){if(f)return this.initialisePlan(this.fullPlan);if(o){let l=[];for(let m of this.fullPlan.stops){let u=m.rangeStack.indexOf(o);m.rangeStack.indexOf(o)!==-1&&(l=m.rangeStack.slice(1,u+1))}let h=this.fullPlan;for(let m of l)for(let u of h.items)if(u.type==="time-plan"&&u.rangeId===m){h=u;break}if(h)return this.initialisePlan(h)}}initialisePlan(f){this.plan=f}getCurrentRange(){let f=this.currentRange,o=this.currentRange===this.currentStop.rangeId,l=o?this.plan.stops:this.fullPlan.stops,h=[],m=[];for(let g of l)g.rangeStack.indexOf(f)!==-1&&(h.push(g.start),m.push(g.end)),o&&g.rangeId===f&&(h.push(g.start),m.push(g.end));let u=Math.min(...h),v=Math.max(...m);return vt.log("Range duration",{starting:h,ending:m,rangeId:f,isRangeWithStop:o,stopsToCheck:l,start:u-this.plan.start,end:v-this.plan.start,planStart:this.plan.start,duration:v-u,currentStop:this.currentStop}),{start:u-this.plan.start,end:v-this.plan.start,duration:v-u}}getTime(){return this._time}setInternalTime(f){return this._time=f,this.notifyTimeChange(f),this._time}log(...f){this.logging&&vt.log("TimePlanPlayer",...f)}setContinuousPlayback(f){this.continuous=f}setIsPlaying(f){this.playing=f}play(){return this.log("Play",this.getTime()),this.playing||(this.setIsPlaying(!0),this.media.play(this.currentStop.canvasId).catch(f=>{console.log("Err",f),this.setIsPlaying(!1),this.notifyPlaying(!1)})),this.getTime()}currentTimelineTime(){return this.getTime()}currentMediaTime(){vt.log(`Current media time:
  - Current start: ${this.currentStop.start}
  - Current canvas: ${this.currentStop.canvasTime.start}
  - Current time: ${this.getTime()}
    `,this);let f=Kt(this.getTime(),this.currentStop.start);return sn(Li(f,oi(this.currentStop.canvasTime.start)))}validateExternalTime(f){let o=this.findStop(f),l=this.findStop(f+1);return l&&o!==l?(vt.log("Skipping to next stop",{nextStop:l,currentStop:o}),l==null?void 0:l.start):f}pause(){return this.log("Pause",this.getTime()),this.setIsPlaying(!1),this.media.pause(),this.getTime()}setVolume(f){this.media.setVolume(f)}findStop(f){for(let o of this.plan.stops)if(o.start-.001<=f&&o.end-.001>f)return o;if(this.plan.stops[this.plan.stops.length-1].end===f)return this.plan.stops[this.plan.stops.length-1]}setTime(f,o=!0){return an(this,void 0,void 0,function*(){if(vt.groupCollapsed(`TimeplanPlayer.setTime(${f}, ${o?"true":"false"})`),this.getTime()!==f){this.log("set time",{from:this.getTime(),to:f}),this.setInternalTime(f);let h=this.findStop(f);h&&h!==this.currentStop&&(o&&(this.currentRange=h.rangeId),yield this.advanceToStop(this.currentStop,h,void 0,f,!this.playing))}vt.groupEnd()})}next(){return an(this,void 0,void 0,function*(){let f=this.plan.rangeOrder.indexOf(this.currentRange),l=f>=0&&f===this.plan.rangeOrder.length-1?void 0:this.plan.rangeOrder.indexOf(this.currentRange)+1,h=typeof l!="undefined"?this.plan.rangeOrder[l]:void 0,m=this.plan.stops.indexOf(this.currentStop),u=0,v,g=!0;for(;g;){if(u++,v=this.plan.stops[m+u],!v){g=!1;break}if(!v.noNav&&v.rangeId!==this.currentStop.rangeId){g=!1;break}}return this.playing&&v&&(h=v.rangeId),h&&v&&v.rangeId!==h?(this.playing||this.currentStop.rangeStack.indexOf(h)===-1&&v.rangeStack.indexOf(h)!==-1?(this.currentRange=this.playing?v.rangeId:h,this.setInternalTime(v.start),yield this.advanceToStop(this.currentStop,v,this.playing?v.rangeId:h)):(this.currentRange=h,this.setInternalTime(this.currentStop.start),yield this.advanceToStop(this.currentStop,this.currentStop,h)),this.getTime()):(v?(this.setInternalTime(v.start),this.currentRange=v.rangeId,yield this.advanceToStop(this.currentStop,v,v.rangeId)):yield this.goToEndOfRange(this.currentStop.rangeId),setTimeout(()=>{this.playing&&this.play()},100),this.getTime())})}goToEndOfRange(f){return an(this,void 0,void 0,function*(){let o;for(let l=0;l<this.plan.stops.length;l++){let h=this.plan.stops[l];h.rangeId===f&&(!o||h.canvasIndex>=o.canvasIndex&&h.end>o.end)&&(o=h)}o&&(yield this.advanceToStop(this.currentStop,o,f),this.setInternalTime(o.end))})}goToStartOfRange(f){let o,l=this.plan.stops.length;for(let h=l-1;h>=0;h--){let m=this.plan.stops[h];m.rangeId===f&&(!o||m.canvasIndex<=o.canvasIndex&&m.start<o.start)&&(o=m)}o&&(o!==this.currentStop&&this.advanceToStop(this.currentStop,o,f),this.setInternalTime(o.start))}setRangeTime(f,o,l=!1){return an(this,void 0,void 0,function*(){let h;if(this.plan.rangeId===f?h=this.plan:this.fullPlan.rangeId===f?h=this.fullPlan:this.currentStop.rangeId===f&&(h=this.currentStop),h){let m=oi(h.start+o);l&&(m=this.validateExternalTime(m)),yield this.setTime(m,!1)}})}previous(){let l=this.plan.rangeOrder.indexOf(this.currentRange)===0?void 0:this.plan.rangeOrder.indexOf(this.currentRange)-1,h=typeof l!="undefined"?this.plan.rangeOrder[l]:void 0,m=this.currentStop,u=this.plan.stops.indexOf(this.currentStop),v=u,g=this.plan.stops[u-1],_=this.plan.stops[0],p=!0,y=L=>!L.noNav||L===_;for(;p;){let L=this.plan.stops[v-1];if(!L){p=!1;break}if(y(L)&&y(g)&&(L.rangeId===this.currentRange&&(m=L),g.rangeId!==L.rangeId)){p=!1;break}L&&(y(L)&&(g=L),v=v-1)}let I=this._time-(m.start+2)>0,E=this.playing&&g&&g.rangeId!==this.currentStop.rangeId,D=u===0||!h&&v===0,R=h&&this.currentStop.rangeStack.indexOf(h)===-1&&(g.rangeStack.indexOf(h)!==-1||g.rangeId===h),S=h&&this.currentStop.rangeStack.indexOf(h)!==-1;return vt.log("TimePlanPlayer.previous() => variables",{goBackToStartOfRange:I,isPreviousRangeDifferent:E,isDefinitelyFirstRange:D,isPreviousRangeNotAParent:R,isPreviousRangeInStack:S,prevStop:g}),I?(vt.log("TimePlanPlayer.previous() => goBackToStartOfRange",{currentStopHead:m}),m!==this.currentStop&&this.advanceToStop(this.currentStop,m,m.rangeId),this.setInternalTime(m.start),this.getTime()):(E&&(h=g.rangeId),D?(this.goToStartOfRange(h||this.currentStop.rangeId),h&&this.currentStop.rangeId!==h&&(this.currentRange=h,this.advanceToStop(this.currentStop,m,h)),this.getTime()):h&&(R||g===_)?(this.setInternalTime(g.start),this.currentRange=h,this.advanceToStop(this.currentStop,g,h),this.getTime()):h&&S?(this.setInternalTime(this.currentStop.start),this.currentRange=h,this.advanceToStop(this.currentStop,m,h),this.getTime()):this.getTime())}setRange(f){if(vt.group("setRange",f),f===this.currentRange)return vt.log("id === this.currentRange"),this.getTime();if(this.currentRange=f,f===this.currentStop.rangeId)return vt.log("id === this.currentStop.rangeId"),this.getTime();vt.log("Looking for stop",this.plan.stops);for(let o of this.plan.stops)if(o.rangeId===f){vt.log("Found stop, setting internalTime",o.start),this.setInternalTime(o.start),this.advanceToStop(this.currentStop,o,f,void 0,!this.playing);break}for(let o of this.plan.stops)if(o.rangeStack.indexOf(f)!==-1){vt.log("Found stop in rangeStack, setting internalTime",o.start),this.setInternalTime(o.start),this.advanceToStop(this.currentStop,o,f,void 0,!this.playing);break}return vt.groupEnd(),this.getTime()}isBuffering(){return this.media.isBuffering()}advanceToTime(f,o){vt.groupCollapsed(`TimeplanPlayer.advanceToTime(${f}, ${o?"true":"false"})`);let l=this.findStop(f);return l&&this.currentStop!==l?(vt.log("advanceToTime.a"),this.setInternalTime(f),this.advanceToStop(this.currentStop,l,void 0,f,o),vt.groupEnd(),{buffering:this.isBuffering(),time:f}):(this.playing&&this.currentRange!==this.currentStop.rangeId&&(this.currentRange=this.currentStop.rangeId,this.notifyRangeChange(this.currentStop.rangeId,{from:this.currentStop,to:this.currentStop})),l?(vt.log("advanceToTime.c",{time:this.getTime()}),this.setInternalTime(f),this.media.syncClock(this.currentMediaTime()),vt.groupEnd(),{time:f}):(vt.log("advanceToTime.b"),this.pause(),this.setTime(this.currentStop.end),vt.groupEnd(),{paused:!0,buffering:this.isBuffering(),time:this.currentStop.end}))}hasEnded(){return this.currentStop.end===this.getTime()}advanceToStop(f,o,l,h,m){return an(this,void 0,void 0,function*(){if(vt.log("TimeplanPlayer.advanceToStop",{from:f,to:o,rangeId:l}),f===o){l&&this.notifyRangeChange(l||o.rangeId,{to:o,from:f});return}let u;this.log("advanceToStop",o.start);let v=this.currentStop.canvasId!==o.canvasId;this.currentStop=o,this.setInternalTime(typeof h!="undefined"?h:o.start),v&&!m?u=this.media.play(o.canvasId,this.currentMediaTime()):(this.log(`advanceToStop -> seekToMediaTime(${this.currentMediaTime()}) ${m?"paused":"playing"}`),u=this.media.seekToMediaTime(this.currentMediaTime(),o.canvasId,m)),this.notifyRangeChange(l||o.rangeId,{to:o,from:f}),yield u})}getStartTime(){return this.plan.start}getDuration(){return this.plan.duration}};var jn=["application/vnd.apple.mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];function Bi(t){return jn.includes(t.toString())}function Ui(t){return t.toString()==="application/dash+xml"}function ln(){let t=xi();return t&&t.isSupported()}function un(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function qn(t){let f=t.getBody();if(!f.length)return null;for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&Bi(h)&&ln())return l}for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&Ui(h)&&!un())return l}for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&!Bi(h)&&!Ui(h))return l}return null}var Yn=Oi(),Xn=class extends qi{constructor(f){super(f);this._lastVolume=1,this._data={volume:1},this._init(),this._resize()}_init(){let f=super._init();this._$element=Yn(this.el),f||vt.error("Component failed to initialise"),this._$volumeMute=Yn(`
      <button class="btn volume-mute" title="${this.options.data.content.mute}">
          <i class="av-icon av-icon-mute on" aria-hidden="true"></i>
          <span class="sr-only>${this.options.data.content.mute}</span>
      </button>
    `),this._$volumeSlider=Yn('<div class="volume-slider"></div>'),this._$element.append(this._$volumeMute,this._$volumeSlider);let o=this;return this._$volumeMute.on("touchstart click",l=>{l.preventDefault(),this._data.volume!==0?(this._lastVolume=this._data.volume,this._data.volume=0):this._data.volume=this._lastVolume,this.fire(hi.VOLUME_CHANGED,this._data.volume)}),this._$volumeSlider.slider({value:o._data.volume,step:.1,orientation:"horizontal",range:"min",min:0,max:1,animate:!1,create:function(){},slide:function(l,h){o._data.volume=h.value,o._data.volume===0&&(o._lastVolume=0),o.fire(hi.VOLUME_CHANGED,o._data.volume)},stop:function(l,h){}}),f}set(f){this._data=Object.assign(this._data,f),this._render()}_render(){if(this._data.volume!==void 0)if(this._$volumeSlider.slider({value:this._data.volume}),this._data.volume===0){let f=this.options.data.content.unmute;this._$volumeMute.prop("title",f),this._$volumeMute.find("i").switchClass("on","off")}else{let f=this.options.data.content.mute;this._$volumeMute.prop("title",f),this._$volumeMute.find("i").switchClass("off","on")}}_resize(){}};var In=function(t,f,o,l){function h(m){return m instanceof o?m:new o(function(u){u(m)})}return new(o||(o=Promise))(function(m,u){function v(p){try{_(l.next(p))}catch(y){u(y)}}function g(p){try{_(l.throw(p))}catch(y){u(y)}}function _(p){p.done?m(p.value):h(p.value).then(v,g)}_((l=l.apply(t,f||[])).next())})},Kn=class{constructor(f){this.elements=[],this.playing=!1,this.canvasMap={},this._onPlay=[],this._onPause=[],this._onBuffering=[],vt.log("Composite media element",f),this.elements=f;for(let o of f){let l=o.getCanvasId();this.canvasMap[l]=this.canvasMap[l]?this.canvasMap[l]:[],this.canvasMap[l].push(o),o.addEventListener("play",()=>{o===this.activeElement&&(vt.log("HTMLElement.play() response",{paused:o.getRawElement().paused,readState:o.getRawElement().readyState}),this._onPlay.forEach(h=>h(l,o.getElementTime(),o)))}),o.addEventListener("pause",()=>{o===this.activeElement&&(vt.log("HTMLElement.pause() response"),this._onPause.forEach(h=>h(l,o.getElementTime(),o)))}),o.addEventListener("waiting",()=>{o===this.activeElement&&this._onBuffering.forEach(h=>h(l,o.getElementTime(),o))})}this.activeElement=f[0]}syncClock(f,o){if(vt.group("CompositeMediaElement.syncClock"),vt.log(`syncClock: ${f}`),vt.log({fromTime:f,toTime:f,instance:this}),this.activeElement){let l=o||this.activeElement.getCanvasId();this.updateActiveElement(l,f,this.playing);let h=Kt(f,this.activeElement.source.start);this.activeElement.syncClock(h)}vt.groupEnd()}updateActiveElement(f,o,l){let h=this.findElementInRange(f,o);return this.activeElement&&h&&h!==this.activeElement?(vt.log(`CompositeMediaElement.updateActiveElement(canvasId: ${f}, time: ${o})`,{canvasId:h?h.source.canvasId:null,newElement:h}),this.activeElement.stop(),this.activeElement=h,l?(vt.log("CompositeMediaElement play=true"),h.play(o)):vt.log("CompositeMediaElement play=false"),h):null}onPlay(f){this._onPlay.push(f)}onPause(f){this._onPause.push(f)}onBuffering(f){this._onBuffering.push(f)}findElementInRange(f,o){if(!!this.canvasMap[f]){for(let l of this.canvasMap[f].reverse())if(l.isWithinRange(o))return l}}appendTo(f){f.append(this.elements.map(o=>o.getRawElement()))}load(){return In(this,void 0,void 0,function*(){yield Promise.all(this.elements.map(f=>f.load()))})}seekToMediaTime(f,o,l){return In(this,void 0,void 0,function*(){l&&this.pause();let h=this.activeElement;if(vt.groupCollapsed("CompositeMediaElement.seekToMediaTime Buffering",{playing:this.playing}),this.activeElement){let m=o||this.activeElement.getCanvasId(),u=this.updateActiveElement(m,f,!1),v=Kt(f,this.activeElement.source.start),g,_=new Promise(p=>g=p);if(this.playing){if(vt.log(`CompositeMediaElement.seekToMediaItem(${f})`),yield this.activeElement.play(v).catch(p=>{console.log("ERROR",p),this.playing=!1}),h!==this.activeElement&&u&&(vt.log("Active element changed..."),u.isBuffering()||u.isPaused())){let y=setInterval(()=>{this.isBuffering()||g()},200);yield _,clearInterval(y),vt.log("ActiveElement nudge (play)"),yield u.play()}}else this.activeElement.syncClock(v)}vt.groupEnd()})}seekTo(f,o){return In(this,void 0,void 0,function*(){return this.updateActiveElement(f,o),this.seekToMediaTime(o)})}play(f,o){return In(this,void 0,void 0,function*(){if(vt.log(`CompositeMediaElement.play(${f}, ${o})`,{hasActive:!!this.activeElement}),this.playing=!0,f&&typeof o!="undefined"&&(yield this.seekTo(f,o)),this.activeElement)return this.activeElement.play(o).catch(l=>{console.log("err",l),this.playing=!1})})}pause(){vt.log("Composite.pause()"),this.playing=!1,this.activeElement&&!this.activeElement.isPaused()&&this.activeElement.pause()}setVolume(f){for(let o of this.elements)o.setVolume(f)}isBuffering(){return this.activeElement?this.activeElement.isBuffering():!1}};function Qn(t){let f=(h,m=[],u=oi(0))=>{let v=m,g=h.id,_=h.getBehavior(),p=_==="no-nav";_==="no-nav"&&(v=v.slice(0,-1),g=v[v.length-1]);let y={type:"time-plan",canvases:[],duration:oi(0),items:[],stops:[],rangeOrder:p?[]:[g],end:oi(0),start:u,rangeId:g,rangeStack:v,noNav:p},I=u,E=[...h.items,...h.getCanvasIds()];for(let D=0;D<E.length;D++){let R=E[D];if(typeof R=="string"){let[,S,L,B]=R.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,R,"0","0"];if(!S||typeof L=="undefined"||typeof B=="undefined")continue;if(t.getSequenceByIndex(0).getCanvasById(S)===null)throw new Error("Canvas not found..");let b=y.canvases.indexOf(S);b===-1&&(y.canvases.push(S),b=y.canvases.indexOf(S));let A=Xi(parseFloat(L||"0")),G=Xi(parseFloat(B||"0")),w=oi(G-A);I=Li(w,I);let M={type:"time-stop",canvasIndex:b,start:Kt(I,w),end:I,duration:w,rangeId:g,canvasId:S,rawCanvasSelector:R,canvasTime:{start:A,end:G},rangeStack:v,noNav:p};y.stops.push(M),y.items.push(M)}else{let S=f(R,[...v,R.id],I);I=Li(I,S.duration);for(let L of S.canvases)y.canvases.indexOf(L)===-1&&y.canvases.push(L);y.stops.push(...S.stops.map(L=>Object.assign(Object.assign({},L),{canvasIndex:y.canvases.indexOf(L.canvasId)}))),y.items.push(S),y.rangeOrder.push(...S.rangeOrder)}}return y.end=I,y.duration=oi(y.end-y.start),y},o=t.getTopRanges(),l=[];o||(o=t.getAllRanges()),o.length===1&&!o[0].id&&(o=o[0].getRanges());for(let h of o){h.getRanges()[0]&&h.id===h.getRanges()[0].id&&(h=h.getRanges()[0]);let u=f(h,[h.id]);l.push(u)}return l[0]}var Rr=Mi(Fi());function fn(t){let f=/xywh=([^&]+)/g.exec(t),o=null;return f&&f[1]&&(o=f[1].split(",")),o}function Zn(t,f,o){let l=f.getType(),h=f.getFormat()||void 0,m=f.id.split("#")[0],u=t.getTarget();if(!u)throw new Error("No target");if(!l)throw new Error("Unknown media type");let[v,g,_,p]=fn(u)||[0,0,o.width||0,o.height||0],[y,I]=Rr.Utils.getTemporalComponent(u)||[0,o.duration],[,E,D,R]=f.id.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,f.id,void 0,void 0];return{type:l,format:h,mediaSource:m,canvasId:o.id,x:v,y:g,width:typeof _=="undefined"?void 0:parseInt(String(_),10),height:typeof p=="undefined"?void 0:parseInt(String(p),10),start:sn(Number(Number(y).toFixed(2))),end:sn(Number(Number(I).toFixed(2))),bodyId:E,offsetStart:typeof D=="undefined"?void 0:Xi(parseFloat(D)),offsetEnd:typeof R=="undefined"?void 0:Xi(parseFloat(R))}}var Ht=class{};Ht.PLAY="play";Ht.PAUSE="pause";Ht.MEDIA_READY="mediaready";Ht.MEDIA_ERROR="mediaerror";Ht.LOG="log";Ht.RANGE_CHANGED="rangechanged";Ht.WAVEFORM_READY="waveformready";Ht.WAVEFORMS_READY="waveformsready";function Ii(t){let f=Math.max(0,t);Number.isNaN(f)&&(f=0),f<.5&&(f=0),Number.isFinite(f)||(f=0);let o,l,h,m;return h=Math.ceil(f),o=Math.floor(h/(60*60)),o=o>=10?o:"0"+o,l=Math.floor(h%(60*60)/60),l=l>=10?l:"0"+l,h=Math.floor(h%(60*60)%60),h=h>=10?h:"0"+h,o>=1?m=o+":":m="",m+l+":"+h}function Mr(t,f){let o=[];return Object.keys(t).forEach(l=>{Object.is(f[l],t[l])||o.push(l)}),o}function dn(t,f){return Array.from(new Set(Mr(t,f).concat(Mr(f,t))))}function hn(t){return t?t instanceof ki:!1}var Zs=Object.defineProperty,Js=(t,f,o)=>f in t?Zs(t,f,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[f]=o,Xt=(t,f,o)=>(Js(t,typeof f!="symbol"?f+"":f,o),o),xr=t=>{let f,o=new Set,l=(g,_)=>{let p=typeof g=="function"?g(f):g;if(!Object.is(p,f)){let y=f;f=_??typeof p!="object"?p:Object.assign({},f,p),o.forEach(I=>I(f,y))}},h=()=>f,v={setState:l,getState:h,subscribe:g=>(o.add(g),()=>o.delete(g)),destroy:()=>o.clear()};return f=t(l,h,v),v},$s=t=>t?xr(t):xr;function yi(t,f){let o=(t||"").replace(/\n/,"").trim();return typeof f!="undefined"?o.split(f):o}function Hi(t,f){this._waveformData=t,this._channelIndex=f}Hi.prototype.min_sample=function(t){var f=(t*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._at(f)};Hi.prototype.max_sample=function(t){var f=(t*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._at(f)};Hi.prototype.set_min_sample=function(t,f){var o=(t*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._set_at(o,f)};Hi.prototype.set_max_sample=function(t,f){var o=(t*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._set_at(o,f)};Hi.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2)};Hi.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2+1)};var Ki=127,bn=-128;function eo(t,f){var o=Math.floor(t/f),l=t-o*f;return l>0&&o++,o}function to(t){var f=t.scale,o=t.amplitude_scale,l=t.split_channels,h=t.length,m=t.sample_rate,u=t.channels.map(function(A){return new Float32Array(A)}),v=l?u.length:1,g=v===1?1:2,_=g===1?20:24,p=eo(h,f),y=_+p*2*v,I=new ArrayBuffer(y),E=new DataView(I),D=0,R=_,S,L,B=new Array(v),k=new Array(v);for(S=0;S<v;S++)B[S]=1/0,k[S]=-1/0;for(E.setInt32(0,g,!0),E.setUint32(4,1,!0),E.setInt32(8,m,!0),E.setInt32(12,f,!0),E.setInt32(16,p,!0),g===2&&E.setInt32(20,v,!0),L=0;L<h;L++){var b=0;if(v===1){for(S=0;S<u.length;++S)b+=u[S][L];b=Math.floor(Ki*b*o/u.length),b<B[0]&&(B[0]=b,B[0]<bn&&(B[0]=bn)),b>k[0]&&(k[0]=b,k[0]>Ki&&(k[0]=Ki))}else for(S=0;S<v;++S)b=Math.floor(Ki*u[S][L]*o),b<B[S]&&(B[S]=b,B[S]<bn&&(B[S]=bn)),b>k[S]&&(k[S]=b,k[S]>Ki&&(k[S]=Ki));if(++D===f){for(S=0;S<v;S++)E.setInt8(R++,B[S]),E.setInt8(R++,k[S]),B[S]=1/0,k[S]=-1/0;D=0}}if(D>0)for(S=0;S<v;S++)E.setInt8(R++,B[S]),E.setInt8(R++,k[S]);return I}function cn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cn=function(f){return typeof f}:cn=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},cn(t)}function io(t){return t&&cn(t)==="object"&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t}function no(t){var f=t&&cn(t)==="object"&&"byteLength"in t;if(f){var o=new DataView(t),l=o.getInt32(0,!0);if(l!==1&&l!==2)throw new TypeError("WaveformData.create(): This waveform data version not supported")}return f}function ro(t){var f=t.data,o=t.channels||1,l=24,h=t.bits===8?1:2,m=t.length*2*o;if(f.length!==m)throw new Error("WaveformData.create(): Length mismatch in JSON waveform data");var u=l+f.length*h,v=new ArrayBuffer(u),g=new DataView(v);g.setInt32(0,2,!0),g.setUint32(4,t.bits===8,!0),g.setInt32(8,t.sample_rate,!0),g.setInt32(12,t.samples_per_pixel,!0),g.setInt32(16,t.length,!0),g.setInt32(20,o,!0);var _=l,p;if(t.bits===8)for(p=0;p<f.length;p++)g.setInt8(_++,f[p],!0);else for(p=0;p<f.length;p++)g.setInt16(_,f[p],!0),_+=2;return v}function so(t,f){var o=atob(t);if(f){for(var l=new Uint8Array(o.length),h=0,m=o.length;h<m;++h)l[h]=o.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(l.buffer))}return o}function oo(t,f,o){var l=f===void 0?null:f,h=o===void 0?!1:o,m=so(t,h),u=m.indexOf(`
`,10)+1,v=m.substring(u)+(l?"//# sourceMappingURL="+l:""),g=new Blob([v],{type:"application/javascript"});return URL.createObjectURL(g)}function ao(t,f,o){var l;return function(m){return l=l||oo(t,f,o),new Worker(l,m)}}var lo=ao("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=",null,!1);function bi(t){if(io(t)&&(t=ro(t)),no(t)){this._data=new DataView(t),this._offset=this._version()===2?24:20,this._channels=[];for(var f=0;f<this.channels;f++)this._channels[f]=new Hi(this,f)}else throw new TypeError("WaveformData.create(): Unknown data format")}var Cn={scale:512,amplitude_scale:1,split_channels:!1,disable_worker:!1};function uo(t){var f={scale:t.scale||Cn.scale,amplitude_scale:t.amplitude_scale||Cn.amplitude_scale,split_channels:t.split_channels||Cn.split_channels,disable_worker:t.disable_worker||Cn.disable_worker};return f}function fo(t){for(var f=[],o=0;o<t.numberOfChannels;++o)f.push(t.getChannelData(o).buffer);return f}function Pr(t,f,o){var l=fo(t);if(f.disable_worker){var h=to({scale:f.scale,amplitude_scale:f.amplitude_scale,split_channels:f.split_channels,length:t.length,sample_rate:t.sampleRate,channels:l});o(null,new bi(h),t)}else{var m=new lo;m.onmessage=function(u){o(null,new bi(u.data),t)},m.postMessage({scale:f.scale,amplitude_scale:f.amplitude_scale,split_channels:f.split_channels,length:t.length,sample_rate:t.sampleRate,channels:l},l)}}function ho(t,f,o,l){function h(m){m||(m=new DOMException("EncodingError")),l(m)}t.decodeAudioData(f,function(m){Pr(m,o,l)},h)}bi.create=function(f){return new bi(f)};bi.createFromAudio=function(t,f){var o=uo(t);if(t.audio_context&&t.array_buffer)return ho(t.audio_context,t.array_buffer,o,f);if(t.audio_buffer)return Pr(t.audio_buffer,o,f);throw new TypeError("WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")};bi.prototype={resample:function(f){if(f.scale=typeof f.scale=="number"?f.scale:null,f.width=typeof f.width=="number"?f.width:null,f.width!=null&&f.width<=0)throw new RangeError("WaveformData.resample(): width should be a positive integer value");if(f.scale!=null&&f.scale<=0)throw new RangeError("WaveformData.resample(): scale should be a positive integer value");if(!f.scale&&!f.width)throw new Error("WaveformData.resample(): Missing scale or width option");var o=f.scale||Math.floor(this.duration*this.sample_rate/f.width),l=this.scale,h=this.length,m=h*this.scale,u=Math.ceil(m/o),v=24,g=this.bits===8?1:2,_=v+u*2*this.channels*g,p=new ArrayBuffer(_),y=new DataView(p);y.setInt32(0,2,!0),y.setUint32(4,this.bits===8,!0),y.setInt32(8,this.sample_rate,!0),y.setInt32(12,o,!0),y.setInt32(16,u,!0),y.setInt32(20,this.channels,!0);var I=new bi(p),E=0,D=0,R=this.channels,S=new Array(R),L=new Array(R),B;for(B=0;B<R;++B)h>0?(S[B]=this.channel(B).min_sample(E),L[B]=this.channel(B).max_sample(E)):(S[B]=0,L[B]=0);var k=this.bits===8?-128:-32768,b=this.bits===8?127:32767;if(o<l)throw new Error("WaveformData.resample(): Zoom level "+o+" too low, minimum: "+l);var A,G,w,M,U;function j(le){return Math.floor(le*o)}for(;E<h;){for(;Math.floor(j(D)/l)===E;){if(D>0)for(B=0;B<R;++B)I.channel(B).set_min_sample(D-1,S[B]),I.channel(B).set_max_sample(D-1,L[B]);if(U=E,D++,A=j(D),G=j(D-1),A!==G)for(B=0;B<R;++B)S[B]=b,L[B]=k}for(A=j(D),w=Math.floor(A/l),w>h&&(w=h);E<w;){for(B=0;B<R;++B)M=this.channel(B).min_sample(E),M<S[B]&&(S[B]=M),M=this.channel(B).max_sample(E),M>L[B]&&(L[B]=M);E++}}if(E!==U)for(B=0;B<R;++B)I.channel(B).set_min_sample(D-1,S[B]),I.channel(B).set_max_sample(D-1,L[B]);return I},concat:function(){var f=this,o=Array.prototype.slice.call(arguments);o.forEach(function(h){if(f.channels!==h.channels||f.sample_rate!==h.sample_rate||f.bits!==h.bits||f.scale!==h.scale)throw new Error("WaveformData.concat(): Waveforms are incompatible")});var l=this._concatBuffers.apply(this,o);return bi.create(l)},_concatBuffers:function(){var f=Array.prototype.slice.call(arguments),o=this._offset,l=o,h=0,m=[this].concat(f).map(function(D){return D._data.buffer}),u,v;for(u=0;u<m.length;u++){v=m[u];var g=new DataView(v).getInt32(16,!0);l+=v.byteLength-o,h+=g}var _=new ArrayBuffer(l),p=new DataView(m[0]),y=new DataView(_);for(u=0;u<o;u++)y.setUint8(u,p.getUint8(u));y.setInt32(16,h,!0);var I=0,E=new Uint8Array(_,o);for(u=0;u<m.length;u++)v=m[u],E.set(new Uint8Array(v,o),I),I+=v.byteLength-o;return _},_offsetValues:function(f,o,l){var h=[],m=this.channels;l+=f*m*2;for(var u=0;u<o;u++)h.push(this._at(u*m*2+l));return h},_version:function(){return this._data.getInt32(0,!0)},get length(){return this._data.getUint32(16,!0)},get bits(){var t=Boolean(this._data.getUint32(4,!0));return t?8:16},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._version()===2?this._data.getInt32(20,!0):1},channel:function(f){if(f>=0&&f<this._channels.length)return this._channels[f];throw new RangeError("Invalid channel: "+f)},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},_at:function(f){return this.bits===8?this._data.getInt8(this._offset+f):this._data.getInt16(this._offset+f*2,!0)},_set_at:function(f,o){return this.bits===8?this._data.setInt8(this._offset+f,o):this._data.setInt16(this._offset+f*2,o,!0)},at_time:function(f){return Math.floor(f*this.sample_rate/this.scale)},time:function(f){return f*this.scale/this.sample_rate},toJSON:function(){for(var f={version:2,channels:this.channels,sample_rate:this.sample_rate,samples_per_pixel:this.scale,bits:this.bits,length:this.length,data:[]},o=0;o<this.length;o++)for(var l=0;l<this.channels;l++)f.data.push(this.channel(l).min_sample(o)),f.data.push(this.channel(l).max_sample(o));return f},toArrayBuffer:function(){return this._data.buffer}};async function co(t){return bi.create(t)}function po(t){let f=[];if(t.indexOf("#")===-1&&t.indexOf(",")!==-1){let o=yi(t,",");for(let l of o){let[h,m=h]=yi(l," ");m&&h&&f.push({id:m,waveform:h,data:null})}}else{let o=yi(t,"|");for(let l of o){let[h,m]=yi(l," "),u={id:m,waveform:h,data:null};if(m&&m.indexOf("#t=")!==-1){let[v,g]=yi(m,"#t="),[_,p]=yi(g,","),y=parseFloat(_),I=parseFloat(p);!Number.isNaN(y)&&!Number.isNaN(I)&&(u.segment={start:y,end:I,id:m},u.id=v,u.duration=I-y)}m&&h&&f.push(u)}}return f}var Qi={};function go(t){return $s()((f,o,l)=>({sources:[],sequence:[],...t,duration:0,currentTime:0,hoverTime:0,quality:1,bufferedSlices:[],waveforms:[],dimensions:{pageX:0,pageY:0,height:0,width:0,dpi:0},isLoading:!0,pointer:{isDown:!1},mouse:{isHover:!1,isActive:!1},setDimensions(h,m=0){f({dimensions:{width:h.width,height:h.height,pageY:h.y,pageX:h.x,dpi:m}})},setHover(h){f(m=>{let u=Math.abs(h)/m.dimensions.width;return{hoverTime:m.duration*u}})},async fetchWaveform(h){if(h)return fetch(h).then(m=>m.arrayBuffer()).then(m=>co(m)).then(m=>(f(u=>({sources:(u.sources||[]).map(v=>v.waveform===h?{...v,duration:m.duration,data:m}:v)})),m))},resize:async function(h){let m=o(),u=[],v=!1,g=0,_=m.sequence&&m.sequence.length!==0?m.sequence:(m.sources||[]).map((I,E)=>({startTime:I.segment?I.segment.start:0,endTime:I.segment?I.segment.end:m.duration,id:I.id,source:I.id+E,waveform:null})),p=[];for(let I of _){let E=(m.sources||[]).filter(D=>{if(D.id===I.id){if(D.segment){let R=D.segment;return I.endTime>R.start&&I.startTime<R.end}return!0}return!1});if(E.length>1){let D=I;for(let R=0;R<E.length;R++){let S=E[R],L=S.segment?Math.max(D.startTime,S.segment.start):D.startTime,B=S.segment?Math.min(D.endTime,S.segment.end):D.endTime;p.push({...D,source:D.id+"__"+L+"__"+B,startTime:L,endTime:B})}continue}p.push(I)}let y=p.length;for(let I=0;I<p.length;I++){let E=p[I];if(h())return;f({loadingProgress:I/y});let D=(m.sources||[]).find(B=>B.id===E.id?B.segment?E.startTime>=B.segment.start&&E.endTime<=B.segment.end:!0:!1),R=D.segment?E.startTime-D.segment.start:E.startTime,S=D.segment?E.endTime-D.segment.start:E.endTime;if(!(S-R<=0)){if(D&&D.data&&m.dimensions.width){let B=m.quality,k=(S||D.data.duration)-(R||0),b=k/m.duration,A=m.dimensions.width*b,G=Math.min(1,k/D.data.duration),w=g/m.duration*m.dimensions.width,M=B*A*(1/G),U=Math.floor(D.data.duration*D.data.sample_rate/M);U<D.data.scale&&(B*=U/D.data.scale,M=B*A*(1/G),console.warn("Selected quality too high, or segment too small",{quality:B,newWidth:M}));try{let j=D.data.resample({width:M});await new Promise(le=>setTimeout(le,0)),v=!0,u.push({...E,waveform:{data:j,atWidth:A,startPixel:w,quality:B,segment:D.segment}})}catch(j){console.error(j)}}else u.push(E);g+=S-R}}v&&f({sequence:u,loadingProgress:0})},async setAttributes(h,m,u){let v=[],g={isLoading:!0},_=[];if(typeof h.duration!="undefined"){let p=parseFloat(h.duration);Number.isNaN(p)||(g.duration=p)}if(typeof h["current-time"]!="undefined"&&(g.currentTime=Number(h["current-time"])),typeof h.srcset!="undefined"){let p=po(h.srcset);for(let y of p)Qi[y.id]=Qi[y.id]?Qi[y.id]:[],Qi[y.id].push(()=>this.fetchWaveform(y.waveform));g.sources=p}else if(typeof h.src!="undefined"){let[p,y=p]=yi(h.src," ");p&&(g.sources=[{id:y,waveform:p,data:null,duration:-1}],v.push(this.fetchWaveform(p).then(I=>{f(E=>E.duration?{}:{duration:I.duration})})))}if(typeof h.quality!="undefined"){let p=parseFloat(h.quality);p&&!Number.isNaN(p)&&(g.quality=p)}if(typeof h.sequence!="undefined"){let p=[],y=yi(h.sequence,"|"),I=0;for(let E of y){let[D,R]=yi(E,"#t="),[S,L]=yi(R,","),B=Qi[D];B&&!_.includes(D)&&(_.push(D),v.push(...B.map(A=>A())),Qi[D]=null);let k=parseFloat(S),b=parseFloat(L);I+=b-k,p.push({startTime:k,endTime:b,id:D,source:E.replace(/[#,:.\n]/g,"__").trim(),waveform:null})}g.duration=I,g.sequence=p}if(f(g),(g.sources||g.sequence||g.quality)&&!m&&await o().resize(u),v.length){try{await Promise.all(v)}catch(p){console.error(p)}f({isLoading:!1}),await o().resize(u);return}f({isLoading:!1})}}))}function Nr(t,f,o=128){let l=f;o===0&&(o=1);let h=o/2;return l-(t+h)*l/o}function ci(t,f){let o=document.createElementNS("http://www.w3.org/2000/svg",t);for(let l of Object.keys(f)){let h=f[l];o.setAttributeNS(null,l,h)}return o}var Or=class extends HTMLElement{constructor(){super();Xt(this,"store"),Xt(this,"hasInitialised",!1),Xt(this,"initialAttributes",{}),Xt(this,"unsubscribe"),Xt(this,"invalidation",{dimensions:!1,sequence:!1}),Xt(this,"svg"),Xt(this,"svgParts"),Xt(this,"buffered"),Xt(this,"waveformCache",{}),Xt(this,"lastBufferedStarts",[]),Xt(this,"lastWidth",-1),Xt(this,"lastHeight",-1),Xt(this,"resizeTimout",-1),Xt(this,"requeueResize",!1),Xt(this,"resize",()=>{this.resizeTimout===-1&&(this.resizeTimout=setTimeout(this.forceResize,0))}),Xt(this,"isAlreadyResizing",!1),Xt(this,"forceResize",()=>{this.resizeTimout=-1;let l=this.getBoundingClientRect(),h=window.devicePixelRatio||1;this.store.getState().setDimensions(l,h);let{width:m,height:u}=this.getBoundingClientRect();if(this.lastWidth=m,this.lastHeight=u,this.svg.setAttributeNS(null,"height",`${u}px`),this.svg.setAttributeNS(null,"width","100%"),this.svg.setAttributeNS(null,"preserveAspectRatio","none"),this.svg.setAttributeNS(null,"viewBox",`0 0 ${m} ${u}`),this.hasInitialised){if(this.isAlreadyResizing){this.requeueResize=!0;return}this.isAlreadyResizing=!0,this.setIsLoading(!0),this.store.getState().resize(()=>this.requeueResize).then(()=>{this.setIsLoading(!1),this.resizeTimout=-1,this.isAlreadyResizing=!1,this.requeueResize&&(this.resize(),this.requeueResize=!1)})}}),Xt(this,"attributeQueue",{}),Xt(this,"attributeTimeout",-1),Xt(this,"isAlreadyUpdating",!1),Xt(this,"requeueUpdate",!1),Xt(this,"windowEvent",!1),this.attachShadow({mode:"open"});let f=document.createElement("style");f.innerHTML=`
        :host {
            display: block;
            --waveform-background: #000;
            --waveform-base: #8a9aa1;
            --waveform-hover: #14a4c3;
            --waveform-buffered: #fff;
            --waveform-progress: rgba(255, 255, 255, .4);
        }

        svg {
            background: var(--waveform-background, #000);
        }

        svg .waveforms {
            transition: opacity 140ms;
        }

        svg rect.hover {
            fill: var(--waveform-hover, #14a4c3);
        }

        svg rect.base {
            fill: var(--waveform-base, #8a9aa1);
        }

        svg rect.progress {
            fill: var(--waveform-progress, #14a4c3);
        }

        svg .buffered rect {
            fill: var(--waveform-buffered, #fff);
        }

        svg .loading {
            translate: 0px -0.5px;
        }
    `,this.store=go({}),this.createEmptySVG(),this.shadowRoot.appendChild(this.svg),this.shadowRoot.appendChild(f);let o=this.render.bind(this);this.unsubscribe=this.store.subscribe((l,h)=>{l.sequence!==h.sequence&&(this.invalidation.sequence=!0),l.isLoading!==h.isLoading&&this.setIsLoading(l.isLoading),l.loadingProgress!==h.loadingProgress&&this.svgParts.loading&&(this.svgParts.loading.style.width=`${l.loadingProgress*100}%`),l.dimensions!==h.dimensions&&(this.invalidation.dimensions=!0),requestAnimationFrame(o)})}set currentTime(f){this.store.setState({currentTime:f})}get currentTime(){return this.store.getState().currentTime}get duration(){return this.store.getState().duration}get quality(){return this.store.getState().quality}reseek(f){f&&(this.buffered=f),this.buffered}createEmptySVG(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svg.style.background="var(--waveform-background, #000)";let f=(Math.random()+1).toString(36).substring(2);this.svgParts={loading:ci("rect",{x:"0",y:"50%",width:"",height:"1",fill:"#fff",class:"loading"}),mask:ci("mask",{id:"waveform-"+f}),waveforms:ci("g",{class:"waveforms"}),maskBg:ci("rect",{x:"0",y:"0",width:`${this.store.getState().dimensions.width}px`,height:"100%",fill:"#000"}),base:ci("rect",{class:"base",mask:"url(#waveform-"+f+")",x:"0px",y:"0px",width:"100%",height:"100%"}),progress:ci("rect",{class:"progress",mask:"url(#waveform-"+f+")",x:"0px",y:"0px",width:"0px",height:"100%"}),hover:ci("rect",{class:"hover",mask:"url(#waveform-"+f+")",x:"0px",y:"0px",height:"100%"}),buffered:ci("g",{class:"buffered"}),line:ci("line",{class:"waveform-line",x1:"0px",stroke:"#999"})},this.svgParts.mask.appendChild(this.svgParts.maskBg),this.svgParts.mask.appendChild(this.svgParts.waveforms),this.svgParts.waveforms.appendChild(this.svgParts.line);let o=ci("defs",{});o.appendChild(this.svgParts.mask),this.svg.appendChild(o),this.svg.appendChild(this.svgParts.base),this.svg.appendChild(this.svgParts.buffered),this.svg.appendChild(this.svgParts.hover),this.svg.appendChild(this.svgParts.progress),this.svg.appendChild(this.svgParts.loading)}resizeSVG(){let f=this.store.getState().dimensions;this.svgParts.maskBg.setAttributeNS(null,"width",`${f.width}px`),this.svgParts.base.setAttributeNS(null,"height",`${f.height}px`),this.svgParts.progress.setAttributeNS(null,"height",`${f.height}px`),this.svgParts.hover.setAttributeNS(null,"height",`${f.height}px`),this.svgParts.line.setAttributeNS(null,"x2",`${f.width}px`),this.svgParts.line.setAttributeNS(null,"y1",`${f.height/2}px`),this.svgParts.line.setAttributeNS(null,"y2",`${f.height/2}px`)}addSequenceToSVG(f){if(!f.waveform)return;let o=this.svgParts.waveforms.querySelector(`[data-sequence="${f.source}"]`),l=f.waveform.data,h=l.channel(0),m=f.waveform.segment?f.startTime-f.waveform.segment.start:f.startTime,u=f.waveform.segment?f.endTime-f.waveform.segment.start:f.endTime;u>l.duration&&(console.warn("Data does not match waveform duration",{overflow:u-l.duration}),u=l.duration-.01);let v=~~(l.pixels_per_second*m),g=~~(l.pixels_per_second*(u-m)),_=v+g,p=this.store.getState().dimensions.height,y=[],I=!1,E,D=[],R=[];for(let k=v;k<_;k++)try{let b=h.max_sample(k);Number.isSafeInteger(b)&&(D[k]=b)}catch(b){E=b,I=!0}for(let k=_;k>=v;k--)try{let b=h.min_sample(k);Number.isSafeInteger(b)&&(R[k]=b)}catch(b){E=b,I=!0}if(D.length===0||R.length===0)return;let S=Math.max(0,...D.filter(k=>typeof k!="undefined"))*2.5,L=Math.abs(Math.min(...R.filter(k=>typeof k!="undefined")))*2.5;for(let k=v;k<_;k++){let b=D[k];if(typeof b!="undefined"){let A=(k-v)/(f.waveform.quality||1);y.push([f.waveform.startPixel+(A===0?-2:A+.5),Nr(b,p,S+1)+.5])}}for(let k=_;k>=v;k--){let b=R[k];if(typeof b!="undefined"){let A=(k-v)/(f.waveform.quality||1);y.push([f.waveform.startPixel+(A===0?-2:A+.5),Nr(b,p,L+1)+.5])}}I&&(E&&console.error(E),console.error("Error rendering waveform",h,f),console.log("Debug component",this.outerHTML));let B=y.map(k=>k.join(",")).join(" ");if(o)o.setAttributeNS(null,"points",B);else{let k=ci("polygon",{points:B,fill:"#fff","data-sequence":f.source});this.svgParts.waveforms.appendChild(k)}}removeSequenceFromSVG(f){var o;let l=this.svgParts.waveforms.querySelector(`[data-sequence="${f}"]`);l&&((o=l.parentNode)==null||o.removeChild(l))}render(){let{isLoading:f,sources:o,currentTime:l,sequence:h,dimensions:m,hoverTime:u,duration:v,mouse:g}=this.store.getState();if(this.invalidation.dimensions&&(this.resizeSVG(),this.reseek(),this.invalidation.dimensions=!1),this.invalidation.sequence){let y=h.map(I=>I.source);for(let I of[...this.svgParts.waveforms.children]){let E=I.getAttribute("data-sequence");y.includes(E)||this.removeSequenceFromSVG(E)}for(let I of h)this.addSequenceToSVG(I);this.invalidation.sequence=!1}if(f)return;let _=g.isHover?Math.abs(~~(m.width/v*u)):0,p=Math.abs(~~(m.width/v*l));this.svgParts.hover.setAttributeNS(null,"width",`${_}px`),this.svgParts.base.setAttributeNS(null,"x",`${_}px`),this.svgParts.progress.setAttributeNS(null,"width",`${p}px`)}static get observedAttributes(){return["src","srcset","duration","quality","sequence","current-time","resize"]}setIsLoading(f){this.svgParts.waveforms.style.opacity=`${f?0:1}`}connectedCallback(){if(this.isConnected){this.initialAttributes.resize==="true"&&(this.windowEvent=!0,window.addEventListener("resize",this.resize)),this.store.getState().setAttributes(this.initialAttributes,!0,()=>!1).then(()=>{}),this.initialAttributes={},this.resize(),this.hasInitialised=!0;let f={x:0,y:0,moved:!1};this.addEventListener("touchstart",o=>{o.preventDefault();let{dimensions:l}=this.store.getState();this.store.setState({pointer:{isDown:!0}}),f.x=o.touches[0].pageX-l.pageX,f.y=o.touches[0].pageY-l.pageY,this.store.getState().setHover(f.x)}),this.addEventListener("touchmove",o=>{if(this.store.getState().pointer.isDown&&o.touches.length){o.preventDefault();let{dimensions:l}=this.store.getState();f.x=o.touches[0].pageX-l.pageX,f.y=o.touches[0].pageY-l.pageY,f.moved=!0,this.store.getState().setHover(f.x)}}),this.addEventListener("touchend",o=>{o.preventDefault(),this.store.getState().pointer.isDown&&(this.store.setState({pointer:{isDown:!1}}),this.moveToPoint(f,!0),f.moved=!1)}),this.addEventListener("click",o=>{o.preventDefault();let{dimensions:l}=this.store.getState(),h={x:o.pageX-l.pageX,y:o.pageY-l.pageY};this.moveToPoint(h,!0)}),this.addEventListener("mousemove",o=>{let{dimensions:l}=this.store.getState(),h={x:o.pageX-l.pageX,y:o.pageY-l.pageY};this.store.getState().setHover(h.x)}),this.addEventListener("pointerenter",o=>{this.store.setState(l=>({mouse:{...l.mouse,isHover:!0}}))}),this.addEventListener("pointerleave",o=>{this.store.setState(l=>({mouse:{...l.mouse,isHover:!1}}))}),this.addEventListener("pointerdown",o=>{this.store.setState(l=>({mouse:{...l.mouse,isActive:!0}}))}),this.addEventListener("pointerup",o=>{this.store.setState(l=>({mouse:{...l.mouse,isActive:!1}}))})}}moveToPoint(f,o=!1){this.store.setState(l=>{let h=Math.abs(f.x)/l.dimensions.width,m=l.duration*h,u=0,v;for(let g of l.sequence){if(v=g,m<u+g.endTime-g.startTime)break;u+=g.endTime-g.startTime}return o&&!this.dispatchEvent(new CustomEvent("click-waveform",{detail:{time:m,percent:h,target:f,currentSequence:v,sequenceTime:m-u},cancelable:!0,bubbles:!0}))?{}:(this.setAttribute("current-time",`${m}`),{currentTime:m})})}attributeChangedCallback(f,o,l){this.hasInitialised?(this.attributeQueue[f]=l,this.queueUpdate()):this.initialAttributes[f]=l}queueUpdate(){this.attributeTimeout===-1&&(this.attributeTimeout=setTimeout(this.updateAttributes.bind(this),10)),this.requeueUpdate=!1}updateAttributes(){if(this.attributeTimeout=-1,this.isAlreadyUpdating){this.requeueUpdate=!0;return}this.hasInitialised&&(this.isAlreadyUpdating=!0,this.setIsLoading(!0),this.store.getState().setAttributes(this.attributeQueue,!1,()=>this.requeueUpdate).then(()=>{this.setIsLoading(!1),this.isAlreadyUpdating=!1,this.requeueUpdate&&this.queueUpdate()}),this.attributeQueue={})}disconnectedCallback(){this.unsubscribe(),this.windowEvent&&window.removeEventListener("resize",this.resize)}};customElements.define("waveform-panel",Or);console.log("<waveform-panel /> version v1.2.0");var pn=function(t,f,o,l){function h(m){return m instanceof o?m:new o(function(u){u(m)})}return new(o||(o=Promise))(function(m,u){function v(p){try{_(l.next(p))}catch(y){u(y)}}function g(p){try{_(l.throw(p))}catch(y){u(y)}}function _(p){p.done?m(p.value):h(p.value).then(v,g)}_((l=l.apply(t,f||[])).next())})},Yt=Oi(),$n=class extends qi{constructor(f){super(f);this._canvasClockFrequency=25,this._canvasClockStartDate=0,this._canvasClockTime=0,this._canvasHeight=0,this._canvasWidth=0,this._data=this.data(),this._highPriorityFrequency=25,this._isPlaying=!1,this._isStalled=!1,this._lowPriorityFrequency=250,this._mediaSyncMarginSecs=1,this._rangeSpanPadding=.25,this._readyMediaCount=0,this._stallRequestedBy=[],this._wasPlaying=!1,this.ranges=[],this.waveforms=[],this.waveformSources=[],this._buffering=!1,this._bufferShown=!1,this.isOnlyCanvasInstance=!1,this.autoAdvanceRanges=!0,this.waveFormInit=!1,this.resizeTimeout=-1,this._$element=Yt(this.options.target),this._data=this.options.data,this.$playerElement=Yt('<div class="player player--loading"></div>'),this.$playerElement.hide()}loaded(){setTimeout(()=>{this.$playerElement.removeClass("player--loading")},500)}isPlaying(){return this._isPlaying}getClockTime(){return this._canvasClockTime}createTimeStops(){var f,o,l;let h=this._data.helper,m=this._data.canvas;if(!h||!m)return;this.ranges=[],this._contentAnnotations=[];let u=m.canvases,v=[];for(let p of u){let y=p.getContent();for(let I of y){let E=qn(I);if(!E)continue;let D=Zn(I,E,{id:p.id,duration:p.getDuration()||0,height:p.getHeight(),width:p.getWidth()}),R=new Gn(D,{adaptiveAuthEnabled:this._data.adaptiveAuthEnabled,probed:(l=(o=(f=this.options.data)===null||f===void 0?void 0:f.canvas)===null||o===void 0?void 0:o.externalResource)===null||l===void 0?void 0:l.isProbed});R.setSize(this._convertToPercentage(D.x||0,p.getHeight()),this._convertToPercentage(D.y||0,p.getWidth()),this._convertToPercentage(D.width||p.getWidth(),p.getWidth()),this._convertToPercentage(D.height||p.getHeight(),p.getHeight())),v.push(R);let S=I.getProperty("seeAlso");if(S&&S.length){let L=S[0].id;this.waveforms.push(L);let B=/t=([^&]+)/g.exec(I.__jsonld.target),[k,b]=((B||[])[1]||"").split(",").map(A=>parseFloat(A));this.waveformSources.push({source:L,canvas:p.id,start:k,end:b,itemData:{start:k,end:b,source:I.id}})}}}v.length===0&&setTimeout(()=>{var p,y;this.fire(Ht.MEDIA_ERROR,((y=(p=this._data)===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.noMediaMessage)||"No media available to play")},200);let g=new Kn(v);g.appendTo(this.$playerElement),g.load().then(()=>{this.fire(Ht.MEDIA_READY)});let _=Qn(h.manifest,v);window.timePlanPlayer=this.timePlanPlayer=new zn(g,_,p=>{this.setCurrentRangeId(p,{autoChanged:!0})},p=>{this._canvasClockTime=p},p=>{this._buffering||(p?this.play(!0):this.pause(!0))},()=>{this._buffering=!0})}init(){if(!this._data||!this._data.content||!this._data.canvas){vt.warn("unable to initialise, missing canvas or content");return}this._$hoverPreviewTemplate=Yt('<div class="hover-preview"><div class="label"></div><div class="pointer"><span class="arrow"></span></div></div>'),this._$canvasContainer=Yt('<div class="canvas-container"></div>'),this._$optionsContainer=Yt('<div class="options-container"></div>'),this._$rangeTimelineContainer=Yt('<div class="range-timeline-container"></div>'),this._$canvasTimelineContainer=Yt('<div class="canvas-timeline-container"></div>'),this._$canvasHoverPreview=this._$hoverPreviewTemplate.clone(),this._$canvasHoverHighlight=Yt('<div class="hover-highlight"></div>'),this._$rangeHoverPreview=this._$hoverPreviewTemplate.clone(),this._$rangeHoverHighlight=Yt('<div class="hover-highlight"></div>'),this._$durationHighlight=Yt('<div class="duration-highlight"></div>'),this._$timelineItemContainer=Yt('<div class="timeline-item-container"></div>'),this._$controlsContainer=Yt('<div class="controls-container"></div>'),this._$prevButton=Yt(`
                                <button class="btn" title="${this._data.content.previous}">
                                    <i class="av-icon av-icon-previous" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.previous}</span>
                                </button>`),this._$playButton=Yt(`
                                <button class="btn" title="${this._data.content.play}">
                                    <i class="av-icon av-icon-play play" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.play}</span>
                                </button>`),this._$nextButton=Yt(`
                                <button class="btn" title="${this._data.content.next}">
                                    <i class="av-icon av-icon-next" aria-hidden="true"></i>
                                    <span class="sr-only>${this._data.content.next}</span>
                                </button>`),this._$fastForward=Yt(`
                                <button class="btn" title="${this._data.content.fastForward}">
                                    <i class="av-icon av-icon-fast-forward" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastForward||""}
                                    </span>
                                </button>`),this._$fastRewind=Yt(`
                                <button class="btn" title="${this._data.content.fastRewind}">
                                    <i class="av-icon av-icon-fast-rewind" aria-hidden="true"></i>
                                    <span class="sr-only>
                                    ${this._data.content.fastRewind||""}
                                    </span>
                                </button>`),this._$timeDisplay=Yt('<div class="time-display"><span class="canvas-time"></span> / <span class="canvas-duration"></span></div>'),this._$canvasTime=this._$timeDisplay.find(".canvas-time"),this._$canvasDuration=this._$timeDisplay.find(".canvas-duration"),this.isVirtual()&&this.$playerElement.addClass("virtual");let f=Yt('<div class="volume"></div>');this._volume=new Xn({target:f[0],data:Object.assign({},this._data)}),this._volume.on(hi.VOLUME_CHANGED,_=>{this.fire(hi.VOLUME_CHANGED,_)},!1),this._$controlsContainer.append(this._$prevButton,this._data.enableFastRewind?this._$fastRewind:null,this._$playButton,this._data.enableFastForward?this._$fastForward:null,this._$nextButton,this._$timeDisplay,f),this._$canvasTimelineContainer.append(this._$canvasHoverPreview,this._$canvasHoverHighlight,this._$durationHighlight),this._$rangeTimelineContainer.append(this._$rangeHoverPreview,this._$rangeHoverHighlight),this._$optionsContainer.append(this._$canvasTimelineContainer,this._$rangeTimelineContainer,this._$controlsContainer),this.$playerElement.append(this._$canvasContainer,this._$optionsContainer),this._$canvasHoverPreview.hide(),this._$rangeHoverPreview.hide();let o=this.isVirtual()&&kt.newRanges;if(o&&this.createTimeStops(),!o&&this._data&&this._data.helper&&this._data.canvas){let _=[];hn(this._data.canvas)?this._data.canvas.canvases.forEach(p=>{if(this._data&&this._data.helper){let y=this._data.helper.getCanvasRanges(p),I=[];y.forEach(E=>{let D=jQuery.extend(!0,{},E);if(I.push(D),D.canvases&&D.canvases.length)for(let R=0;R<D.canvases.length;R++)hn(this._data.canvas)&&(D.canvases[R]=rn(this._data.canvas.canvases,D.__jsonld.items[R].id))}),_.push(...I)}}):_=_.concat(this._data.helper.getCanvasRanges(this._data.canvas)),_.forEach(p=>{this.ranges.push(p)})}let l=this._data.canvas.getWidth(),h=this._data.canvas.getHeight();l?this._canvasWidth=l:this._canvasWidth=this.$playerElement.parent().width(),h?this._canvasHeight=h:this._canvasHeight=this._canvasWidth*(this._data.defaultAspectRatio||1);let m=this,u=0,v=0;if(this._$prevButton.on("touchstart click",_=>{_.preventDefault(),u++,u===1?(this._previous(!1),v=setTimeout(()=>{u=0,v=0},this._data.doubleClickMS)):(this._previous(!0),clearTimeout(v),u=0,v=0)}),this._$playButton.on("touchstart click",_=>{_.preventDefault(),this._isPlaying?this.pause():this.play()}),this._$nextButton.on("touchstart click",_=>{_.preventDefault(),this._next()}),this._$fastForward.on("touchstart click",_=>{let{end:p}=this.getRangeTiming(),y=Li(this.getClockTime(),20);return y<p?this._setCurrentTime(y):this._setCurrentTime(p)}),this._$fastRewind.on("touchstart click",_=>{let{start:p}=this.getRangeTiming(),y=Kt(this.getClockTime(),20);return y>=p?this._setCurrentTime(y):this._setCurrentTime(p)}),o?this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",min:0,max:this.timePlanPlayer.getDuration(),animate:!1,slide:(_,p)=>{this._setCurrentTime(this.timePlanPlayer.plan.start+p.value)}}):this._$canvasTimelineContainer.slider({value:0,step:.01,orientation:"horizontal",range:"min",max:m._getDuration(),animate:!1,create:function(_,p){},slide:function(_,p){m._setCurrentTime(p.value)},stop:function(_,p){}}),this._$canvasTimelineContainer.mouseout(()=>{m._$canvasHoverHighlight.width(0),m._$canvasHoverPreview.hide()}),this._$rangeTimelineContainer.mouseout(()=>{m._$rangeHoverHighlight.width(0),m._$rangeHoverPreview.hide()}),this._$canvasTimelineContainer.on("mousemove",_=>{o?this._updateHoverPreview(_,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration()):this._updateHoverPreview(_,this._$canvasTimelineContainer,this._getDuration())}),this._$rangeTimelineContainer.on("mousemove",_=>{if(o)this._updateHoverPreview(_,this._$canvasTimelineContainer,this.timePlanPlayer.getDuration());else if(this._data.range){let p=this._data.range.getDuration();this._updateHoverPreview(_,this._$rangeTimelineContainer,p?p.getLength():0)}}),o)return;this._contentAnnotations=[];let g=this._data.canvas.getContent();this._$timelineItemContainer.hide();for(let _=0;_<g.length;_++){let p=g[_],y,I=p.getBody();if(!I.length){vt.warn("item has no body");return}let E=this._getBody(I);if(!E){vt.warn("unable to find suitable format for",p.id);continue}let D=E.getType(),R=E.getFormat();D&&D.toString()==="textualbody"||(y=E.id.split("#")[0]);let S=p.getTarget();if(!S){vt.warn("item has no target");return}let L=fn(S),B=Jn.Utils.getTemporalComponent(S);L||(L=[0,0,this._canvasWidth,this._canvasHeight]),B||(B=[0,this._getDuration()]);let k=parseInt(String(L[0])),b=parseInt(String(L[1])),A=parseInt(String(L[2])),G=parseInt(String(L[3])),w=parseInt(String(B[0])),M=parseInt(String(B[1])),U=this._convertToPercentage(b,this._canvasHeight),j=this._convertToPercentage(k,this._canvasWidth),le=this._convertToPercentage(A,this._canvasWidth),Z=this._convertToPercentage(G,this._canvasHeight),ne=/t=([^&]+)/g.exec(E.id),X;ne&&ne[1]?X=ne[1].split(","):X=[null,null];let pe=X[0]?parseInt(X[0]):X[0],K=X[1]?parseInt(X[1]):X[1],de={active:!1,end:M,endOffset:K,format:R,height:Z,left:j,source:y,start:w,startOffset:pe,top:U,type:D,width:le};this._renderMediaElement(de);let fe=p.getProperty("seeAlso");if(fe&&fe.length){let re=fe[0].id;this.waveforms.push(re),this.waveformSources.push({canvas:this._data.canvas.id,source:re,start:0,end:de.end-de.start,itemData:de})}}}_getBody(f){for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&Bi(h)&&ln())return l}for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&Ui(h)&&!un())return l}for(let o=0;o<f.length;o++){let l=f[o],h=l.getFormat();if(h&&!Bi(h)&&!Ui(h))return l}return null}getDuration(){return this._getDuration()}_getDuration(){return this.isVirtual()&&kt.newRanges?this.timePlanPlayer.getDuration():this._data&&this._data.canvas?Math.floor(this._data.canvas.getDuration()):0}data(){return{waveformColor:"#fff",waveformBarSpacing:4,waveformBarWidth:2,volume:1}}isVirtual(){return this._data.canvas instanceof ki}isVisible(){return!!this._data.visible}includesVirtualSubCanvas(f){if(hn(this._data.canvas)&&this._data.canvas&&this._data.canvas.canvases)for(let o=0;o<this._data.canvas.canvases.length;o++){let l=this._data.canvas.canvases[o];if(Jn.Utils.normaliseUrl(l.id)===f)return!0}return!1}setVisibility(f){this._data.visible!==f&&(this._data.visible=f,f?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize())}viewRange(f){if(this.currentRange!==f){if(vt.log(`Switching range from ${this.currentRange} to ${f}`),this.setCurrentRangeId(f,{noRender:!1}),kt.newRanges&&this.isVirtual())this._setCurrentTime(this.timePlanPlayer.setRange(f),!0);else{let o=this._data.helper.getRangeById(f);this.set({range:jQuery.extend(!0,{autoChanged:!0},o)})}this._render()}}setCurrentRangeId(f,{autoChanged:o=!1,limitToRange:l=!1,noRender:h=!1}={}){o&&!this.autoAdvanceRanges||(vt.log("Setting current range id",f),f&&this.currentRange!==f?(this.currentRange=f,this.fire(Ht.RANGE_CHANGED,f)):f===null&&(this.currentRange=void 0,this.fire(Ht.RANGE_CHANGED,null)),h||this._render())}setVolume(f){this._volume.set({volume:f}),kt.newRanges&&this.isVirtual()&&this.timePlanPlayer.setVolume(f)}setLimitToRange(f){vt.log(this._data.constrainNavigationToRange),this.limitToRange!==f&&(this.limitToRange=f,this._render())}set(f){if(kt.newRanges&&this.isVirtual()){typeof f.range!="undefined"&&this.setCurrentRangeId(f.range.id,{limitToRange:f.limitToRange}),typeof f.rangeId!="undefined"&&this.setCurrentRangeId(f.rangeId,{limitToRange:f.limitToRange}),typeof f.volume!="undefined"&&this.setVolume(f.volume),typeof f.limitToRange!="undefined"&&this.setLimitToRange(f.limitToRange),typeof f.visible!="undefined"&&this.setVisibility(f.visible);return}let o=Object.assign({},this._data);this._data=Object.assign(this._data,f);let l=dn(o,this._data);if(l.includes("visible")&&this._data.canvas&&(this._data.visible?(this._rewind(),this.$playerElement.show()):(this.$playerElement.hide(),this.pause()),this.resize()),l.includes("volume")?this._contentAnnotations.forEach(h=>{let m=this._data.volume!==void 0?this._data.volume:1;Yt(h.element).prop("volume",m),this._volume.set({volume:this._data.volume})}):this.isVisible()&&this._render(),l.includes("range")){if(this._data.helper)if(!this._data.range)this.fire(Ht.RANGE_CHANGED,null);else{let h=this._data.range.getDuration();h&&typeof h!="undefined"&&((h.start>=this._canvasClockTime||h.end<=this._canvasClockTime)&&this._setCurrentTime(h.start),this._data.autoPlay&&this.play(),this.fire(Ht.RANGE_CHANGED,this._data.range.id,this._data.range))}l.includes("limitToRange")&&this._render()}}_hasRangeChanged(){if(this.isVirtual()&&kt.newRanges)return;let f=this._getRangeForCurrentTime();f&&!this._data.limitToRange&&(!this._data.range||this._data.range&&f.id!==this._data.range.id)&&this.set({range:jQuery.extend(!0,{autoChanged:!0},f)})}_getRangeForCurrentTime(f){let o;f?o=f.getRanges():o=this.ranges;for(let l=0;l<o.length;l++){let h=o[l],m=h.getBehavior();if(!(m&&m!=="no-nav")&&this._rangeSpansCurrentTime(h)){if(this._rangeNavigable(h))return h;let u=h.getRanges();for(let v=0;v<u.length;v++){let g=u[v];if(this._rangeSpansCurrentTime(g))return this._getRangeForCurrentTime(g)}return h.parentRange}}}_rangeSpansCurrentTime(f){return!!f.spansTime(Math.ceil(this._canvasClockTime)+this._rangeSpanPadding)}_rangeNavigable(f){let o=f.getBehavior();return!(o&&o.toString()==="no-nav")}_render(){if(this.isVirtual()&&kt.newRanges&&this.isVisible()){vt.groupCollapsed("CanvasInstance._render()"),vt.log({dataRange:this._data.rangeId,range:this.currentRange,newLimitToRange:this.limitToRange,constraintToRange:this._data.constrainNavigationToRange,autoSelectRange:this._data.autoSelectRange}),this.limitToRange&&this.currentRange?(vt.log("Selecting plan...",this.currentRange),this.timePlanPlayer.selectPlan({rangeId:this.currentRange})):(vt.log("Resetting..."),this.timePlanPlayer.selectPlan({reset:!0}));let f=this._$canvasTimelineContainer.width()/this.timePlanPlayer.getDuration();this._$durationHighlight.show();let{start:o,duration:l}=this.timePlanPlayer.getCurrentRange();this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start,max:this.timePlanPlayer.getDuration()}),this._$durationHighlight.css({left:o*f,width:l*f}),vt.groupEnd(),this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this.createWaveformPanel()}if(this._data.limitToRange&&this._data.range?(this._$canvasTimelineContainer.hide(),this._$rangeTimelineContainer.show()):(this._$canvasTimelineContainer.show(),this._$rangeTimelineContainer.hide()),this.currentRange||this._$durationHighlight.hide(),!!this.isVisible()&&!(!this.isOnlyCanvasInstance&&!this.isVirtual())){if(this._data.range&&!(this.isVirtual()&&kt.newRanges)){let f=this._data.range.getDuration();if(f){let o=this._getDuration(),h=this._$canvasTimelineContainer.width()/o,m=o*h,u=f.start*h,v=f.end*h;(v>m||v<u)&&(v=m);let g=v-u;this.isVirtual()||this.isOnlyCanvasInstance?(this._$durationHighlight.show(),this._$durationHighlight.css({left:u,width:g})):this._$durationHighlight.hide();let _=this;this._$rangeTimelineContainer.data("ui-sortable")&&this._$rangeTimelineContainer.slider("destroy"),this._$rangeTimelineContainer.slider({value:f.start,step:.01,orientation:"horizontal",range:"min",min:f.start,max:f.end,animate:!1,create:function(p,y){},slide:function(p,y){_._setCurrentTime(y.value)},stop:function(p,y){}})}}this._updateCurrentTimeDisplay(),this._updateDurationDisplay(),this.createWaveformPanel(),this.updateWaveformPanel()}}getCanvasId(){if(this._data&&this._data.canvas)return this._data.canvas.id}_updateHoverPreview(f,o,l){let h=o.offset()||{left:0},m=f.pageX-h.left,u=o.find(".arrow"),v=o.find(".hover-highlight"),g=o.find(".hover-preview");v.width(m);let _=o.width(),p=m/_,y=Math.min(l*p);g.find(".label").text(Ii(y));let I=g.outerWidth(),E=g.outerHeight(),D=m-I*.5,R=I*.5-6;D<0&&(D=0,R=m-6),D+I>_&&(D=_-I,R=I-(_-m)-6),g.css({left:D,top:E*-1+"px"}).show(),u.css({left:R})}_previous(f){if(kt.newRanges&&this.isVirtual()){if(this._data.limitToRange){this._setCurrentTime(this.timePlanPlayer.plan.start,!1);return}vt.group("CanvasInstance.previous()"),this._buffering=!0;let o=this.timePlanPlayer.previous();this._setCurrentTime(o),vt.log("CanvasInstance.previous()",o),this._buffering=!1,vt.groupEnd();return}this._data.limitToRange?f?this._isNavigationConstrainedToRange()?this._rewind():this.fire(ti.PREVIOUS_RANGE):this._rewind():this._data.range?f?(this.set({range:void 0}),this._rewind()):this.fire(ti.PREVIOUS_RANGE):this._rewind()}_next(){return pn(this,void 0,void 0,function*(){if(kt.newRanges&&this.isVirtual()){if(this._data.limitToRange){yield this._setCurrentTime(this.timePlanPlayer.plan.end,!1);return}vt.groupCollapsed("next"),this._buffering=!0;let f=yield this.timePlanPlayer.next();vt.log("CanvasInstance.next()",f),yield this._setCurrentTime(f,!1),this._buffering=!1,vt.groupEnd();return}this._data.limitToRange?this._isNavigationConstrainedToRange()?this._fastforward():this.fire(ti.NEXT_RANGE):this.fire(ti.NEXT_RANGE)})}destroy(){window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval)}_convertToPercentage(f,o){return Dr(f,o)}_renderMediaElement(f){var o,l,h;let m=(h=(l=(o=this.options.data)===null||o===void 0?void 0:o.canvas)===null||l===void 0?void 0:l.externalResource)===null||h===void 0?void 0:h.isProbed,u;switch(f.type.toString().toLowerCase()){case"video":u=Yt('<video class="anno" />');break;case"sound":case"audio":u=Yt('<audio class="anno" />');break;default:return}let g=u[0];if(m||(g.setAttribute("crossorigin","anonymous"),g.crossOrigin="anonymous"),f.format&&f.format.toString()==="application/dash+xml"){u.attr("data-dashjs-player","");let p=dashjs.MediaPlayer().create();p.getDebug().setLogToBrowserConsole(!1),this._data.adaptiveAuthEnabled&&p.setXHRWithCredentialsForType("MPD",!0),p.initialize(g,f.source,!1)}else if(f.format&&f.format.toString()==="application/vnd.apple.mpegurl"){let p=xi();if(p&&p.isSupported()){let y=new p;this._data.adaptiveAuthEnabled&&(y=new p({xhrSetup:I=>{I.withCredentials=!0}})),this._data.adaptiveAuthEnabled,y.loadSource(f.source),y.attachMedia(g)}else g.canPlayType("application/vnd.apple.mpegurl")&&(g.src=f.source)}else u.attr("src",f.source);u.css({top:f.top+"%",left:f.left+"%",width:f.width+"%",height:f.height+"%"}).hide(),f.element=u,f.timeout=null;let _=this;f.checkForStall=function(){let p=this;this.active?(_._checkMediaSynchronization(),this.element.get(0).readyState>0&&!this.outOfSync?_._playbackStalled(!1,p):(_._playbackStalled(!0,p),this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){p.checkForStall()},1e3))):_._playbackStalled(!1,p)},this._contentAnnotations.push(f),this.$playerElement&&this._$canvasContainer.append(u),u.on("loadedmetadata",()=>pn(this,void 0,void 0,function*(){this._readyMediaCount++,this._readyMediaCount===this._contentAnnotations.length&&(this._data.autoPlay?yield this.play(!0):this.pause(!0),this._updateDurationDisplay(),this.fire(Ht.MEDIA_READY))})),u.attr("preload","metadata"),u.get(0).load(),this._renderSyncIndicator(f)}updateWaveformPanel(){if(kt.newRanges&&this.isVirtual()&&this._waveformPanel){let f=[];for(let o of this.timePlanPlayer.plan.stops)f.push(`${o.canvasId}#t=${o.canvasTime.start},${o.canvasTime.end}`);this._waveformPanel.setAttribute("sequence",f.join("|")),this._waveformPanel.setAttribute("duration",`${this.timePlanPlayer.plan.duration}`)}}updateWaveformTime(f){this._waveformPanel&&this._waveformPanel.setAttribute("current-time",`${f}`)}createWaveformPanel(f=!1){if(this.waveFormInit&&!f||!this.waveformSources.length)return;this.waveFormInit=!0,this._waveformPanel=document.createElement("waveform-panel"),this._waveformPanel.classList.add("waveform-panel"),this._waveformPanel.style.height="100%",this._waveformPanel.addEventListener("click-waveform",l=>{this.isVirtual()?this._setCurrentTime(this.timePlanPlayer.plan.start+l.detail.time):this._setCurrentTime(l.detail.time)}),this._waveformPanel.setAttribute("srcset",this.waveformSources.map(l=>`${l.source} ${l.canvas}${l.itemData?`#t=${l.itemData.start},${l.itemData.end}`:""}`).join("|")),this._waveformPanel.setAttribute("duration",`${this._getDuration()}`),this._waveformPanel.setAttribute("sequence",this.waveformSources.map(l=>`${l.canvas}#t=${l.start},${l.end}`).join("|"));let o=document.createElement("style");o.innerHTML=`
      waveform-panel {
          max-height: 260px;
          width: 100%;
          align-self: center;
      }
    `,this._$canvasContainer[0].style.display="flex",this._$canvasContainer[0].style.width="100%",this._$canvasContainer.append(this._waveformPanel,o)}getRangeTiming(){if(kt.newRanges&&this.isVirtual())return{start:this.timePlanPlayer.plan.start,end:this.timePlanPlayer.plan.end,duration:this.timePlanPlayer.plan.duration,percent:Math.min((this.timePlanPlayer.getTime()-this.timePlanPlayer.plan.start)/this.timePlanPlayer.plan.duration,1)};let f,o=0,l=0,h=l;return this._data.range&&(f=this._data.range.getDuration()),this.isVirtual()||(l=this._getDuration()),this._data.limitToRange&&f&&(o=f.start,l=f.end,h=Kt(l,o)),l===-1&&f&&(o=f.start,l=f.end,h=Kt(l,o)),l===-1&&vt.warn("Duration not found...",{start:o,end:l,duration:h,durationObj:f}),{start:o,end:l,duration:Kt(l,o),percent:Math.min((this.getClockTime()-o)/h,1)}}isLimitedToRange(){return this._data.limitToRange}hasCurrentRange(){return!!this._data.range}_updateCurrentTimeDisplay(){if(kt.newRanges&&this.isVirtual()){let o=this._canvasClockTime-this.timePlanPlayer.getStartTime();this._$canvasTime.text(Ii(o)),this.updateWaveformTime(o);return}let f;if(this._data.range&&(f=this._data.range.getDuration()),this._data.limitToRange&&f){let o=this._canvasClockTime-f.start;this._$canvasTime.text(Ii(o)),this.updateWaveformTime(o)}else this._$canvasTime.text(Ii(this._canvasClockTime)),this.updateWaveformTime(this._canvasClockTime)}_updateDurationDisplay(){if(kt.newRanges&&this.isVirtual()){this._$canvasDuration.text(Ii(this.timePlanPlayer.getDuration()));return}let f;this._data.range&&(f=this._data.range.getDuration()),this._data.limitToRange&&f?this._$canvasDuration.text(Ii(f.getLength())):this._$canvasDuration.text(Ii(this._getDuration()))}_renderSyncIndicator(f){if(kt.newRanges&&this.isVirtual()){vt.log("_renderSyncIndicator");return}let o=this._convertToPercentage(f.start,this._getDuration()),l=this._convertToPercentage(f.end-f.start,this._getDuration()),h=Yt('<div class="timeline-item"></div>');h.css({left:o+"%",width:l+"%"});let m=Yt('<div class="line-wrapper"></div>');h.appendTo(m),f.timelineElement=h,this.$playerElement&&this._$timelineItemContainer.append(m)}setCurrentTime(f,o=!1){return vt.log("External set current time",{seconds:f,external:o}),this._setCurrentTime(f,!1,o)}setCurrentRangeTime(f,o,l=!1){return pn(this,void 0,void 0,function*(){if(vt.log("External set current range time",{seconds:f,rangeId:o,external:l}),kt.newRanges&&this.isVirtual()){yield this.timePlanPlayer.setRangeTime(o,f,l),this._buffering=!1,this._canvasClockStartDate=on(Kt(this.now(),this._canvasClockTime)),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia();return}return this._setCurrentTime(oi(f),l)})}now(){return wn(Date.now())}nowMs(){return Date.now()}_setCurrentTime(f,o=!0,l=!1){return pn(this,void 0,void 0,function*(){if(kt.newRanges&&this.isVirtual()){this._buffering=!0,l&&(f=this.timePlanPlayer.validateExternalTime(f)),yield this.timePlanPlayer.setTime(f,o),this._buffering=!1,this._canvasClockStartDate=on(Kt(this.now(),this._canvasClockTime)),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia();return}let{start:h,end:m}=this.getRangeTiming();f<h||h>m||(this._canvasClockTime=f,this._canvasClockStartDate=on(Kt(this.now(),this._canvasClockTime)),this.logMessage("SET CURRENT TIME to: "+this._canvasClockTime+" seconds."),this._canvasClockUpdater(),this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia())})}_rewind(f){if(kt.newRanges&&this.isVirtual()){vt.log("Rewind");return}this.pause();let o;this._data.range&&(o=this._data.range.getDuration()),this._data.limitToRange&&o?this._setCurrentTime(o.start):this._setCurrentTime(0),this._data.limitToRange||this._data&&this._data.helper&&this.set({range:void 0})}_fastforward(){if(kt.newRanges&&this.isVirtual()){vt.log("Fast forward");return}let f;this._data.range&&(f=this._data.range.getDuration()),this._data.limitToRange&&f?this._canvasClockTime=oi(f.end):this._canvasClockTime=this._getDuration(),this.pause()}play(f){return pn(this,void 0,void 0,function*(){if(this._isPlaying)return;if(vt.log(`CanvasInstance.play(${f})`),kt.newRanges&&this.isVirtual())this.timePlanPlayer.hasEnded()&&(this._buffering=!0,this._data.limitToRange?yield this._setCurrentTime(this.timePlanPlayer.plan.start,!1):yield this.timePlanPlayer.previous(),this._buffering=!1),this.timePlanPlayer.play();else{let l;this._data.range&&(l=this._data.range.getDuration()),this._data.limitToRange&&l&&this._canvasClockTime>=l.end&&(this._canvasClockTime=l.start),this._canvasClockTime===this._getDuration()&&(this._canvasClockTime=0)}this._canvasClockStartDate=on(Kt(this.now(),this._canvasClockTime)),this._highPriorityInterval&&clearInterval(this._highPriorityInterval),this._highPriorityInterval=window.setInterval(()=>{this._highPriorityUpdater()},this._highPriorityFrequency),this._lowPriorityInterval&&clearInterval(this._lowPriorityInterval),this._lowPriorityInterval=window.setInterval(()=>{this._lowPriorityUpdater()},this._lowPriorityFrequency),this._canvasClockInterval&&clearInterval(this._canvasClockInterval),this._canvasClockInterval=window.setInterval(()=>{this._canvasClockUpdater()},this._canvasClockFrequency),this._isPlaying=!0,f||this._synchronizeMedia();let o=this._data&&this._data.content?this._data.content.pause:"";this._$playButton.prop("title",o),this._$playButton.find("i").switchClass("play","pause"),this.fire(ti.PLAYCANVAS),this.logMessage("PLAY canvas")})}pause(f){vt.log(`CanvasInstance.pause(${f})`),window.clearInterval(this._highPriorityInterval),window.clearInterval(this._lowPriorityInterval),window.clearInterval(this._canvasClockInterval),this._isPlaying=!1,f||(this._highPriorityUpdater(),this._lowPriorityUpdater(),this._synchronizeMedia()),kt.newRanges&&this.isVirtual()&&this.timePlanPlayer.pause();let o=this._data&&this._data.content?this._data.content.play:"";this._$playButton.prop("title",o),this._$playButton.find("i").switchClass("pause","play"),this.fire(ti.PAUSECANVAS),this.logMessage("PAUSE canvas")}_isNavigationConstrainedToRange(){return this._data.constrainNavigationToRange||!1}_canvasClockUpdater(){if(kt.newRanges&&this.isVirtual()){if(this._buffering)return;let l=wn(this._canvasClockStartDate);vt.log("CanvasInstance._canvasClockUpdater()",{startDate:l,advanceToTime:Kt(this.now(),l)});let{paused:h}=this.timePlanPlayer.advanceToTime(Kt(this.now(),l));h&&this.pause();return}if(this._buffering)return;let f=wn(this._canvasClockStartDate);this._canvasClockTime=Kt(this.now(),f);let o;this._data.range&&(o=this._data.range.getDuration()),this._data.limitToRange&&o&&this._canvasClockTime>=o.end&&this.pause(),this._canvasClockTime>this._getDuration()&&(this._canvasClockTime=this._getDuration(),this.pause())}_highPriorityUpdater(){this._bufferShown&&!this._buffering&&(this.$playerElement.removeClass("player--loading"),this._bufferShown=!1),this._buffering&&!this._bufferShown&&(this.$playerElement.addClass("player--loading"),this._bufferShown=!0),kt.newRanges&&this.isVirtual()?(this._$rangeTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime-this.timePlanPlayer.plan.start})):(this._$rangeTimelineContainer.slider({value:this._canvasClockTime}),this._$canvasTimelineContainer.slider({value:this._canvasClockTime})),this._updateCurrentTimeDisplay(),this._updateDurationDisplay()}_lowPriorityUpdater(){this._updateMediaActiveStates(),this._data.autoSelectRange&&(this.isVirtual()||this.isOnlyCanvasInstance)&&this._hasRangeChanged()}_updateMediaActiveStates(){if(kt.newRanges&&this.isVirtual()){if(this._isPlaying){if(this.timePlanPlayer.isBuffering()){this._buffering=!0;return}else this._buffering&&(this._buffering=!1);this.timePlanPlayer.advanceToTime(this._canvasClockTime)}return}let f;for(let o=0;o<this._contentAnnotations.length;o++)f=this._contentAnnotations[o],f.start<=this._canvasClockTime&&f.end>=this._canvasClockTime?(this._checkMediaSynchronization(),f.active||(this._synchronizeMedia(),f.active=!0,f.element.show(),f.timelineElement.addClass("active")),f.element[0].currentTime>f.element[0].duration-f.endOffset&&this._pauseMedia(f.element[0])):f.active&&(f.active=!1,f.element.hide(),f.timelineElement.removeClass("active"),this._pauseMedia(f.element[0]))}_pauseMedia(f){f.pause()}_setMediaCurrentTime(f,o){isNaN(f.duration)||(f.currentTime=o)}_synchronizeMedia(){if(kt.newRanges&&this.isVirtual())return;let f;for(let o=0;o<this._contentAnnotations.length;o++){if(f=this._contentAnnotations[o],this._setMediaCurrentTime(f.element[0],this._canvasClockTime-f.start+f.startOffset),f.start<=this._canvasClockTime&&f.end>=this._canvasClockTime)if(this._isPlaying){if(f.element[0].paused){let l=f.element[0].play();l&&l.catch(function(h){console.log(h)})}}else this._pauseMedia(f.element[0]);else this._pauseMedia(f.element[0]);f.element[0].currentTime>f.element[0].duration-f.endOffset&&this._pauseMedia(f.element[0])}this.logMessage("SYNC MEDIA at: "+this._canvasClockTime+" seconds.")}_checkMediaSynchronization(){if(kt.newRanges&&this.isVirtual()){this._isPlaying&&(this.timePlanPlayer.isBuffering()?this._buffering=!0:this._buffering&&(this._buffering=!1));return}let f;for(let o=0,l=this._contentAnnotations.length;o<l;o++)if(f=this._contentAnnotations[o],f.start<=this._canvasClockTime&&f.end>=this._canvasClockTime){this._isPlaying&&(f.element[0].readyState<3?this._buffering=!0:this._buffering&&(this._buffering=!1));let h=this._canvasClockTime-f.start+f.startOffset,m=f.element[0].currentTime;if(Math.abs(m-h)>this._mediaSyncMarginSecs){f.outOfSync=!0;let u=Math.abs(m-h);this.logMessage("DETECTED synchronization lag: "+Math.abs(u)),this._setMediaCurrentTime(f.element[0],h)}else f.outOfSync=!1}}_playbackStalled(f,o){if(f)this._stallRequestedBy.indexOf(o)<0&&this._stallRequestedBy.push(o),this._isStalled||(this.$playerElement,this._wasPlaying=this._isPlaying,this.pause(!0),this._isStalled=f);else{let l=this._stallRequestedBy.indexOf(o);l>=0&&this._stallRequestedBy.splice(l,1),this._stallRequestedBy.length===0&&(this._isStalled&&this._wasPlaying&&this.play(!0),this._isStalled=f)}}resize(){this.resizeTimeout!==-1&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=-1),this.resizeTimeout=setTimeout(this._resize.bind(this),25)}_resize(){if(this.resizeTimeout=-1,this.$playerElement){let f=this._$canvasContainer.width();if(f){this._$canvasTimelineContainer.width(f);let o=this.$playerElement.find(".options-container");this._data.halveAtWidth!==void 0&&this.$playerElement.parent().width()<this._data.halveAtWidth?this._$canvasContainer.height(this.$playerElement.parent().height()/2):this._$canvasContainer.height(this.$playerElement.parent().height()-o.height())}if(this._render(),this.createWaveformPanel(),this._waveformPanel){let{width:o,height:l}=this._waveformPanel.getBoundingClientRect();if(o>1&&l>1)try{this._waveformPanel.resize()}catch{}}}}};var Fr=Mi(Fi());function gn(t){let f;if(t.canvases&&t.canvases.length)f=t.canvases[0];else{let o=t.getRanges();if(o.length)return gn(o[0])}if(f!==void 0)return Fr.Utils.normaliseUrl(f)}(function t(f,o,l){function h(v,g){if(!o[v]){if(!f[v]){var _=typeof nn=="function"&&nn;if(!g&&_)return _(v,!0);if(m)return m(v,!0);var p=new Error("Cannot find module '"+v+"'");throw p.code="MODULE_NOT_FOUND",p}var y=o[v]={exports:{}};f[v][0].call(y.exports,function(I){var E=f[v][1][I];return h(E||I)},y,y.exports,t,f,o,l)}return o[v].exports}for(var m=typeof nn=="function"&&nn,u=0;u<l.length;u++)h(l[u]);return h})({1:[function(t,f,o){"use strict";var l={};l.encode=function(m){for(var u=[],v=0;v<m.length;++v){var g=m.charCodeAt(v);g<128?u.push(g):g<2048?(u.push(192|g>>6),u.push(128|63&g)):g<65536?(u.push(224|g>>12),u.push(128|63&g>>6),u.push(128|63&g)):(u.push(240|g>>18),u.push(128|63&g>>12),u.push(128|63&g>>6),u.push(128|63&g))}return u},l.decode=function(m){for(var u=[],v=0;v<m.length;){var g=m[v++];g<128||(g<224?(g=(31&g)<<6,g|=63&m[v++]):g<240?(g=(15&g)<<12,g|=(63&m[v++])<<6,g|=63&m[v++]):(g=(7&g)<<18,g|=(63&m[v++])<<12,g|=(63&m[v++])<<6,g|=63&m[v++])),u.push(String.fromCharCode(g))}return u.join("")};var h={};(function(m){var u=function(p){for(var y=0,I=[],E=0|p.length/3;0<E--;){var D=(p[y]<<16)+(p[y+1]<<8)+p[y+2];y+=3,I.push(m.charAt(63&D>>18)),I.push(m.charAt(63&D>>12)),I.push(m.charAt(63&D>>6)),I.push(m.charAt(63&D))}if(p.length-y==2){var D=(p[y]<<16)+(p[y+1]<<8);I.push(m.charAt(63&D>>18)),I.push(m.charAt(63&D>>12)),I.push(m.charAt(63&D>>6)),I.push("=")}else if(p.length-y==1){var D=p[y]<<16;I.push(m.charAt(63&D>>18)),I.push(m.charAt(63&D>>12)),I.push("==")}return I.join("")},v=function(){for(var p=[],y=0;y<m.length;++y)p[m.charCodeAt(y)]=y;return p["=".charCodeAt(0)]=0,p}(),g=function(p){for(var y=0,I=[],E=0|p.length/4;0<E--;){var D=(v[p.charCodeAt(y)]<<18)+(v[p.charCodeAt(y+1)]<<12)+(v[p.charCodeAt(y+2)]<<6)+v[p.charCodeAt(y+3)];I.push(255&D>>16),I.push(255&D>>8),I.push(255&D),y+=4}return I&&(p.charAt(y-2)=="="?(I.pop(),I.pop()):p.charAt(y-1)=="="&&I.pop()),I},_={};_.encode=function(p){for(var y=[],I=0;I<p.length;++I)y.push(p.charCodeAt(I));return y},_.decode=function(p){for(var y=0;y<s.length;++y)a[y]=String.fromCharCode(a[y]);return a.join("")},h.decodeArray=function(p){var y=g(p);return new Uint8Array(y)},h.encodeASCII=function(p){var y=_.encode(p);return u(y)},h.decodeASCII=function(p){var y=g(p);return _.decode(y)},h.encode=function(p){var y=l.encode(p);return u(y)},h.decode=function(p){var y=g(p);return l.decode(y)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o!==void 0&&(o.decode=h.decode,o.decodeArray=h.decodeArray,o.encode=h.encode,o.encodeASCII=h.encodeASCII)},{}],2:[function(t,f,o){"use strict";(function(l){var h={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},m=function(w){var M=w;return h.hasOwnProperty(w)&&(M=h[w]),String.fromCharCode(M)},u=15,v=32,g={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_={17:2,18:4,21:6,22:8,23:10,19:13,20:15},p={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},y={25:2,26:4,29:6,30:8,31:10,27:13,28:15},I=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],E={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(w){this.time=w},log:function(w,M){var U=this.verboseFilter[w];this.verboseLevel>=U&&console.log(this.time+" ["+w+"] "+M)}},D=function(w){for(var M=[],U=0;U<w.length;U++)M.push(w[U].toString(16));return M},R=function(w,M,U,j,le){this.foreground=w||"white",this.underline=M||!1,this.italics=U||!1,this.background=j||"black",this.flash=le||!1};R.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(w){for(var M=["foreground","underline","italics","background","flash"],U=0;U<M.length;U++){var j=M[U];w.hasOwnProperty(j)&&(this[j]=w[j])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(w){return this.foreground===w.foreground&&this.underline===w.underline&&this.italics===w.italics&&this.background===w.background&&this.flash===w.flash},copy:function(w){this.foreground=w.foreground,this.underline=w.underline,this.italics=w.italics,this.background=w.background,this.flash=w.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var S=function(w,M,U,j,le,Z){this.uchar=w||" ",this.penState=new R(M,U,j,le,Z)};S.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(w,M){this.uchar=w,this.penState.copy(M)},setPenState:function(w){this.penState.copy(w)},equals:function(w){return this.uchar===w.uchar&&this.penState.equals(w.penState)},copy:function(w){this.uchar=w.uchar,this.penState.copy(w.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var L=function(){this.chars=[];for(var w=0;w<v;w++)this.chars.push(new S);this.pos=0,this.currPenState=new R};L.prototype={equals:function(w){for(var M=!0,U=0;U<v;U++)if(!this.chars[U].equals(w.chars[U])){M=!1;break}return M},copy:function(w){for(var M=0;M<v;M++)this.chars[M].copy(w.chars[M])},isEmpty:function(){for(var w=!0,M=0;M<v;M++)if(!this.chars[M].isEmpty()){w=!1;break}return w},setCursor:function(w){this.pos!==w&&(this.pos=w),this.pos<0?(E.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>v&&(E.log("ERROR","Too large cursor position "+this.pos),this.pos=v)},moveCursor:function(w){var M=this.pos+w;if(w>1)for(var U=this.pos+1;U<M+1;U++)this.chars[U].setPenState(this.currPenState);this.setCursor(M)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(w){w>=144&&this.backSpace();var M=m(w);if(this.pos>=v)return void E.log("ERROR","Cannot insert "+w.toString(16)+" ("+M+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(M,this.currPenState),this.moveCursor(1)},clearFromPos:function(w){var M;for(M=w;M<v;M++)this.chars[M].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var w=[],M=!0,U=0;U<v;U++){var j=this.chars[U].uchar;j!==" "&&(M=!1),w.push(j)}return M?"":w.join("")},setPenStyles:function(w){this.currPenState.setStyles(w),this.chars[this.pos].setPenState(this.currPenState)}};var B=function(){this.rows=[];for(var w=0;w<u;w++)this.rows.push(new L);this.currRow=u-1,this.nrRollUpRows=null,this.reset()};B.prototype={reset:function(){for(var w=0;w<u;w++)this.rows[w].clear();this.currRow=u-1},equals:function(w){for(var M=!0,U=0;U<u;U++)if(!this.rows[U].equals(w.rows[U])){M=!1;break}return M},copy:function(w){for(var M=0;M<u;M++)this.rows[M].copy(w.rows[M])},isEmpty:function(){for(var w=!0,M=0;M<u;M++)if(!this.rows[M].isEmpty()){w=!1;break}return w},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(w){this.rows[this.currRow].insertChar(w)},setPen:function(w){this.rows[this.currRow].setPenStyles(w)},moveCursor:function(w){this.rows[this.currRow].moveCursor(w)},setCursor:function(w){E.log("INFO","setCursor: "+w),this.rows[this.currRow].setCursor(w)},setPAC:function(w){E.log("INFO","pacData = "+JSON.stringify(w));var M=w.row-1;this.nrRollUpRows&&M<this.nrRollUpRows-1&&(M=this.nrRollUpRows-1),this.currRow=M;var U=this.rows[this.currRow];if(w.indent!==null){var j=w.indent,le=Math.max(j-1,0);U.setCursor(w.indent),w.color=U.chars[le].penState.foreground}var Z={foreground:w.color,underline:w.underline,italics:w.italics,background:"black",flash:!1};this.setPen(Z)},setBkgData:function(w){E.log("INFO","bkgData = "+JSON.stringify(w)),this.backSpace(),this.setPen(w),this.insertChar(32)},setRollUpRows:function(w){this.nrRollUpRows=w},rollUp:function(){if(this.nrRollUpRows===null)return void E.log("DEBUG","roll_up but nrRollUpRows not set yet");E.log("TEXT",this.getDisplayText());var w=this.currRow+1-this.nrRollUpRows,M=this.rows.splice(w,1)[0];M.clear(),this.rows.splice(this.currRow,0,M),E.log("INFO","Rolling up")},getDisplayText:function(w){w=w||!1;for(var M=[],U="",j=-1,le=0;le<u;le++){var Z=this.rows[le].getTextString();Z&&(j=le+1,w?M.push("Row "+j+': "'+Z+'"'):M.push(Z.trim()))}return M.length>0&&(U=w?"["+M.join(" | ")+"]":M.join(`
`)),U},getTextAndFormat:function(){return this.rows}};var k=function(w,M){this.chNr=w,this.outputFilter=M,this.mode=null,this.verbose=0,this.displayedMemory=new B,this.nonDisplayedMemory=new B,this.lastOutputScreen=new B,this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};k.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(w){this.outputFilter=w},setPAC:function(w){this.writeScreen.setPAC(w)},setBkgData:function(w){this.writeScreen.setBkgData(w)},setMode:function(w){w!==this.mode&&(this.mode=w,E.log("INFO","MODE="+w),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=w)},insertChars:function(w){for(var M=0;M<w.length;M++)this.writeScreen.insertChar(w[M]);var U=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";E.log("INFO",U+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(E.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){E.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){E.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){E.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(w){E.log("INFO","RU("+w+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(w)},cc_FON:function(){E.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){E.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){E.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){E.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){E.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){E.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){E.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(E.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var w=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=w,this.writeScreen=this.nonDisplayedMemory,E.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(w){E.log("INFO","TO("+w+") - Tab Offset"),this.writeScreen.moveCursor(w)},cc_MIDROW:function(w){var M={flash:!1};if(M.underline=w%2==1,M.italics=w>=46,M.italics)M.foreground="white";else{var U=Math.floor(w/2)-16,j=["white","green","blue","cyan","red","yellow","magenta"];M.foreground=j[U]}E.log("INFO","MIDROW: "+JSON.stringify(M)),this.writeScreen.setPen(M)},outputDataUpdate:function(){var w=E.time;w!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(w,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,w,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:w):this.cueStartTime=w,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(w){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,w,this.displayedMemory),this.cueStartTime=w))}};var b=function(w,M,U){this.field=w||1,this.outputs=[M,U],this.channels=[new k(1,M),new k(2,U)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};b.prototype={getHandler:function(w){return this.channels[w].getHandler()},setHandler:function(w,M){this.channels[w].setHandler(M)},addData:function(w,M){var U,j,le,Z=!1;this.lastTime=w,E.setTime(w);for(var ne=0;ne<M.length;ne+=2)if(j=127&M[ne],le=127&M[ne+1],j>=16&&j<=31&&j===this.lastCmdA&&le===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,E.log("DEBUG","Repeated command ("+D([j,le])+") is dropped");else if(j!==0||le!==0){if(E.log("DATA","["+D([M[ne],M[ne+1]])+"] -> ("+D([j,le])+")"),U=this.parseCmd(j,le),U||(U=this.parseMidrow(j,le)),U||(U=this.parsePAC(j,le)),U||(U=this.parseBackgroundAttributes(j,le)),!U&&(Z=this.parseChars(j,le)))if(this.currChNr&&this.currChNr>=0){var X=this.channels[this.currChNr-1];X.insertChars(Z)}else E.log("WARNING","No channel found yet. TEXT-MODE?");U?this.dataCounters.cmd+=2:Z?this.dataCounters.char+=2:(this.dataCounters.other+=2,E.log("WARNING","Couldn't parse cleaned data "+D([j,le])+" orig: "+D([M[ne],M[ne+1]])))}else this.dataCounters.padding+=2},parseCmd:function(w,M){var U=null,j=(w===20||w===21||w===28||w===29)&&32<=M&&M<=47,le=(w===23||w===31)&&33<=M&&M<=35;if(!j&&!le)return!1;U=w===20||w===21||w===23?1:2;var Z=this.channels[U-1];return w===20||w===21||w===28||w===29?M===32?Z.cc_RCL():M===33?Z.cc_BS():M===34?Z.cc_AOF():M===35?Z.cc_AON():M===36?Z.cc_DER():M===37?Z.cc_RU(2):M===38?Z.cc_RU(3):M===39?Z.cc_RU(4):M===40?Z.cc_FON():M===41?Z.cc_RDC():M===42?Z.cc_TR():M===43?Z.cc_RTD():M===44?Z.cc_EDM():M===45?Z.cc_CR():M===46?Z.cc_ENM():M===47&&Z.cc_EOC():Z.cc_TO(M-32),this.lastCmdA=w,this.lastCmdB=M,this.currChNr=U,!0},parseMidrow:function(w,M){var U=null;if((w===17||w===25)&&32<=M&&M<=47){if((U=w===17?1:2)!==this.currChNr)return E.log("ERROR","Mismatch channel in midrow parsing"),!1;var j=this.channels[U-1];return j.insertChars([32]),j.cc_MIDROW(M),E.log("DEBUG","MIDROW ("+D([w,M])+")"),this.lastCmdA=w,this.lastCmdB=M,!0}return!1},parsePAC:function(w,M){var U=null,j=null,le=(17<=w&&w<=23||25<=w&&w<=31)&&64<=M&&M<=127,Z=(w===16||w===24)&&64<=M&&M<=95;if(!le&&!Z)return!1;U=w<=23?1:2,j=64<=M&&M<=95?U===1?g[w]:p[w]:U===1?_[w]:y[w];var ne=this.interpretPAC(j,M);return this.channels[U-1].setPAC(ne),this.lastCmdA=w,this.lastCmdB=M,this.currChNr=U,!0},interpretPAC:function(w,M){var U=M,j={color:null,italics:!1,indent:null,underline:!1,row:w};return U=M>95?M-96:M-64,j.underline=(1&U)==1,U<=13?j.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(U/2)]:U<=15?(j.italics=!0,j.color="white"):j.indent=4*Math.floor((U-16)/2),j},parseChars:function(w,M){var U=null,j=null,le=null;if(w>=25?(U=2,le=w-8):(U=1,le=w),17<=le&&le<=19){var Z=M;Z=le===17?M+80:le===18?M+112:M+144,E.log("INFO","Special char '"+m(Z)+"' in channel "+U),j=[Z],this.lastCmdA=w,this.lastCmdB=M}else 32<=w&&w<=127&&(j=M===0?[w]:[w,M],this.lastCmdA=null,this.lastCmdB=null);if(j){var ne=D(j);E.log("DEBUG","Char codes =  "+ne.join(","))}return j},parseBackgroundAttributes:function(w,M){var U,j,le,Z,ne=(w===16||w===24)&&32<=M&&M<=47,X=(w===23||w===31)&&45<=M&&M<=47;return!(!ne&&!X)&&(U={},w===16||w===24?(j=Math.floor((M-32)/2),U.background=I[j],M%2==1&&(U.background=U.background+"_semi")):M===45?U.background="transparent":(U.foreground="black",M===47&&(U.underline=!0)),le=w<24?1:2,Z=this.channels[le-1],Z.setBkgData(U),this.lastCmdA=w,this.lastCmdB=M,!0)},reset:function(){for(var w=0;w<this.channels.length;w++)this.channels[w]&&this.channels[w].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(w){for(var M=0;M<this.channels.length;M++)this.channels[M]&&this.channels[M].cueSplitAtTime(w)}};var A=function(w,M,U){for(var j=0,le=M,Z=[],ne=function(fe,re,ge,_e){if(fe!==4||re<8)return null;var W=ge.getUint8(_e),ae=ge.getUint16(_e+1),me=ge.getUint32(_e+3),Te=ge.getUint8(_e+7);return W==181&&ae==49&&me==1195456820&&Te==3};le<M+U;){if(j=w.getUint32(le),(31&w.getUint8(le+4))==6)for(var X=le+5,pe=-1;X<le+4+j-1;){pe=0;for(var K=255;K===255;)K=w.getUint8(X),pe+=K,X++;var de=0;for(K=255;K===255;)K=w.getUint8(X),de+=K,X++;ne(pe,de,w,X)&&Z.push([X,de]),X+=de}le+=j+4}return Z},G=function(w,M){var U=M[0],j=[[],[]];U+=8;var le=31&w.getUint8(U);U+=2;for(var Z=0;Z<le;Z++){var ne=w.getUint8(U),X=4&ne,pe=3&ne;U++;var K=w.getUint8(U);U++;var de=w.getUint8(U);U++,X&&(127&K)+(127&de)!=0&&(pe===0?(j[0].push(K),j[0].push(de)):pe===1&&(j[1].push(K),j[1].push(de)))}return j};l.logger=E,l.PenState=R,l.CaptionScreen=B,l.Cea608Parser=b,l.findCea608Nalus=A,l.extractCea608DataFromRange=G})(o===void 0?(void 0).cea608parser={}:o)},{}],3:[function(t,f,o){"use strict";function l(h){var m,u,v;for(m=[],v=0,u=h.length;v<u;v+=1)h[v].isRoot?m.push("root"):m.push(h[v].name);var g=function(y,I){var E;if(y!==null&&I!==null)for(E in y)y.hasOwnProperty(E)&&(I.hasOwnProperty(E)||(I[E]=y[E]))},_=function(y,I,E){var D,R,S,L,B;if(y!==null&&y.length!==0)for(D=0,R=y.length;D<R;D+=1)S=y[D],I.hasOwnProperty(S.name)&&(E.hasOwnProperty(S.name)?S.merge&&(L=I[S.name],B=E[S.name],typeof L=="object"&&typeof B=="object"?g(L,B):S.mergeFunction!=null?E[S.name]=S.mergeFunction(L,B):E[S.name]=L+B):E[S.name]=I[S.name])},p=function y(I,E){var D,R,S,L,B,k,b,A=I;if(A.children!==null&&A.children.length!==0){for(D=0,R=A.children.length;D<R;D+=1)if(k=A.children[D],E.hasOwnProperty(k.name))if(k.isArray)for(B=E[k.name+"_asArray"],S=0,L=B.length;S<L;S+=1)b=B[S],_(A.properties,E,b),y(k,b);else b=E[k.name],_(A.properties,E,b),y(k,b)}};return{run:function y(I){var E,D,R,S,L,B,k;if(I===null||typeof I!="object")return I;for(E=0,D=m.length;E<D;E+=1)m[E]==="root"&&(L=h[E],B=I,p(L,B));for(S in I)if(I.hasOwnProperty(S)&&S!="__children"){if((R=m.indexOf(S))!==-1)if(L=h[R],L.isArray)for(k=I[S+"_asArray"],E=0,D=k.length;E<D;E+=1)B=k[E],p(L,B);else B=I[S],p(L,B);y(I[S])}return I}}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=l,f.exports=o.default},{}],4:[function(t,f,o){"use strict";function l(h){function m(){h.escapeMode===void 0&&(h.escapeMode=!0),h.attributePrefix===void 0&&(h.attributePrefix="_"),h.arrayAccessForm=h.arrayAccessForm||"none",h.emptyNodeForm=h.emptyNodeForm||"text",h.enableToStringFunc===void 0&&(h.enableToStringFunc=!0),h.arrayAccessFormPaths=h.arrayAccessFormPaths||[],h.skipEmptyTextNodesForObj===void 0&&(h.skipEmptyTextNodesForObj=!0),h.stripWhitespaces===void 0&&(h.stripWhitespaces=!0),h.datetimeAccessFormPaths=h.datetimeAccessFormPaths||[],h.useDoubleQuotes===void 0&&(h.useDoubleQuotes=!1),h.xmlElementsFilter=h.xmlElementsFilter||[],h.jsonPropertiesFilter=h.jsonPropertiesFilter||[],h.keepCData===void 0&&(h.keepCData=!1),h.ignoreRoot===void 0&&(h.ignoreRoot=!1)}function u(){}function v(X){var pe=X.localName;return pe==null&&(pe=X.baseName),pe!=null&&pe!=""||(pe=X.nodeName),pe}function g(X){return X.prefix}function _(X){return typeof X=="string"?X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):X}function p(X,pe,K,de){for(var fe=0;fe<X.length;fe++){var re=X[fe];if(typeof re=="string"){if(re==de)break}else if(re instanceof RegExp){if(re.test(de))break}else if(typeof re=="function"&&re(pe,K,de))break}return fe!=X.length}function y(X,pe,K){switch(h.arrayAccessForm){case"property":X[pe]instanceof Array?X[pe+"_asArray"]=X[pe]:X[pe+"_asArray"]=[X[pe]]}!(X[pe]instanceof Array)&&h.arrayAccessFormPaths.length>0&&p(h.arrayAccessFormPaths,X,pe,K)&&(X[pe]=[X[pe]])}function I(X){var pe=X.split(/[-T:+Z]/g),K=new Date(pe[0],pe[1]-1,pe[2]),de=pe[5].split(".");if(K.setHours(pe[3],pe[4],de[0]),de.length>1&&K.setMilliseconds(de[1]),pe[6]&&pe[7]){var fe=60*pe[6]+Number(pe[7]);fe=0+((/\d\d-\d\d:\d\d$/.test(X)?"-":"+")=="-"?-1*fe:fe),K.setMinutes(K.getMinutes()-fe-K.getTimezoneOffset())}else X.indexOf("Z",X.length-1)!==-1&&(K=new Date(Date.UTC(K.getFullYear(),K.getMonth(),K.getDate(),K.getHours(),K.getMinutes(),K.getSeconds(),K.getMilliseconds())));return K}function E(X,pe,K){if(h.datetimeAccessFormPaths.length>0){var de=K.split(".#")[0];return p(h.datetimeAccessFormPaths,X,pe,de)?I(X):X}return X}function D(X,pe,K,de){return!(pe==ne.ELEMENT_NODE&&h.xmlElementsFilter.length>0)||p(h.xmlElementsFilter,X,K,de)}function R(X,pe){if(X.nodeType==ne.DOCUMENT_NODE){for(var K=new Object,de=X.childNodes,fe=0;fe<de.length;fe++){var re=de[fe];if(re.nodeType==ne.ELEMENT_NODE)if(h.ignoreRoot)K=R(re);else{K={};var ge=v(re);K[ge]=R(re)}}return K}if(X.nodeType==ne.ELEMENT_NODE){var K=new Object;K.__cnt=0;for(var _e=[],de=X.childNodes,fe=0;fe<de.length;fe++){var re=de[fe],ge=v(re);if(re.nodeType!=ne.COMMENT_NODE){var W=pe+"."+ge;if(D(K,re.nodeType,ge,W))if(K.__cnt++,K[ge]==null){var ae=R(re,W);if(ge!="#text"||/[^\s]/.test(ae)){var me={};me[ge]=ae,_e.push(me)}K[ge]=ae,y(K,ge,W)}else{K[ge]!=null&&(K[ge]instanceof Array||(K[ge]=[K[ge]],y(K,ge,W)));var ae=R(re,W);if(ge!="#text"||/[^\s]/.test(ae)){var me={};me[ge]=ae,_e.push(me)}K[ge][K[ge].length]=ae}}}K.__children=_e;for(var Te=v(X),te=0;te<X.attributes.length;te++){var ue=X.attributes[te];K.__cnt++;for(var ve=ue.value,ye=0,se=h.matchers.length;ye<se;ye++){var Ie=h.matchers[ye];Ie.test(ue,Te)&&(ve=Ie.converter(ue.value))}K[h.attributePrefix+ue.name]=ve}var x=g(X);return x!=null&&x!=""&&(K.__cnt++,K.__prefix=x),K["#text"]!=null&&(K.__text=K["#text"],K.__text instanceof Array&&(K.__text=K.__text.join(`
`)),h.stripWhitespaces&&(K.__text=K.__text.trim()),delete K["#text"],h.arrayAccessForm=="property"&&delete K["#text_asArray"],K.__text=E(K.__text,ge,pe+"."+ge)),K["#cdata-section"]!=null&&(K.__cdata=K["#cdata-section"],delete K["#cdata-section"],h.arrayAccessForm=="property"&&delete K["#cdata-section_asArray"]),K.__cnt==0&&h.emptyNodeForm=="text"?K="":K.__cnt==1&&K.__text!=null?K=K.__text:K.__cnt!=1||K.__cdata==null||h.keepCData?K.__cnt>1&&K.__text!=null&&h.skipEmptyTextNodesForObj&&(h.stripWhitespaces&&K.__text==""||K.__text.trim()=="")&&delete K.__text:K=K.__cdata,delete K.__cnt,!h.enableToStringFunc||K.__text==null&&K.__cdata==null||(K.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),K}if(X.nodeType==ne.TEXT_NODE||X.nodeType==ne.CDATA_SECTION_NODE)return X.nodeValue}function S(X,pe,K,de){var fe="<"+(X!=null&&X.__prefix!=null?X.__prefix+":":"")+pe;if(K!=null)for(var re=0;re<K.length;re++){var ge=K[re],_e=X[ge];h.escapeMode&&(_e=_(_e)),fe+=" "+ge.substr(h.attributePrefix.length)+"=",h.useDoubleQuotes?fe+='"'+_e+'"':fe+="'"+_e+"'"}return fe+=de?"/>":">"}function L(X,pe){return"</"+(X.__prefix!=null?X.__prefix+":":"")+pe+">"}function B(X,pe){return X.indexOf(pe,X.length-pe.length)!==-1}function k(X,pe){return!!(h.arrayAccessForm=="property"&&B(pe.toString(),"_asArray")||pe.toString().indexOf(h.attributePrefix)==0||pe.toString().indexOf("__")==0||X[pe]instanceof Function)}function b(X){var pe=0;if(X instanceof Object)for(var K in X)k(X,K)||pe++;return pe}function A(X,pe,K){return h.jsonPropertiesFilter.length==0||K==""||p(h.jsonPropertiesFilter,X,pe,K)}function G(X){var pe=[];if(X instanceof Object)for(var K in X)K.toString().indexOf("__")==-1&&K.toString().indexOf(h.attributePrefix)==0&&pe.push(K);return pe}function w(X){var pe="";return X.__cdata!=null&&(pe+="<![CDATA["+X.__cdata+"]]>"),X.__text!=null&&(h.escapeMode?pe+=_(X.__text):pe+=X.__text),pe}function M(X){var pe="";return X instanceof Object?pe+=w(X):X!=null&&(h.escapeMode?pe+=_(X):pe+=X),pe}function U(X,pe){return X===""?pe:X+"."+pe}function j(X,pe,K,de){var fe="";if(X.length==0)fe+=S(X,pe,K,!0);else for(var re=0;re<X.length;re++)fe+=S(X[re],pe,G(X[re]),!1),fe+=le(X[re],U(de,pe)),fe+=L(X[re],pe);return fe}function le(X,pe){var K="";if(b(X)>0){for(var de in X)if(!k(X,de)&&(pe==""||A(X,de,U(pe,de)))){var fe=X[de],re=G(fe);if(fe==null||fe==null)K+=S(fe,de,re,!0);else if(fe instanceof Object)if(fe instanceof Array)K+=j(fe,de,re,pe);else if(fe instanceof Date)K+=S(fe,de,re,!1),K+=fe.toISOString(),K+=L(fe,de);else{var ge=b(fe);ge>0||fe.__text!=null||fe.__cdata!=null?(K+=S(fe,de,re,!1),K+=le(fe,U(pe,de)),K+=L(fe,de)):K+=S(fe,de,re,!0)}else K+=S(fe,de,re,!1),K+=M(fe),K+=L(fe,de)}}return K+=M(X)}var Z="1.2.0";h=h||{},m(),u();var ne={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(X){if(window.ActiveXObject,X===void 0)return null;var pe;if(window.DOMParser){var K=new window.DOMParser;try{pe=K.parseFromString(X,"text/xml"),pe.getElementsByTagNameNS("*","parsererror").length>0&&(pe=null)}catch{pe=null}}else X.indexOf("<?")==0&&(X=X.substr(X.indexOf("?>")+2)),pe=new ActiveXObject("Microsoft.XMLDOM"),pe.async="false",pe.loadXML(X);return pe},this.asArray=function(X){return X===void 0||X==null?[]:X instanceof Array?X:[X]},this.toXmlDateTime=function(X){return X instanceof Date?X.toISOString():typeof X=="number"?new Date(X).toISOString():null},this.asDateTime=function(X){return typeof X=="string"?I(X):X},this.xml2json=function(X){return R(X)},this.xml_str2json=function(X){var pe=this.parseXmlString(X);return pe!=null?this.xml2json(pe):null},this.json2xml_str=function(X){return le(X,"")},this.json2xml=function(X){var pe=this.json2xml_str(X);return this.parseXmlString(pe)},this.getVersion=function(){return Z}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=l,f.exports=o.default},{}],5:[function(t,f,o){(function(l){"use strict";function h(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(90),u=h(m),v=t(48),g=h(v),_=t(49),p=typeof window!="undefined"&&window||l,y=p.dashjs;y||(y=p.dashjs={}),y.MediaPlayer=u.default,y.FactoryMaker=g.default,y.Version=(0,_.getVersionString)(),o.default=y,o.MediaPlayer=u.default,o.FactoryMaker=g.default}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{48:48,49:49,90:90}],6:[function(t,f,o){(function(l){"use strict";function h(R){var S=R.charCodeAt(0);return S===g||S===E?62:S===_||S===D?63:S<p?-1:S<p+10?S-p+26+26:S<I+26?S-I:S<y+26?S-y+26:void 0}function m(R){function S(U){G[M++]=U}var L,B,k,b,A,G;if(R.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=R.length;A=R.charAt(w-2)==="="?2:R.charAt(w-1)==="="?1:0,G=new v(3*R.length/4-A),k=A>0?R.length-4:R.length;var M=0;for(L=0,B=0;L<k;L+=4,B+=3)b=h(R.charAt(L))<<18|h(R.charAt(L+1))<<12|h(R.charAt(L+2))<<6|h(R.charAt(L+3)),S((16711680&b)>>16),S((65280&b)>>8),S(255&b);return A===2?(b=h(R.charAt(L))<<2|h(R.charAt(L+1))>>4,S(255&b)):A===1&&(b=h(R.charAt(L))<<10|h(R.charAt(L+1))<<4|h(R.charAt(L+2))>>2,S(b>>8&255),S(255&b)),G}function u(R){function S(w){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(w)}function L(w){return S(w>>18&63)+S(w>>12&63)+S(w>>6&63)+S(63&w)}var B,k,b,A=R.length%3,G="";for(B=0,b=R.length-A;B<b;B+=3)k=(R[B]<<16)+(R[B+1]<<8)+R[B+2],G+=L(k);switch(A){case 1:k=R[R.length-1],G+=S(k>>2),G+=S(k<<4&63),G+="==";break;case 2:k=(R[R.length-2]<<8)+R[R.length-1],G+=S(k>>10),G+=S(k>>4&63),G+=S(k<<2&63),G+="="}return G}var v=typeof Uint8Array!="undefined"?Uint8Array:Array,g="+".charCodeAt(0),_="/".charCodeAt(0),p="0".charCodeAt(0),y="a".charCodeAt(0),I="A".charCodeAt(0),E="-".charCodeAt(0),D="_".charCodeAt(0);l.toByteArray=m,l.fromByteArray=u})(o===void 0?this.base64js={}:o)},{}],7:[function(t,f,o){},{}],8:[function(t,f,o){function l(p){if(p&&!g(p))throw new Error("Unknown encoding: "+p)}function h(p){return p.toString(this.encoding)}function m(p){this.charReceived=p.length%2,this.charLength=this.charReceived?2:0}function u(p){this.charReceived=p.length%3,this.charLength=this.charReceived?3:0}var v=t(9).Buffer,g=v.isEncoding||function(p){switch(p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},_=o.StringDecoder=function(p){switch(this.encoding=(p||"utf8").toLowerCase().replace(/[-_]/,""),l(p),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=m;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=h)}this.charBuffer=new v(6),this.charReceived=0,this.charLength=0};_.prototype.write=function(p){for(var y="";this.charLength;){var I=p.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:p.length;if(p.copy(this.charBuffer,this.charReceived,0,I),this.charReceived+=I,this.charReceived<this.charLength)return"";p=p.slice(I,p.length),y=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var D=y.charCodeAt(y.length-1);if(!(D>=55296&&D<=56319)){if(this.charReceived=this.charLength=0,p.length===0)return y;break}this.charLength+=this.surrogateSize,y=""}this.detectIncompleteChar(p);var E=p.length;this.charLength&&(p.copy(this.charBuffer,0,p.length-this.charReceived,E),E-=this.charReceived),y+=p.toString(this.encoding,0,E);var E=y.length-1,D=y.charCodeAt(E);if(D>=55296&&D<=56319){var R=this.surrogateSize;return this.charLength+=R,this.charReceived+=R,this.charBuffer.copy(this.charBuffer,R,0,R),p.copy(this.charBuffer,0,0,R),y.substring(0,E)}return y},_.prototype.detectIncompleteChar=function(p){for(var y=p.length>=3?3:p.length;y>0;y--){var I=p[p.length-y];if(y==1&&I>>5==6){this.charLength=2;break}if(y<=2&&I>>4==14){this.charLength=3;break}if(y<=3&&I>>3==30){this.charLength=4;break}}this.charReceived=y},_.prototype.end=function(p){var y="";if(p&&p.length&&(y=this.write(p)),this.charReceived){var I=this.charReceived,E=this.charBuffer,D=this.encoding;y+=E.slice(0,I).toString(D)}return y}},{9:9}],9:[function(t,f,o){(function(l){"use strict";function h(){function d(){}try{var C=new Uint8Array(1);return C.foo=function(){return 42},C.constructor=d,C.foo()===42&&C.constructor===d&&typeof C.subarray=="function"&&C.subarray(1,1).byteLength===0}catch{return!1}}function m(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(d){return this instanceof u?(u.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),typeof d=="number"?v(this,d):typeof d=="string"?g(this,d,arguments.length>1?arguments[1]:"utf8"):_(this,d)):arguments.length>1?new u(d,arguments[1]):new u(d)}function v(d,C){if(d=S(d,C<0?0:0|L(C)),!u.TYPED_ARRAY_SUPPORT)for(var F=0;F<C;F++)d[F]=0;return d}function g(d,C,F){return typeof F=="string"&&F!==""||(F="utf8"),d=S(d,0|k(C,F)),d.write(C,F),d}function _(d,C){if(u.isBuffer(C))return p(d,C);if(N(C))return y(d,C);if(C==null)throw new TypeError("must start with number, buffer, array or string");if(typeof ArrayBuffer!="undefined"){if(C.buffer instanceof ArrayBuffer)return I(d,C);if(C instanceof ArrayBuffer)return E(d,C)}return C.length?D(d,C):R(d,C)}function p(d,C){var F=0|L(C.length);return d=S(d,F),C.copy(d,0,0,F),d}function y(d,C){var F=0|L(C.length);d=S(d,F);for(var H=0;H<F;H+=1)d[H]=255&C[H];return d}function I(d,C){var F=0|L(C.length);d=S(d,F);for(var H=0;H<F;H+=1)d[H]=255&C[H];return d}function E(d,C){return u.TYPED_ARRAY_SUPPORT?(C.byteLength,d=u._augment(new Uint8Array(C))):d=I(d,new Uint8Array(C)),d}function D(d,C){var F=0|L(C.length);d=S(d,F);for(var H=0;H<F;H+=1)d[H]=255&C[H];return d}function R(d,C){var F,H=0;C.type==="Buffer"&&N(C.data)&&(F=C.data,H=0|L(F.length)),d=S(d,H);for(var Y=0;Y<H;Y+=1)d[Y]=255&F[Y];return d}function S(d,C){return u.TYPED_ARRAY_SUPPORT?(d=u._augment(new Uint8Array(C)),d.__proto__=u.prototype):(d.length=C,d._isBuffer=!0),C!==0&&C<=u.poolSize>>>1&&(d.parent=Q),d}function L(d){if(d>=m())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m().toString(16)+" bytes");return 0|d}function B(d,C){if(!(this instanceof B))return new B(d,C);var F=new u(d,C);return delete F.parent,F}function k(d,C){typeof d!="string"&&(d=""+d);var F=d.length;if(F===0)return 0;for(var H=!1;;)switch(C){case"ascii":case"binary":case"raw":case"raws":return F;case"utf8":case"utf-8":return ve(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return Ie(d).length;default:if(H)return ve(d).length;C=(""+C).toLowerCase(),H=!0}}function b(d,C,F){var H=!1;if(C|=0,F=F===void 0||F===1/0?this.length:0|F,d||(d="utf8"),C<0&&(C=0),F>this.length&&(F=this.length),F<=C)return"";for(;;)switch(d){case"hex":return K(this,C,F);case"utf8":case"utf-8":return Z(this,C,F);case"ascii":return X(this,C,F);case"binary":return pe(this,C,F);case"base64":return le(this,C,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,C,F);default:if(H)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),H=!0}}function A(d,C,F,H){F=Number(F)||0;var Y=d.length-F;H?(H=Number(H))>Y&&(H=Y):H=Y;var ce=C.length;if(ce%2!=0)throw new Error("Invalid hex string");H>ce/2&&(H=ce/2);for(var xe=0;xe<H;xe++){var Se=parseInt(C.substr(2*xe,2),16);if(isNaN(Se))throw new Error("Invalid hex string");d[F+xe]=Se}return xe}function G(d,C,F,H){return x(ve(C,d.length-F),d,F,H)}function w(d,C,F,H){return x(ye(C),d,F,H)}function M(d,C,F,H){return w(d,C,F,H)}function U(d,C,F,H){return x(Ie(C),d,F,H)}function j(d,C,F,H){return x(se(C,d.length-F),d,F,H)}function le(d,C,F){return C===0&&F===d.length?q.fromByteArray(d):q.fromByteArray(d.slice(C,F))}function Z(d,C,F){F=Math.min(d.length,F);for(var H=[],Y=C;Y<F;){var ce=d[Y],xe=null,Se=ce>239?4:ce>223?3:ce>191?2:1;if(Y+Se<=F){var Pe,Oe,Fe,Ke;switch(Se){case 1:ce<128&&(xe=ce);break;case 2:Pe=d[Y+1],(192&Pe)==128&&(Ke=(31&ce)<<6|63&Pe)>127&&(xe=Ke);break;case 3:Pe=d[Y+1],Oe=d[Y+2],(192&Pe)==128&&(192&Oe)==128&&(Ke=(15&ce)<<12|(63&Pe)<<6|63&Oe)>2047&&(Ke<55296||Ke>57343)&&(xe=Ke);break;case 4:Pe=d[Y+1],Oe=d[Y+2],Fe=d[Y+3],(192&Pe)==128&&(192&Oe)==128&&(192&Fe)==128&&(Ke=(15&ce)<<18|(63&Pe)<<12|(63&Oe)<<6|63&Fe)>65535&&Ke<1114112&&(xe=Ke)}}xe===null?(xe=65533,Se=1):xe>65535&&(xe-=65536,H.push(xe>>>10&1023|55296),xe=56320|1023&xe),H.push(xe),Y+=Se}return ne(H)}function ne(d){var C=d.length;if(C<=z)return String.fromCharCode.apply(String,d);for(var F="",H=0;H<C;)F+=String.fromCharCode.apply(String,d.slice(H,H+=z));return F}function X(d,C,F){var H="";F=Math.min(d.length,F);for(var Y=C;Y<F;Y++)H+=String.fromCharCode(127&d[Y]);return H}function pe(d,C,F){var H="";F=Math.min(d.length,F);for(var Y=C;Y<F;Y++)H+=String.fromCharCode(d[Y]);return H}function K(d,C,F){var H=d.length;(!C||C<0)&&(C=0),(!F||F<0||F>H)&&(F=H);for(var Y="",ce=C;ce<F;ce++)Y+=ue(d[ce]);return Y}function de(d,C,F){for(var H=d.slice(C,F),Y="",ce=0;ce<H.length;ce+=2)Y+=String.fromCharCode(H[ce]+256*H[ce+1]);return Y}function fe(d,C,F){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+C>F)throw new RangeError("Trying to access beyond buffer length")}function re(d,C,F,H,Y,ce){if(!u.isBuffer(d))throw new TypeError("buffer must be a Buffer instance");if(C>Y||C<ce)throw new RangeError("value is out of bounds");if(F+H>d.length)throw new RangeError("index out of range")}function ge(d,C,F,H){C<0&&(C=65535+C+1);for(var Y=0,ce=Math.min(d.length-F,2);Y<ce;Y++)d[F+Y]=(C&255<<8*(H?Y:1-Y))>>>8*(H?Y:1-Y)}function _e(d,C,F,H){C<0&&(C=4294967295+C+1);for(var Y=0,ce=Math.min(d.length-F,4);Y<ce;Y++)d[F+Y]=C>>>8*(H?Y:3-Y)&255}function W(d,C,F,H,Y,ce){if(C>Y||C<ce)throw new RangeError("value is out of bounds");if(F+H>d.length)throw new RangeError("index out of range");if(F<0)throw new RangeError("index out of range")}function ae(d,C,F,H,Y){return Y||W(d,C,F,4,34028234663852886e22,-34028234663852886e22),P.write(d,C,F,H,23,4),F+4}function me(d,C,F,H,Y){return Y||W(d,C,F,8,17976931348623157e292,-17976931348623157e292),P.write(d,C,F,H,52,8),F+8}function Te(d){if(d=te(d).replace(he,""),d.length<2)return"";for(;d.length%4!=0;)d+="=";return d}function te(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function ue(d){return d<16?"0"+d.toString(16):d.toString(16)}function ve(d,C){C=C||1/0;for(var F,H=d.length,Y=null,ce=[],xe=0;xe<H;xe++){if((F=d.charCodeAt(xe))>55295&&F<57344){if(!Y){if(F>56319){(C-=3)>-1&&ce.push(239,191,189);continue}if(xe+1===H){(C-=3)>-1&&ce.push(239,191,189);continue}Y=F;continue}if(F<56320){(C-=3)>-1&&ce.push(239,191,189),Y=F;continue}F=65536+(Y-55296<<10|F-56320)}else Y&&(C-=3)>-1&&ce.push(239,191,189);if(Y=null,F<128){if((C-=1)<0)break;ce.push(F)}else if(F<2048){if((C-=2)<0)break;ce.push(F>>6|192,63&F|128)}else if(F<65536){if((C-=3)<0)break;ce.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;ce.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return ce}function ye(d){for(var C=[],F=0;F<d.length;F++)C.push(255&d.charCodeAt(F));return C}function se(d,C){for(var F,H,Y,ce=[],xe=0;xe<d.length&&!((C-=2)<0);xe++)F=d.charCodeAt(xe),H=F>>8,Y=F%256,ce.push(Y),ce.push(H);return ce}function Ie(d){return q.toByteArray(Te(d))}function x(d,C,F,H){for(var Y=0;Y<H&&!(Y+F>=C.length||Y>=d.length);Y++)C[Y+F]=d[Y];return Y}var q=t(6),P=t(14),N=t(24);o.Buffer=u,o.SlowBuffer=B,o.INSPECT_MAX_BYTES=50,u.poolSize=8192;var Q={};u.TYPED_ARRAY_SUPPORT=l.TYPED_ARRAY_SUPPORT!==void 0?l.TYPED_ARRAY_SUPPORT:h(),u.TYPED_ARRAY_SUPPORT?(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array):(u.prototype.length=void 0,u.prototype.parent=void 0),u.isBuffer=function(d){return!(d==null||!d._isBuffer)},u.compare=function(d,C){if(!u.isBuffer(d)||!u.isBuffer(C))throw new TypeError("Arguments must be Buffers");if(d===C)return 0;for(var F=d.length,H=C.length,Y=0,ce=Math.min(F,H);Y<ce&&d[Y]===C[Y];)++Y;return Y!==ce&&(F=d[Y],H=C[Y]),F<H?-1:H<F?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,C){if(!N(d))throw new TypeError("list argument must be an Array of Buffers.");if(d.length===0)return new u(0);var F;if(C===void 0)for(C=0,F=0;F<d.length;F++)C+=d[F].length;var H=new u(C),Y=0;for(F=0;F<d.length;F++){var ce=d[F];ce.copy(H,Y),Y+=ce.length}return H},u.byteLength=k,u.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?Z(this,0,d):b.apply(this,arguments)},u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||u.compare(this,d)===0},u.prototype.inspect=function(){var d="",C=o.INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(d+=" ... ")),"<Buffer "+d+">"},u.prototype.compare=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?0:u.compare(this,d)},u.prototype.indexOf=function(d,C){function F(H,Y,ce){for(var xe=-1,Se=0;ce+Se<H.length;Se++)if(H[ce+Se]===Y[xe===-1?0:Se-xe]){if(xe===-1&&(xe=Se),Se-xe+1===Y.length)return ce+xe}else xe=-1;return-1}if(C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C>>=0,this.length===0||C>=this.length)return-1;if(C<0&&(C=Math.max(this.length+C,0)),typeof d=="string")return d.length===0?-1:String.prototype.indexOf.call(this,d,C);if(u.isBuffer(d))return F(this,d,C);if(typeof d=="number")return u.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,d,C):F(this,[d],C);throw new TypeError("val must be string, number or Buffer")},u.prototype.get=function(d){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(d)},u.prototype.set=function(d,C){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(d,C)},u.prototype.write=function(d,C,F,H){if(C===void 0)H="utf8",F=this.length,C=0;else if(F===void 0&&typeof C=="string")H=C,F=this.length,C=0;else if(isFinite(C))C|=0,isFinite(F)?(F|=0,H===void 0&&(H="utf8")):(H=F,F=void 0);else{var Y=H;H=C,C=0|F,F=Y}var ce=this.length-C;if((F===void 0||F>ce)&&(F=ce),d.length>0&&(F<0||C<0)||C>this.length)throw new RangeError("attempt to write outside buffer bounds");H||(H="utf8");for(var xe=!1;;)switch(H){case"hex":return A(this,d,C,F);case"utf8":case"utf-8":return G(this,d,C,F);case"ascii":return w(this,d,C,F);case"binary":return M(this,d,C,F);case"base64":return U(this,d,C,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,d,C,F);default:if(xe)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),xe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;u.prototype.slice=function(d,C){var F=this.length;d=~~d,C=C===void 0?F:~~C,d<0?(d+=F)<0&&(d=0):d>F&&(d=F),C<0?(C+=F)<0&&(C=0):C>F&&(C=F),C<d&&(C=d);var H;if(u.TYPED_ARRAY_SUPPORT)H=u._augment(this.subarray(d,C));else{var Y=C-d;H=new u(Y,void 0);for(var ce=0;ce<Y;ce++)H[ce]=this[ce+d]}return H.length&&(H.parent=this.parent||this),H},u.prototype.readUIntLE=function(d,C,F){d|=0,C|=0,F||fe(d,C,this.length);for(var H=this[d],Y=1,ce=0;++ce<C&&(Y*=256);)H+=this[d+ce]*Y;return H},u.prototype.readUIntBE=function(d,C,F){d|=0,C|=0,F||fe(d,C,this.length);for(var H=this[d+--C],Y=1;C>0&&(Y*=256);)H+=this[d+--C]*Y;return H},u.prototype.readUInt8=function(d,C){return C||fe(d,1,this.length),this[d]},u.prototype.readUInt16LE=function(d,C){return C||fe(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUInt16BE=function(d,C){return C||fe(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUInt32LE=function(d,C){return C||fe(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},u.prototype.readUInt32BE=function(d,C){return C||fe(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,C,F){d|=0,C|=0,F||fe(d,C,this.length);for(var H=this[d],Y=1,ce=0;++ce<C&&(Y*=256);)H+=this[d+ce]*Y;return Y*=128,H>=Y&&(H-=Math.pow(2,8*C)),H},u.prototype.readIntBE=function(d,C,F){d|=0,C|=0,F||fe(d,C,this.length);for(var H=C,Y=1,ce=this[d+--H];H>0&&(Y*=256);)ce+=this[d+--H]*Y;return Y*=128,ce>=Y&&(ce-=Math.pow(2,8*C)),ce},u.prototype.readInt8=function(d,C){return C||fe(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},u.prototype.readInt16LE=function(d,C){C||fe(d,2,this.length);var F=this[d]|this[d+1]<<8;return 32768&F?4294901760|F:F},u.prototype.readInt16BE=function(d,C){C||fe(d,2,this.length);var F=this[d+1]|this[d]<<8;return 32768&F?4294901760|F:F},u.prototype.readInt32LE=function(d,C){return C||fe(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,C){return C||fe(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,C){return C||fe(d,4,this.length),P.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,C){return C||fe(d,4,this.length),P.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,C){return C||fe(d,8,this.length),P.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,C){return C||fe(d,8,this.length),P.read(this,d,!1,52,8)},u.prototype.writeUIntLE=function(d,C,F,H){d=+d,C|=0,F|=0,H||re(this,d,C,F,Math.pow(2,8*F),0);var Y=1,ce=0;for(this[C]=255&d;++ce<F&&(Y*=256);)this[C+ce]=d/Y&255;return C+F},u.prototype.writeUIntBE=function(d,C,F,H){d=+d,C|=0,F|=0,H||re(this,d,C,F,Math.pow(2,8*F),0);var Y=F-1,ce=1;for(this[C+Y]=255&d;--Y>=0&&(ce*=256);)this[C+Y]=d/ce&255;return C+F},u.prototype.writeUInt8=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,1,255,0),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[C]=255&d,C+1},u.prototype.writeUInt16LE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[C]=255&d,this[C+1]=d>>>8):ge(this,d,C,!0),C+2},u.prototype.writeUInt16BE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[C]=d>>>8,this[C+1]=255&d):ge(this,d,C,!1),C+2},u.prototype.writeUInt32LE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[C+3]=d>>>24,this[C+2]=d>>>16,this[C+1]=d>>>8,this[C]=255&d):_e(this,d,C,!0),C+4},u.prototype.writeUInt32BE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[C]=d>>>24,this[C+1]=d>>>16,this[C+2]=d>>>8,this[C+3]=255&d):_e(this,d,C,!1),C+4},u.prototype.writeIntLE=function(d,C,F,H){if(d=+d,C|=0,!H){var Y=Math.pow(2,8*F-1);re(this,d,C,F,Y-1,-Y)}var ce=0,xe=1,Se=d<0?1:0;for(this[C]=255&d;++ce<F&&(xe*=256);)this[C+ce]=(d/xe>>0)-Se&255;return C+F},u.prototype.writeIntBE=function(d,C,F,H){if(d=+d,C|=0,!H){var Y=Math.pow(2,8*F-1);re(this,d,C,F,Y-1,-Y)}var ce=F-1,xe=1,Se=d<0?1:0;for(this[C+ce]=255&d;--ce>=0&&(xe*=256);)this[C+ce]=(d/xe>>0)-Se&255;return C+F},u.prototype.writeInt8=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,1,127,-128),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[C]=255&d,C+1},u.prototype.writeInt16LE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[C]=255&d,this[C+1]=d>>>8):ge(this,d,C,!0),C+2},u.prototype.writeInt16BE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[C]=d>>>8,this[C+1]=255&d):ge(this,d,C,!1),C+2},u.prototype.writeInt32LE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[C]=255&d,this[C+1]=d>>>8,this[C+2]=d>>>16,this[C+3]=d>>>24):_e(this,d,C,!0),C+4},u.prototype.writeInt32BE=function(d,C,F){return d=+d,C|=0,F||re(this,d,C,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),u.TYPED_ARRAY_SUPPORT?(this[C]=d>>>24,this[C+1]=d>>>16,this[C+2]=d>>>8,this[C+3]=255&d):_e(this,d,C,!1),C+4},u.prototype.writeFloatLE=function(d,C,F){return ae(this,d,C,!0,F)},u.prototype.writeFloatBE=function(d,C,F){return ae(this,d,C,!1,F)},u.prototype.writeDoubleLE=function(d,C,F){return me(this,d,C,!0,F)},u.prototype.writeDoubleBE=function(d,C,F){return me(this,d,C,!1,F)},u.prototype.copy=function(d,C,F,H){if(F||(F=0),H||H===0||(H=this.length),C>=d.length&&(C=d.length),C||(C=0),H>0&&H<F&&(H=F),H===F||d.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),d.length-C<H-F&&(H=d.length-C+F);var Y,ce=H-F;if(this===d&&F<C&&C<H)for(Y=ce-1;Y>=0;Y--)d[Y+C]=this[Y+F];else if(ce<1e3||!u.TYPED_ARRAY_SUPPORT)for(Y=0;Y<ce;Y++)d[Y+C]=this[Y+F];else d._set(this.subarray(F,F+ce),C);return ce},u.prototype.fill=function(d,C,F){if(d||(d=0),C||(C=0),F||(F=this.length),F<C)throw new RangeError("end < start");if(F!==C&&this.length!==0){if(C<0||C>=this.length)throw new RangeError("start out of bounds");if(F<0||F>this.length)throw new RangeError("end out of bounds");var H;if(typeof d=="number")for(H=C;H<F;H++)this[H]=d;else{var Y=ve(d.toString()),ce=Y.length;for(H=C;H<F;H++)this[H]=Y[H%ce]}return this}},u.prototype.toArrayBuffer=function(){if(typeof Uint8Array!="undefined"){if(u.TYPED_ARRAY_SUPPORT)return new u(this).buffer;for(var d=new Uint8Array(this.length),C=0,F=d.length;C<F;C+=1)d[C]=this[C];return d.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var oe=u.prototype;u._augment=function(d){return d.constructor=u,d._isBuffer=!0,d._set=d.set,d.get=oe.get,d.set=oe.set,d.write=oe.write,d.toString=oe.toString,d.toLocaleString=oe.toString,d.toJSON=oe.toJSON,d.equals=oe.equals,d.compare=oe.compare,d.indexOf=oe.indexOf,d.copy=oe.copy,d.slice=oe.slice,d.readUIntLE=oe.readUIntLE,d.readUIntBE=oe.readUIntBE,d.readUInt8=oe.readUInt8,d.readUInt16LE=oe.readUInt16LE,d.readUInt16BE=oe.readUInt16BE,d.readUInt32LE=oe.readUInt32LE,d.readUInt32BE=oe.readUInt32BE,d.readIntLE=oe.readIntLE,d.readIntBE=oe.readIntBE,d.readInt8=oe.readInt8,d.readInt16LE=oe.readInt16LE,d.readInt16BE=oe.readInt16BE,d.readInt32LE=oe.readInt32LE,d.readInt32BE=oe.readInt32BE,d.readFloatLE=oe.readFloatLE,d.readFloatBE=oe.readFloatBE,d.readDoubleLE=oe.readDoubleLE,d.readDoubleBE=oe.readDoubleBE,d.writeUInt8=oe.writeUInt8,d.writeUIntLE=oe.writeUIntLE,d.writeUIntBE=oe.writeUIntBE,d.writeUInt16LE=oe.writeUInt16LE,d.writeUInt16BE=oe.writeUInt16BE,d.writeUInt32LE=oe.writeUInt32LE,d.writeUInt32BE=oe.writeUInt32BE,d.writeIntLE=oe.writeIntLE,d.writeIntBE=oe.writeIntBE,d.writeInt8=oe.writeInt8,d.writeInt16LE=oe.writeInt16LE,d.writeInt16BE=oe.writeInt16BE,d.writeInt32LE=oe.writeInt32LE,d.writeInt32BE=oe.writeInt32BE,d.writeFloatLE=oe.writeFloatLE,d.writeFloatBE=oe.writeFloatBE,d.writeDoubleLE=oe.writeDoubleLE,d.writeDoubleBE=oe.writeDoubleBE,d.fill=oe.fill,d.inspect=oe.inspect,d.toArrayBuffer=oe.toArrayBuffer,d};var he=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{14:14,24:24,6:6}],10:[function(t,f,o){var l={};l.parseBuffer=function(u){return new h(u).parse()},l.addBoxProcessor=function(u,v){typeof u=="string"&&typeof v=="function"&&(m.prototype._boxProcessors[u]=v)},l.createFile=function(){return new h},l.createBox=function(u,v,g){var _=m.create(u);return v&&v.append(_,g),_},l.createFullBox=function(u,v,g){var _=l.createBox(u,v,g);return _.version=0,_.flags=0,_},l.Utils={},l.Utils.dataViewToString=function(u,v){var g=v||"utf-8";if(typeof TextDecoder!="undefined")return new TextDecoder(g).decode(u);var _=[],p=0;if(g==="utf-8")for(;p<u.byteLength;){var y=u.getUint8(p++);y<128||(y<224?(y=(31&y)<<6,y|=63&u.getUint8(p++)):y<240?(y=(15&y)<<12,y|=(63&u.getUint8(p++))<<6,y|=63&u.getUint8(p++)):(y=(7&y)<<18,y|=(63&u.getUint8(p++))<<12,y|=(63&u.getUint8(p++))<<6,y|=63&u.getUint8(p++))),_.push(String.fromCharCode(y))}else for(;p<u.byteLength;)_.push(String.fromCharCode(u.getUint8(p++)));return _.join("")},l.Utils.utf8ToByteArray=function(u){var v,g;if(typeof TextEncoder!="undefined")v=new TextEncoder().encode(u);else for(v=[],g=0;g<u.length;++g){var _=u.charCodeAt(g);_<128?v.push(_):_<2048?(v.push(192|_>>6),v.push(128|63&_)):_<65536?(v.push(224|_>>12),v.push(128|63&_>>6),v.push(128|63&_)):(v.push(240|_>>18),v.push(128|63&_>>12),v.push(128|63&_>>6),v.push(128|63&_))}return v},l.Utils.appendBox=function(u,v,g){if(v._offset=u._cursor.offset,v._root=u._root?u._root:u,v._raw=u._raw,v._parent=u,g!==-1){if(g==null)return void u.boxes.push(v);var _,p=-1;if(typeof g=="number")p=g;else{if(typeof g=="string")_=g;else{if(typeof g!="object"||!g.type)return void u.boxes.push(v);_=g.type}for(var y=0;y<u.boxes.length;y++)if(_===u.boxes[y].type){p=y+1;break}}u.boxes.splice(p,0,v)}},o!==void 0&&(o.parseBuffer=l.parseBuffer,o.addBoxProcessor=l.addBoxProcessor,o.createFile=l.createFile,o.createBox=l.createBox,o.createFullBox=l.createFullBox,o.Utils=l.Utils),l.Cursor=function(u){this.offset=u===void 0?0:u};var h=function(u){this._cursor=new l.Cursor,this.boxes=[],u&&(this._raw=new DataView(u))};h.prototype.fetch=function(u){var v=this.fetchAll(u,!0);return v.length?v[0]:null},h.prototype.fetchAll=function(u,v){var g=[];return h._sweep.call(this,u,g,v),g},h.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var u=m.parse(this);if(u.type===void 0)break;this.boxes.push(u)}return this},h._sweep=function(u,v,g){this.type&&this.type==u&&v.push(this);for(var _ in this.boxes){if(v.length&&g)return;h._sweep.call(this.boxes[_],u,v,g)}},h.prototype.write=function(){var u,v=0;for(u=0;u<this.boxes.length;u++)v+=this.boxes[u].getLength(!1);var g=new Uint8Array(v);for(this._rawo=new DataView(g.buffer),this.bytes=g,this._cursor.offset=0,u=0;u<this.boxes.length;u++)this.boxes[u].write();return g.buffer},h.prototype.append=function(u,v){l.Utils.appendBox(this,u,v)};var m=function(){this._cursor=new l.Cursor};m.parse=function(u){var v=new m;return v._offset=u._cursor.offset,v._root=u._root?u._root:u,v._raw=u._raw,v._parent=u,v._parseBox(),u._cursor.offset=v._raw.byteOffset+v._raw.byteLength,v},m.create=function(u){var v=new m;return v.type=u,v.boxes=[],v},m.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],m.prototype._boxProcessors={},m.prototype._procField=function(u,v,g){this._parsing?this[u]=this._readField(v,g):this._writeField(v,g,this[u])},m.prototype._procFieldArray=function(u,v,g,_){var p;if(this._parsing)for(this[u]=[],p=0;p<v;p++)this[u][p]=this._readField(g,_);else for(p=0;p<this[u].length;p++)this._writeField(g,_,this[u][p])},m.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},m.prototype._procEntries=function(u,v,g){var _;if(this._parsing)for(this[u]=[],_=0;_<v;_++)this[u].push({}),g.call(this,this[u][_]);else for(_=0;_<v;_++)g.call(this,this[u][_])},m.prototype._procSubEntries=function(u,v,g,_){var p;if(this._parsing)for(u[v]=[],p=0;p<g;p++)u[v].push({}),_.call(this,u[v][p]);else for(p=0;p<g;p++)_.call(this,u[v][p])},m.prototype._procEntryField=function(u,v,g,_){this._parsing?u[v]=this._readField(g,_):this._writeField(g,_,u[v])},m.prototype._procSubBoxes=function(u,v){var g;if(this._parsing)for(this[u]=[],g=0;g<v;g++)this[u].push(m.parse(this));else for(g=0;g<v;g++)this._rawo?this[u][g].write():this.size+=this[u][g].getLength()},m.prototype._readField=function(u,v){switch(u){case"uint":return this._readUint(v);case"int":return this._readInt(v);case"template":return this._readTemplate(v);case"string":return v===-1?this._readTerminatedString():this._readString(v);case"data":return this._readData(v);case"utf8":return this._readUTF8String();default:return-1}},m.prototype._readInt=function(u){var v=null,g=this._cursor.offset-this._raw.byteOffset;switch(u){case 8:v=this._raw.getInt8(g);break;case 16:v=this._raw.getInt16(g);break;case 32:v=this._raw.getInt32(g);break;case 64:var _=this._raw.getInt32(g),p=this._raw.getInt32(g+4);v=_*Math.pow(2,32)+p}return this._cursor.offset+=u>>3,v},m.prototype._readUint=function(u){var v,g,_=null,p=this._cursor.offset-this._raw.byteOffset;switch(u){case 8:_=this._raw.getUint8(p);break;case 16:_=this._raw.getUint16(p);break;case 24:v=this._raw.getUint16(p),g=this._raw.getUint8(p+2),_=(v<<8)+g;break;case 32:_=this._raw.getUint32(p);break;case 64:v=this._raw.getUint32(p),g=this._raw.getUint32(p+4),_=v*Math.pow(2,32)+g}return this._cursor.offset+=u>>3,_},m.prototype._readString=function(u){for(var v="",g=0;g<u;g++){var _=this._readUint(8);v+=String.fromCharCode(_)}return v},m.prototype._readTemplate=function(u){return this._readUint(u/2)+this._readUint(u/2)/Math.pow(2,u/2)},m.prototype._readTerminatedString=function(){for(var u="";this._cursor.offset-this._offset<this._raw.byteLength;){var v=this._readUint(8);if(v===0)break;u+=String.fromCharCode(v)}return u},m.prototype._readData=function(u){var v=u>0?u:this._raw.byteLength-(this._cursor.offset-this._offset);if(v>0){var g=new Uint8Array(this._raw.buffer,this._cursor.offset,v);return this._cursor.offset+=v,g}return null},m.prototype._readUTF8String=function(){var u=this._raw.byteLength-(this._cursor.offset-this._offset),v=null;return u>0&&(v=new DataView(this._raw.buffer,this._cursor.offset,u),this._cursor.offset+=u),v&&l.Utils.dataViewToString(v)},m.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())},m.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},m.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(m.parse(this))},m.prototype.append=function(u,v){l.Utils.appendBox(this,u,v)},m.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var u=0;u<this.boxes.length;u++)this.size+=this.boxes[u].getLength();return this._data&&this._writeData(this._data),this.size},m.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var u=0;u<this.boxes.length;u++)this.boxes[u].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},m.prototype._writeInt=function(u,v){if(this._rawo){var g=this._cursor.offset-this._rawo.byteOffset;switch(u){case 8:this._rawo.setInt8(g,v);break;case 16:this._rawo.setInt16(g,v);break;case 32:this._rawo.setInt32(g,v);break;case 64:var _=Math.floor(v/Math.pow(2,32)),p=v-_*Math.pow(2,32);this._rawo.setUint32(g,_),this._rawo.setUint32(g+4,p)}this._cursor.offset+=u>>3}else this.size+=u>>3},m.prototype._writeUint=function(u,v){if(this._rawo){var g,_,p=this._cursor.offset-this._rawo.byteOffset;switch(u){case 8:this._rawo.setUint8(p,v);break;case 16:this._rawo.setUint16(p,v);break;case 24:g=(16776960&v)>>8,_=255&v,this._rawo.setUint16(p,g),this._rawo.setUint8(p+2,_);break;case 32:this._rawo.setUint32(p,v);break;case 64:g=Math.floor(v/Math.pow(2,32)),_=v-g*Math.pow(2,32),this._rawo.setUint32(p,g),this._rawo.setUint32(p+4,_)}this._cursor.offset+=u>>3}else this.size+=u>>3},m.prototype._writeString=function(u,v){for(var g=0;g<u;g++)this._writeUint(8,v.charCodeAt(g))},m.prototype._writeTerminatedString=function(u){if(u.length!==0){for(var v=0;v<u.length;v++)this._writeUint(8,u.charCodeAt(v));this._writeUint(8,0)}},m.prototype._writeTemplate=function(u,v){var g=Math.floor(v),_=(v-g)*Math.pow(2,u/2);this._writeUint(u/2,g),this._writeUint(u/2,_)},m.prototype._writeData=function(u){var v;if(u)if(this._rawo){if(u instanceof Array){for(var g=this._cursor.offset-this._rawo.byteOffset,v=0;v<u.length;v++)this._rawo.setInt8(g+v,u[v]);this._cursor.offset+=u.length}u instanceof Uint8Array&&(this._root.bytes.set(u,this._cursor.offset),this._cursor.offset+=u.length)}else this.size+=u.length},m.prototype._writeUTF8String=function(u){var v=l.Utils.utf8ToByteArray(u);if(this._rawo)for(var g=new DataView(this._rawo.buffer,this._cursor.offset,v.length),_=0;_<v.length;_++)g.setUint8(_,v[_]);else this.size+=v.length},m.prototype._writeField=function(u,v,g){switch(u){case"uint":this._writeUint(v,g);break;case"int":this._writeInt(v,g);break;case"template":this._writeTemplate(v,g);break;case"string":v==-1?this._writeTerminatedString(g):this._writeString(v,g);break;case"data":this._writeData(g);break;case"utf8":this._writeUTF8String(g)}},m.prototype._boxProcessors.avc1=m.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},m.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},m.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(u){this._procEntryField(u,"segment_duration","uint",this.version===1?64:32),this._procEntryField(u,"media_time","int",this.version===1?64:32),this._procEntryField(u,"media_rate_integer","int",16),this._procEntryField(u,"media_rate_fraction","int",16)})},m.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},m.prototype._boxProcessors.free=m.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},m.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},m.prototype._boxProcessors.ftyp=m.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var u=-1;this._parsing&&(u=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",u,"string",4)},m.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},m.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},m.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},m.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},m.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},m.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},m.prototype._boxProcessors.mp4a=m.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},m.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},m.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},m.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},m.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},m.prototype._boxProcessors.sdtp=function(){this._procFullBox();var u=-1;this._parsing&&(u=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",u,"uint",8)},m.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(u){this._parsing||(u.reference=(1&u.reference_type)<<31,u.reference|=2147483647&u.referenced_size,u.sap=(1&u.starts_with_SAP)<<31,u.sap|=(3&u.SAP_type)<<28,u.sap|=268435455&u.SAP_delta_time),this._procEntryField(u,"reference","uint",32),this._procEntryField(u,"subsegment_duration","uint",32),this._procEntryField(u,"sap","uint",32),this._parsing&&(u.reference_type=u.reference>>31&1,u.referenced_size=2147483647&u.reference,u.starts_with_SAP=u.sap>>31&1,u.SAP_type=u.sap>>28&7,u.SAP_delta_time=268435455&u.sap)})},m.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},m.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(u){this._procEntryField(u,"ranges_count","uint",32),this._procSubEntries(u,"ranges",u.ranges_count,function(v){this._procEntryField(v,"level","uint",8),this._procEntryField(v,"range_size","uint",24)})})},m.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},m.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(u){this._procEntryField(u,"sample_delta","uint",32),this._procEntryField(u,"subsample_count","uint",16),this._procSubEntries(u,"subsamples",u.subsample_count,function(v){this._procEntryField(v,"subsample_size","uint",this.version===1?32:16),this._procEntryField(v,"subsample_priority","uint",8),this._procEntryField(v,"discardable","uint",8),this._procEntryField(v,"codec_specific_parameters","uint",32)})})},m.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},m.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},m.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},m.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(u){this._procEntryField(u,"time","uint",this.version===1?64:32),this._procEntryField(u,"moof_offset","uint",this.version===1?64:32),this._procEntryField(u,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(u,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(u,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},m.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},m.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},m.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(u){256&this.flags&&this._procEntryField(u,"sample_duration","uint",32),512&this.flags&&this._procEntryField(u,"sample_size","uint",32),1024&this.flags&&this._procEntryField(u,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(u,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},m.prototype._boxProcessors["url "]=m.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},m.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},m.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},m.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},m.prototype._boxProcessors.vtte=function(){}},{}],11:[function(t,f,o){(function(l){function h(k){return Array.isArray?Array.isArray(k):B(k)==="[object Array]"}function m(k){return typeof k=="boolean"}function u(k){return k===null}function v(k){return k==null}function g(k){return typeof k=="number"}function _(k){return typeof k=="string"}function p(k){return typeof k=="symbol"}function y(k){return k===void 0}function I(k){return B(k)==="[object RegExp]"}function E(k){return typeof k=="object"&&k!==null}function D(k){return B(k)==="[object Date]"}function R(k){return B(k)==="[object Error]"||k instanceof Error}function S(k){return typeof k=="function"}function L(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||k===void 0}function B(k){return Object.prototype.toString.call(k)}o.isArray=h,o.isBoolean=m,o.isNull=u,o.isNullOrUndefined=v,o.isNumber=g,o.isString=_,o.isSymbol=p,o.isUndefined=y,o.isRegExp=I,o.isObject=E,o.isDate=D,o.isError=R,o.isFunction=S,o.isPrimitive=L,o.isBuffer=l.isBuffer}).call(this,{isBuffer:t(23)})},{23:23}],12:[function(t,f,o){function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function h(g){return typeof g=="function"}function m(g){return typeof g=="number"}function u(g){return typeof g=="object"&&g!==null}function v(g){return g===void 0}f.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(g){if(!m(g)||g<0||isNaN(g))throw TypeError("n must be a positive number");return this._maxListeners=g,this},l.prototype.emit=function(g){var _,p,y,I,E,D;if(this._events||(this._events={}),g==="error"&&(!this._events.error||u(this._events.error)&&!this._events.error.length))throw(_=arguments[1])instanceof Error?_:TypeError('Uncaught, unspecified "error" event.');if(p=this._events[g],v(p))return!1;if(h(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:for(y=arguments.length,I=new Array(y-1),E=1;E<y;E++)I[E-1]=arguments[E];p.apply(this,I)}else if(u(p)){for(y=arguments.length,I=new Array(y-1),E=1;E<y;E++)I[E-1]=arguments[E];for(D=p.slice(),y=D.length,E=0;E<y;E++)D[E].apply(this,I)}return!0},l.prototype.addListener=function(g,_){var p;if(!h(_))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",g,h(_.listener)?_.listener:_),this._events[g]?u(this._events[g])?this._events[g].push(_):this._events[g]=[this._events[g],_]:this._events[g]=_,u(this._events[g])&&!this._events[g].warned){var p;p=v(this._maxListeners)?l.defaultMaxListeners:this._maxListeners,p&&p>0&&this._events[g].length>p&&(this._events[g].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[g].length),typeof console.trace=="function"&&console.trace())}return this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(g,_){function p(){this.removeListener(g,p),y||(y=!0,_.apply(this,arguments))}if(!h(_))throw TypeError("listener must be a function");var y=!1;return p.listener=_,this.on(g,p),this},l.prototype.removeListener=function(g,_){var p,y,I,E;if(!h(_))throw TypeError("listener must be a function");if(!this._events||!this._events[g])return this;if(p=this._events[g],I=p.length,y=-1,p===_||h(p.listener)&&p.listener===_)delete this._events[g],this._events.removeListener&&this.emit("removeListener",g,_);else if(u(p)){for(E=I;E-- >0;)if(p[E]===_||p[E].listener&&p[E].listener===_){y=E;break}if(y<0)return this;p.length===1?(p.length=0,delete this._events[g]):p.splice(y,1),this._events.removeListener&&this.emit("removeListener",g,_)}return this},l.prototype.removeAllListeners=function(g){var _,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[g]&&delete this._events[g],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[g],h(p))this.removeListener(g,p);else for(;p.length;)this.removeListener(g,p[p.length-1]);return delete this._events[g],this},l.prototype.listeners=function(g){return this._events&&this._events[g]?h(this._events[g])?[this._events[g]]:this._events[g].slice():[]},l.listenerCount=function(g,_){return g._events&&g._events[_]?h(g._events[_])?1:g._events[_].length:0}},{}],13:[function(t,f,o){"use strict";f.exports=function l(h,m){if(h===m)return!0;var u,v=Array.isArray(h),g=Array.isArray(m);if(v&&g){if(h.length!=m.length)return!1;for(u=0;u<h.length;u++)if(!l(h[u],m[u]))return!1;return!0}if(v!=g)return!1;if(h&&m&&typeof h=="object"&&typeof m=="object"){var _=Object.keys(h);if(_.length!==Object.keys(m).length)return!1;var p=h instanceof Date,y=m instanceof Date;if(p&&y)return h.getTime()==m.getTime();if(p!=y)return!1;var I=h instanceof RegExp,E=m instanceof RegExp;if(I&&E)return h.toString()==m.toString();if(I!=E)return!1;for(u=0;u<_.length;u++)if(!Object.prototype.hasOwnProperty.call(m,_[u]))return!1;for(u=0;u<_.length;u++)if(!l(h[_[u]],m[_[u]]))return!1;return!0}return!1}},{}],14:[function(t,f,o){o.read=function(l,h,m,u,v){var g,_,p=8*v-u-1,y=(1<<p)-1,I=y>>1,E=-7,D=m?v-1:0,R=m?-1:1,S=l[h+D];for(D+=R,g=S&(1<<-E)-1,S>>=-E,E+=p;E>0;g=256*g+l[h+D],D+=R,E-=8);for(_=g&(1<<-E)-1,g>>=-E,E+=u;E>0;_=256*_+l[h+D],D+=R,E-=8);if(g===0)g=1-I;else{if(g===y)return _?NaN:1/0*(S?-1:1);_+=Math.pow(2,u),g-=I}return(S?-1:1)*_*Math.pow(2,g-u)},o.write=function(l,h,m,u,v,g){var _,p,y,I=8*g-v-1,E=(1<<I)-1,D=E>>1,R=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=u?0:g-1,L=u?1:-1,B=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(p=isNaN(h)?1:0,_=E):(_=Math.floor(Math.log(h)/Math.LN2),h*(y=Math.pow(2,-_))<1&&(_--,y*=2),h+=_+D>=1?R/y:R*Math.pow(2,1-D),h*y>=2&&(_++,y/=2),_+D>=E?(p=0,_=E):_+D>=1?(p=(h*y-1)*Math.pow(2,v),_+=D):(p=h*Math.pow(2,D-1)*Math.pow(2,v),_=0));v>=8;l[m+S]=255&p,S+=L,p/=256,v-=8);for(_=_<<v|p,I+=v;I>0;l[m+S]=255&_,S+=L,_/=256,I-=8);l[m+S-L]|=128*B}},{}],15:[function(t,f,o){(function(l,h,m,u,v){function g(te){this.node=te}function _(){this.events=[],this.head=null,this.body=null}function p(){this.styling=null,this.layout=null}function y(){this.styles={}}function I(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function E(){this.regions={}}function D(te){this.kind=te,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function R(){D.call(this,"body")}function S(){D.call(this,"div")}function L(){D.call(this,"p")}function B(){D.call(this,"span"),this.space=null}function k(){D.call(this,"span"),this.space=null,this.text=null}function b(){D.call(this,"br")}function A(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function G(){this.begin=null,this.end=null,this.qname=null,this.value=null}function w(te){return te&&"xml:id"in te.attributes&&te.attributes["xml:id"].value||null}function M(te){return te&&"region"in te.attributes?te.attributes.region.value:""}function U(te,ue){var ve=te&&"timeContainer"in te.attributes?te.attributes.timeContainer.value:null;return ve&&ve!=="par"?ve==="seq"?"seq":(ae(ue,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function j(te){return te&&"style"in te.attributes?te.attributes.style.value.split(" "):[]}function le(te,ue){var ve={};if(te!==null)for(var ye in te.attributes){var se=te.attributes[ye].uri+" "+te.attributes[ye].local,Ie=u.byQName[se];if(Ie!==void 0){var x=Ie.parse(te.attributes[ye].value);x!==null?(ve[se]=x,Ie===u.byName.zIndex&&W(ue,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ae(ue,"Cannot parse styling attribute "+se+" --> "+te.attributes[ye].value)}}return ve}function Z(te,ue,ve){for(var ye in te.attributes)if(te.attributes[ye].uri===ue&&te.attributes[ye].local===ve)return te.attributes[ye].value;return null}function ne(te,ue){var ve=Z(te,m.ns_ittp,"aspectRatio"),ye=null;if(ve!==null){var se=/(\d+) (\d+)/,Ie=se.exec(ve);if(Ie!==null){var x=parseInt(Ie[1]),q=parseInt(Ie[2]);x!==0&&q!==0?ye=x/q:ae(ue,"Illegal aspectRatio values (ignoring)")}else ae(ue,"Malformed aspectRatio attribute (ignoring)")}return ye}function X(te,ue){var ve=Z(te,m.ns_ttp,"cellResolution"),ye=15,se=32;if(ve!==null){var Ie=/(\d+) (\d+)/,x=Ie.exec(ve);x!==null?(se=parseInt(x[1]),ye=parseInt(x[2])):W(ue,"Malformed cellResolution value (using initial value instead)")}return{w:se,h:ye}}function pe(te,ue){var ve,ye=Z(te,m.ns_ttp,"frameRate"),se=30;ye!==null&&(ve=/(\d+)/.exec(ye),ve!==null?se=parseInt(ve[1]):W(ue,"Malformed frame rate attribute (using initial value instead)"));var Ie=Z(te,m.ns_ttp,"frameRateMultiplier"),x=1;Ie!==null&&(ve=/(\d+) (\d+)/.exec(Ie),ve!==null?x=parseInt(ve[1])/parseInt(ve[2]):W(ue,"Malformed frame rate multiplier attribute (using initial value instead)"));var q=x*se,P=1,N=Z(te,m.ns_ttp,"tickRate");return N===null?ye!==null&&(P=q):(ve=/(\d+)/.exec(N),ve!==null?P=parseInt(ve[1]):W(ue,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:q,tickRate:P}}function K(te,ue){var ve=Z(te,m.ns_tts,"extent");if(ve===null)return null;var ye=ve.split(" ");if(ye.length!==2)return W(ue,"Malformed extent (ignoring)"),null;var se=v.parseLength(ye[0]),Ie=v.parseLength(ye[1]);return Ie&&se?{h:Ie,w:se}:(W(ue,"Malformed extent values (ignoring)"),null)}function de(te,ue,ve){var ye,se=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,Ie=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/,x=/^(\d+(?:\.\d+)?)f$/,q=/^(\d+(?:\.\d+)?)t$/,P=/^(\d+(?:\.\d+)?)ms$/,N=/^(\d+(?:\.\d+)?)s$/,Q=/^(\d+(?:\.\d+)?)h$/,z=/^(\d+(?:\.\d+)?)m$/,oe=null;return(ye=x.exec(ve))!==null?ue!==null&&(oe=parseFloat(ye[1])/ue):(ye=q.exec(ve))!==null?te!==null&&(oe=parseFloat(ye[1])/te):(ye=P.exec(ve))!==null?oe=parseFloat(ye[1])/1e3:(ye=N.exec(ve))!==null?oe=parseFloat(ye[1]):(ye=Q.exec(ve))!==null?oe=3600*parseFloat(ye[1]):(ye=z.exec(ve))!==null?oe=60*parseFloat(ye[1]):(ye=se.exec(ve))!==null?oe=3600*parseInt(ye[1])+60*parseInt(ye[2])+parseFloat(ye[3]):(ye=Ie.exec(ve))!==null&&ue!==null&&(oe=3600*parseInt(ye[1])+60*parseInt(ye[2])+parseInt(ye[3])+(ye[4]===null?0:parseInt(ye[4])/ue)),oe}function fe(te,ue,ve,ye){var se=ue&&ue.timeContainer==="seq",Ie=0;ve&&"begin"in ve.attributes&&(Ie=de(te.tickRate,te.effectiveFrameRate,ve.attributes.begin.value))===null&&(W(ye,"Malformed begin value "+ve.attributes.begin.value+" (using 0)"),Ie=0);var x=se?0:null;ve&&"dur"in ve.attributes&&(x=de(te.tickRate,te.effectiveFrameRate,ve.attributes.dur.value))===null&&W(ye,"Malformed dur value "+ve.attributes.dur.value+" (ignoring)");var q=null;ve&&"end"in ve.attributes&&(q=de(te.tickRate,te.effectiveFrameRate,ve.attributes.end.value))===null&&W(ye,"Malformed end value (ignoring)");var P=0;if(ue&&(P=se&&"contents"in ue&&ue.contents.length>0?ue.contents[ue.contents.length-1].end:ue.begin||0),Ie+=P,x!==null)q=Ie+x;else{var N=ue&&"end"in ue?ue.end:Number.POSITIVE_INFINITY;q=q!==null?q+P:N}return{begin:Ie,end:q}}function re(te,ue,ve){for(;ue.styleRefs.length>0;){var ye=ue.styleRefs.pop();ye in te.styles?(re(te,te.styles[ye],ve),_e(te.styles[ye].styleAttrs,ue.styleAttrs)):ae(ve,"Non-existant style id referenced")}}function ge(te,ue,ve,ye){for(var se=ue.length-1;se>=0;se--){var Ie=ue[se];Ie in te.styles?_e(te.styles[Ie].styleAttrs,ve):ae(ye,"Non-existant style id referenced")}}function _e(te,ue){for(var ve in te)ve in ue||(ue[ve]=te[ve])}function W(te,ue){if(te&&te.warn&&te.warn(ue))throw ue}function ae(te,ue){if(te&&te.error&&te.error(ue))throw ue}function me(te,ue){throw te&&te.fatal&&te.fatal(ue),ue}function Te(te,ue){for(var ve,ye=0,se=te.length-1;ye<=se;){ve=Math.floor((ye+se)/2);var Ie=te[ve];if(Ie<ue)ye=ve+1;else{if(!(Ie>ue))return{found:!0,index:ve};se=ve-1}}return{found:!1,index:ye}}l.fromXML=function(te,ue,ve){var ye=h.parser(!0,{xmlns:!0}),se=[],Ie=[],x=[],q=0,P=null;ye.onclosetag=function(oe){if(se[0]instanceof y)for(var he in se[0].styles)re(se[0],se[0].styles[he],ue);else if(se[0]instanceof L||se[0]instanceof B){if(se[0].contents.length>1){var d,C=[se[0].contents[0]];for(d=1;d<se[0].contents.length;d++)se[0].contents[d]instanceof k&&C[C.length-1]instanceof k?C[C.length-1].text+=se[0].contents[d].text:C.push(se[0].contents[d]);se[0].contents=C}se[0]instanceof B&&se[0].contents.length===1&&se[0].contents[0]instanceof k&&se[0].text===null&&(se[0].text=se[0].contents[0].text,delete se[0].contents)}else se[0]instanceof g&&(se[0].node.uri===m.ns_tt&&se[0].node.local==="metadata"?q--:q>0&&ve&&"onCloseTag"in ve&&ve.onCloseTag());x.shift(),Ie.shift(),se.shift()},ye.ontext=function(oe){if(se[0]!==void 0)if(se[0]instanceof B||se[0]instanceof L){var he=new k;he.initFromText(P,se[0],oe,x[0],ue),se[0].contents.push(he)}else se[0]instanceof g&&q>0&&ve&&"onText"in ve&&ve.onText(oe)},ye.onopentag=function(oe){var he=oe.attributes["xml:space"];he?x.unshift(he.value):x.length===0?x.unshift("default"):x.unshift(x[0]);var d=oe.attributes["xml:lang"];if(d?Ie.unshift(d.value):Ie.length===0?Ie.unshift(""):Ie.unshift(Ie[0]),oe.uri===m.ns_tt)if(oe.local==="tt")P!==null&&me("Two <tt> elements at ("+this.line+","+this.column+")"),P=new _,P.initFromNode(oe,ue),se.unshift(P);else if(oe.local==="head")se[0]instanceof _||me("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),P.head!==null&&me("Second <head> element at ("+this.line+","+this.column+")"),P.head=new p,se.unshift(P.head);else if(oe.local==="styling")se[0]instanceof p||me("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),P.head.styling!==null&&me("Second <styling> element at ("+this.line+","+this.column+")"),P.head.styling=new y,se.unshift(P.head.styling);else if(oe.local==="style"){var C;se[0]instanceof y?(C=new I,C.initFromNode(oe,ue),C.id?P.head.styling.styles[C.id]=C:ae("<style> element missing @id attribute"),se.unshift(C)):se[0]instanceof A?(C=new I,C.initFromNode(oe,ue),_e(C.styleAttrs,se[0].styleAttrs),se.unshift(C)):me(ue,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(oe.local==="layout")se[0]instanceof p||me(ue,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),P.head.layout!==null&&me(ue,"Second <layout> element at "+this.line+","+this.column+")"),P.head.layout=new E,se.unshift(P.head.layout);else if(oe.local==="region"){se[0]instanceof E||me(ue,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var F=new A;F.initFromNode(P,oe,ue),!F.id||F.id in P.head.layout.regions?ae(ue,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(P.head.layout.regions[F.id]=F,P._registerEvent(F)),se.unshift(F)}else if(oe.local==="body"){se[0]instanceof _||me(ue,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),P.body!==null&&me(ue,"Second <body> element at "+this.line+","+this.column+")");var H=new R;H.initFromNode(P,oe,ue),P._registerEvent(H),P.body=H,se.unshift(H)}else if(oe.local==="div"){se[0]instanceof S||se[0]instanceof R||me(ue,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Y=new S;Y.initFromNode(P,se[0],oe,ue),P._registerEvent(Y),se[0].contents.push(Y),se.unshift(Y)}else if(oe.local==="p"){se[0]instanceof S||me(ue,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var ce=new L;ce.initFromNode(P,se[0],oe,ue),P._registerEvent(ce),se[0].contents.push(ce),se.unshift(ce)}else if(oe.local==="span"){se[0]instanceof B||se[0]instanceof L||me(ue,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var xe=new B;xe.initFromNode(P,se[0],oe,x[0],ue),P._registerEvent(xe),se[0].contents.push(xe),se.unshift(xe)}else if(oe.local==="br"){se[0]instanceof B||se[0]instanceof L||me(ue,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Se=new b;Se.initFromNode(P,se[0],oe,ue),P._registerEvent(Se),se[0].contents.push(Se),se.unshift(Se)}else if(oe.local==="set"){se[0]instanceof B||se[0]instanceof L||se[0]instanceof S||se[0]instanceof R||se[0]instanceof A||se[0]instanceof b||me(ue,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Pe=new G;Pe.initFromNode(P,se[0],oe,ue),P._registerEvent(Pe),se[0].sets.push(Pe),se.unshift(Pe)}else se.unshift(new g(oe));else se.unshift(new g(oe));if(se[0]instanceof g){if(oe.uri===m.ns_tt&&oe.local==="metadata")q++;else if(q>0&&ve&&"onOpenTag"in ve){var Oe=[];for(var Fe in oe.attributes)Oe[oe.attributes[Fe].uri+" "+oe.attributes[Fe].local]={uri:oe.attributes[Fe].uri,local:oe.attributes[Fe].local,value:oe.attributes[Fe].value};ve.onOpenTag(oe.uri,oe.local,Oe)}}},ye.write(te).close(),P.head!==null?delete P.head.styling:P.head=new p,P.head.layout===null&&(P.head.layout=new E);var N=!1;for(var Q in P.head.layout.regions){N=!0;break}if(!N){var z=A.createDefaultRegion();P.head.layout.regions[z.id]=z}return P},_.prototype.initFromNode=function(te,ue){this.cellResolution=X(te,ue);var ve=pe(te,ue);this.effectiveFrameRate=ve.effectiveFrameRate,this.tickRate=ve.tickRate,this.aspectRatio=ne(te,ue);var ye=Z(te,m.ns_ttp,"timeBase");ye!==null&&ye!=="media"&&me(ue,"Unsupported time base");var se=K(te,ue);se===null?this.pxDimensions={h:480,w:640}:(se.h.unit==="px"&&se.w.unit==="px"||me(ue,"Extent on TT must be in px or absent"),this.pxDimensions={h:se.h.value,w:se.w.value})},_.prototype._registerEvent=function(te){if(!(te.end<=te.begin)){var ue=Te(this.events,te.begin);if(ue.found||this.events.splice(ue.index,0,te.begin),te.end!==Number.POSITIVE_INFINITY){var ve=Te(this.events,te.end);ve.found||this.events.splice(ve.index,0,te.end)}}},_.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},_.prototype.getMediaTimeEvents=function(){return this.events},I.prototype.initFromNode=function(te,ue){this.id=w(te),this.styleAttrs=le(te,ue),this.styleRefs=j(te)},D.prototype.initFromNode=function(te,ue,ve,ye){var se=fe(te,ue,ve,ye);this.begin=se.begin,this.end=se.end,this.styleAttrs=le(ve,ye),te.head!==null&&te.head.styling!==null&&ge(te.head.styling,j(ve),this.styleAttrs,ye),this.regionID=M(ve),this.sets=[],this.timeContainer=U(ve,ye)},R.prototype.initFromNode=function(te,ue,ve){D.prototype.initFromNode.call(this,te,null,ue,ve),this.contents=[]},S.prototype.initFromNode=function(te,ue,ve,ye){D.prototype.initFromNode.call(this,te,ue,ve,ye),this.contents=[]},L.prototype.initFromNode=function(te,ue,ve,ye){D.prototype.initFromNode.call(this,te,ue,ve,ye),this.contents=[]},B.prototype.initFromNode=function(te,ue,ve,ye,se){D.prototype.initFromNode.call(this,te,ue,ve,se),this.space=ye,this.contents=[]},k.prototype.initFromText=function(te,ue,ve,ye,se){D.prototype.initFromNode.call(this,te,ue,null,se),this.text=ve,this.space=ye},b.prototype.initFromNode=function(te,ue,ve,ye){D.prototype.initFromNode.call(this,te,ue,ve,ye)},A.createDefaultRegion=function(){var te=new A;return te.id="",te.begin=0,te.end=Number.POSITIVE_INFINITY,te.styleAttrs={},te.sets=[],te},A.prototype.initFromNode=function(te,ue,ve){this.id=w(ue);var ye=fe(te,null,ue,ve);this.begin=ye.begin,this.end=ye.end,this.styleAttrs=le(ue,ve),this.sets=[],te.head!==null&&te.head.styling!==null&&ge(te.head.styling,j(ue),this.styleAttrs,ve)},G.prototype.initFromNode=function(te,ue,ve,ye){var se=fe(te,ue,ve,ye);this.begin=se.begin,this.end=se.end;var Ie=le(ve,ye);for(var x in Ie){if(this.qname){ae(ye,"More than one style specified on set");break}this.qname=x,this.value=Ie[x]}}})(o===void 0?this.imscDoc={}:o,typeof sax=="undefined"?t(42):sax,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,20:20,21:21,42:42}],16:[function(t,f,o){(function(l,h,m){function u(b,A,G){var w;if(G.kind==="region"?(w=document.createElement("div"),w.style.position="absolute"):G.kind==="body"||G.kind==="div"?w=document.createElement("div"):G.kind==="p"?w=document.createElement("p"):G.kind==="span"?w=document.createElement("span"):G.kind==="br"&&(w=document.createElement("br")),!w)return void S(b.errorHandler,"Error processing ISD element kind: "+G.kind);w.style.margin="0";for(var M in L){var U=L[M],j=G.styleAttrs[U.qname];j!==void 0&&U.map!==null&&U.map(b,w,G,j)}var le=w,Z=G.styleAttrs[m.byName.multiRowAlign.qname];if(Z&&Z!=="auto"){var ne=document.createElement("span");ne.style.display="inline-block",ne.style.textAlign=Z,w.appendChild(ne),le=ne,b.mra=Z}var X=G.styleAttrs[m.byName.linePadding.qname];if(X&&X>0&&(b.lp=X),G.kind==="span"&&G.text)if(b.lp||b.mra)for(var pe=0;pe<G.text.length;pe++){var K=document.createElement("span");K.textContent=G.text.charAt(pe),w.appendChild(K)}else w.textContent=G.text;A.appendChild(w);for(var de in G.contents)u(b,le,G.contents[de]);if((b.lp||b.mra)&&G.kind==="p"){var fe=[];g(le,fe,"red"),y(fe,b.lp*b.h),b.lp&&delete b.lp,b.mra&&delete b.mra}if(G.kind==="region"){var re=[];_(le,re);var ge=G.styleAttrs[m.byName.writingMode.qname];if((ge==="lrtb"||ge==="lr"||ge==="rltb"||ge==="rl")&&b.enableRollUp&&G.contents.length>0&&G.styleAttrs[m.byName.displayAlign.qname]==="after"){var _e=G.id===""?"_":G.id,W=new v(_e,re);if(b.currentISDState[W.id]=W,b.previousISDState&&W.id in b.previousISDState&&b.previousISDState[W.id].plist.length>0&&W.plist.length>1&&W.plist[W.plist.length-2].text===b.previousISDState[W.id].plist[b.previousISDState[W.id].plist.length-1].text){var ae=w.firstElementChild;ae.style.bottom="-"+W.plist[W.plist.length-1].height+"px",ae.style.transition="transform 0.4s",ae.style.position="relative",ae.style.transform="translateY(-"+W.plist[W.plist.length-1].height+"px)"}}}}function v(b,A){this.id=b,this.plist=A}function g(b,A,G){if(b.childElementCount===0)A.push({element:b,bgcolor:G});else for(var w=b.style.backgroundColor||G,M=b.firstChild;M;)M.nodeType===Node.ELEMENT_NODE&&g(M,A,w),M=M.nextSibling}function _(b,A){if(b.childElementCount===0&&b.localName==="span"){var G=b.getBoundingClientRect();A.length!==0&&p(G.top,G.height,A[A.length-1].top,A[A.length-1].height)?(G.top<A[A.length-1].top&&(A[A.length-1].top=G.top),G.height>A[A.length-1].height&&(A[A.length-1].height=G.height),A[A.length-1].text+=b.textContent):A.push({top:G.top,height:G.height,text:b.textContent})}else for(var w=b.firstChild;w;)w.nodeType===Node.ELEMENT_NODE&&_(w,A),w=w.nextSibling}function p(b,A,G,w){return b+A<G+w&&b>G||G+w<=b+A&&G>=b}function y(b,A){for(var G=null,w=!0,M=!1,U=0;U<=b.length;U++)if(U===b.length||b[U].element.localName!=="br"){if(G===null||U===b.length||!p(b[U].element.getBoundingClientRect().top,b[U].element.getBoundingClientRect().height,b[G].element.getBoundingClientRect().top,b[G].element.getBoundingClientRect().height)){if(A&&!w){for(;--U>=0;)if(b[U].element.getBoundingClientRect().width!==0){if(E(b[U].element,b[U].color,A),b[U].element.getBoundingClientRect().width!==0&&p(b[U].element.getBoundingClientRect().top,b[U].element.getBoundingClientRect().height,b[G].element.getBoundingClientRect().top,b[G].element.getBoundingClientRect().height))break;D(b[U].element)}w=!0;continue}if(U!==b.length&&G!==null&&!M){var j=document.createElement("br");b[U].element.parentElement.insertBefore(j,b[U].element),b.splice(U,0,{element:j}),M=!0;continue}if(U!==b.length&&A){for(;U<b.length;U++)if(b[U].element.getBoundingClientRect().width!==0){I(b[U].element,b[U].color,A);break}}w=!1,M=!1,G=U}}else M=!0}function I(b,A,G){b.style.paddingLeft=G+"px",b.style.backgroundColor=A}function E(b,A,G){b.style.paddingRight=G+"px",b.style.backgroundColor=A}function D(b){b.style.paddingRight=null}function R(b,A){this.qname=b,this.map=A}function S(b,A){if(b&&b.error&&b.error(A))throw A}l.render=function(b,A,G,w,M,U,j,le,Z){var ne=w||A.clientHeight,X=M||A.clientWidth;if(b.aspectRatio!==null){var pe=ne*b.aspectRatio;pe>X?ne=Math.round(X/b.aspectRatio):X=pe}var K=document.createElement("div");K.style.position="relative",K.style.width=X+"px",K.style.height=ne+"px",K.style.margin="auto",K.style.top=0,K.style.bottom=0,K.style.left=0,K.style.right=0,K.style.zIndex=0;var de={h:ne,w:X,regionH:null,regionW:null,imgResolver:G,displayForcedOnlyMode:U||!1,isd:b,errorHandler:j,previousISDState:le,enableRollUp:Z||!1,currentISDState:{}};A.appendChild(K);for(var fe in b.contents)u(de,K,b.contents[fe]);return de.currentISDState};var L=[new R("http://www.w3.org/ns/ttml#styling backgroundColor",function(b,A,G,w){A.style.backgroundColor="rgba("+w[0].toString()+","+w[1].toString()+","+w[2].toString()+","+(w[3]/255).toString()+")"}),new R("http://www.w3.org/ns/ttml#styling color",function(b,A,G,w){A.style.color="rgba("+w[0].toString()+","+w[1].toString()+","+w[2].toString()+","+(w[3]/255).toString()+")"}),new R("http://www.w3.org/ns/ttml#styling direction",function(b,A,G,w){A.style.direction=w}),new R("http://www.w3.org/ns/ttml#styling display",function(b,A,G,w){}),new R("http://www.w3.org/ns/ttml#styling displayAlign",function(b,A,G,w){A.style.display="flex",A.style.flexDirection="column",w==="before"?A.style.justifyContent="flex-start":w==="center"?A.style.justifyContent="center":w==="after"&&(A.style.justifyContent="flex-end")}),new R("http://www.w3.org/ns/ttml#styling extent",function(b,A,G,w){b.regionH=w.h*b.h,b.regionW=w.w*b.w;var M=0,U=0,j=G.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];j&&(M=(j[0]+j[2])*b.h,U=(j[1]+j[3])*b.w),A.style.height=b.regionH-M+"px",A.style.width=b.regionW-U+"px"}),new R("http://www.w3.org/ns/ttml#styling fontFamily",function(b,A,G,w){var M=[];for(var U in w)w[U]==="monospaceSerif"?(M.push("Courier New"),M.push('"Liberation Mono"'),M.push("Courier"),M.push("monospace")):w[U]==="proportionalSansSerif"?(M.push("Arial"),M.push("Helvetica"),M.push('"Liberation Sans"'),M.push("sans-serif")):w[U]==="monospace"?M.push("monospace"):w[U]==="sansSerif"?M.push("sans-serif"):w[U]==="serif"?M.push("serif"):w[U]==="monospaceSansSerif"?(M.push("Consolas"),M.push("monospace")):w[U]==="proportionalSerif"?M.push("serif"):M.push(w[U]);A.style.fontFamily=M.join(",")}),new R("http://www.w3.org/ns/ttml#styling fontSize",function(b,A,G,w){A.style.fontSize=w*b.h+"px"}),new R("http://www.w3.org/ns/ttml#styling fontStyle",function(b,A,G,w){A.style.fontStyle=w}),new R("http://www.w3.org/ns/ttml#styling fontWeight",function(b,A,G,w){A.style.fontWeight=w}),new R("http://www.w3.org/ns/ttml#styling lineHeight",function(b,A,G,w){A.style.lineHeight=w==="normal"?"normal":w*b.h+"px"}),new R("http://www.w3.org/ns/ttml#styling opacity",function(b,A,G,w){A.style.opacity=w}),new R("http://www.w3.org/ns/ttml#styling origin",function(b,A,G,w){A.style.top=w.h*b.h+"px",A.style.left=w.w*b.w+"px"}),new R("http://www.w3.org/ns/ttml#styling overflow",function(b,A,G,w){A.style.overflow=w}),new R("http://www.w3.org/ns/ttml#styling padding",function(b,A,G,w){var M=[];M[0]=w[0]*b.h+"px",M[1]=w[3]*b.w+"px",M[2]=w[2]*b.h+"px",M[3]=w[1]*b.w+"px",A.style.padding=M.join(" ")}),new R("http://www.w3.org/ns/ttml#styling showBackground",null),new R("http://www.w3.org/ns/ttml#styling textAlign",function(b,A,G,w){var M,U=G.styleAttrs[m.byName.direction.qname];M=w==="start"?U==="rtl"?"right":"left":w==="end"?U==="rtl"?"left":"right":w,A.style.textAlign=M}),new R("http://www.w3.org/ns/ttml#styling textDecoration",function(b,A,G,w){A.style.textDecoration=w.join(" ").replace("lineThrough","line-through")}),new R("http://www.w3.org/ns/ttml#styling textOutline",function(b,A,G,w){A.style.textShadow=w==="none"?"":"rgba("+w.color[0].toString()+","+w.color[1].toString()+","+w.color[2].toString()+","+(w.color[3]/255).toString()+") 0px 0px "+w.thickness*b.h+"px"}),new R("http://www.w3.org/ns/ttml#styling unicodeBidi",function(b,A,G,w){var M;M=w==="bidiOverride"?"bidi-override":w,A.style.unicodeBidi=M}),new R("http://www.w3.org/ns/ttml#styling visibility",function(b,A,G,w){A.style.visibility=w}),new R("http://www.w3.org/ns/ttml#styling wrapOption",function(b,A,G,w){w==="wrap"?G.space==="preserve"?A.style.whiteSpace="pre-wrap":A.style.whiteSpace="normal":G.space==="preserve"?A.style.whiteSpace="pre":A.style.whiteSpace="noWrap"}),new R("http://www.w3.org/ns/ttml#styling writingMode",function(b,A,G,w){w==="lrtb"||w==="lr"||w==="rltb"||w==="rl"?A.style.writingMode="horizontal-tb":w==="tblr"?A.style.writingMode="vertical-lr":w!=="tbrl"&&w!=="tb"||(A.style.writingMode="vertical-rl")}),new R("http://www.w3.org/ns/ttml#styling zIndex",function(b,A,G,w){A.style.zIndex=w}),new R("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(b,A,G,w){if(b.imgResolver!==null&&w!==null){var M=document.createElement("img"),U=b.imgResolver(w,M);U&&(M.src=U),M.height=b.regionH,M.width=b.regionW,A.appendChild(M)}}),new R("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(b,A,G,w){b.displayForcedOnlyMode&&w===!1&&(A.style.visibility="hidden")})],B={};for(var k in L)B[L[k].qname]=L[k]})(o===void 0?this.imscHTML={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],17:[function(t,f,o){(function(l,h,m){function u(I,E,D,R,S,L,B,k){if(E<B.begin||E>=B.end)return null;var b="regionID"in B&&B.regionID!==""?B.regionID:L;if(S!==null&&b!==D.id&&(!("contents"in B)||"contents"in B&&B.contents.length===0||b!==""))return null;var A=new p(B);for(var G in B.sets)E<B.sets[G].begin||E>=B.sets[G].end||(A.styleAttrs[B.sets[G].qname]=B.sets[G].value);var w={};for(var M in A.styleAttrs)if(w[M]=!0,M===m.byName.writingMode.qname&&!(m.byName.direction.qname in A.styleAttrs)){var U=A.styleAttrs[M];U==="lrtb"||U==="lr"?A.styleAttrs[m.byName.direction.qname]="ltr":U!=="rltb"&&U!=="rl"||(A.styleAttrs[m.byName.direction.qname]="rtl")}if(S!==null)for(var j in m.all){var le=m.all[j];if(le.qname===m.byName.textDecoration.qname){var Z=S.styleAttrs[le.qname],ne=A.styleAttrs[le.qname],X=[];ne===void 0?X=Z:ne.indexOf("none")===-1?((ne.indexOf("noUnderline")===-1&&Z.indexOf("underline")!==-1||ne.indexOf("underline")!==-1)&&X.push("underline"),(ne.indexOf("noLineThrough")===-1&&Z.indexOf("lineThrough")!==-1||ne.indexOf("lineThrough")!==-1)&&X.push("lineThrough"),(ne.indexOf("noOverline")===-1&&Z.indexOf("overline")!==-1||ne.indexOf("overline")!==-1)&&X.push("overline")):X.push("none"),A.styleAttrs[le.qname]=X}else le.inherit&&le.qname in S.styleAttrs&&!(le.qname in A.styleAttrs)&&(A.styleAttrs[le.qname]=S.styleAttrs[le.qname])}for(var pe in m.all){var K=m.all[pe];K.qname in A.styleAttrs||(A.kind==="region"||K.inherit===!1&&K.initial!==null)&&(A.styleAttrs[K.qname]=K.parse(K.initial),w[K.qname]=!0)}for(var de in m.all){var fe=m.all[de];if(fe.qname in w&&fe.compute!==null){var re=fe.compute(I,S,A,A.styleAttrs[fe.qname]);re!==null?A.styleAttrs[fe.qname]=re:y(k,"Style '"+fe.qname+"' on element '"+A.kind+"' cannot be computed")}}if(A.styleAttrs[m.byName.display.qname]==="none")return null;var ge;S===null?ge=R===null?[]:[R]:"contents"in B&&(ge=B.contents);for(var _e in ge){var W=u(I,E,D,R,A,b,ge[_e]);W!==null&&A.contents.push(W.element)}for(var ae in A.styleAttrs)m.byQName[ae].applies.indexOf(A.kind)===-1&&delete A.styleAttrs[ae];if(A.kind==="span"&&A.text&&A.space==="default"){var me=A.text.replace(/\s+/g," ");A.text=me}if(A.kind==="p"){var Te=[];v(A,Te);for(var te=0,ue="after_br",ve=0;;)if(ue==="after_br")te>=Te.length||Te[te].kind==="br"?(ue="before_br",ve=te,te--):(Te[te].space!=="preserve"&&(Te[te].text=Te[te].text.replace(/^\s+/g,"")),Te[te].text.length>0?(ue="looking_br",te++):Te.splice(te,1));else if(ue==="before_br")if(te<0||Te[te].kind==="br"){if(ue="after_br",(te=ve+1)>=Te.length)break}else if(Te[te].space!=="preserve"&&(Te[te].text=Te[te].text.replace(/\s+$/g,"")),Te[te].text.length>0){if(ue="after_br",(te=ve+1)>=Te.length)break}else Te.splice(te,1),te--;else te>=Te.length||Te[te].kind==="br"?(ue="before_br",ve=te,te--):te++;g(A)}return A.kind==="div"&&m.byName.backgroundImage.qname in A.styleAttrs||A.kind==="br"||"contents"in A&&A.contents.length>0||A.kind==="span"&&A.text!==null||A.kind==="region"&&A.styleAttrs[m.byName.showBackground.qname]==="always"?{region_id:b,element:A}:null}function v(I,E){if("contents"in I)for(var D in I.contents)v(I.contents[D],E);else E.push(I)}function g(I){if(I.kind==="br")return!1;if("text"in I)return I.text.length===0;if("contents"in I){for(var E=I.contents.length;E--;)g(I.contents[E])&&I.contents.splice(E,1);return I.contents.length===0}}function _(I){this.contents=[],this.aspectRatio=I.aspectRatio}function p(I){this.kind=I.kind||"region",I.id&&(this.id=I.id),this.styleAttrs={};for(var E in I.styleAttrs)this.styleAttrs[E]=I.styleAttrs[E];"text"in I?this.text=I.text:I.kind!=="br"&&(this.contents=[]),"space"in I&&(this.space=I.space)}function y(I,E){if(I&&I.error&&I.error(E))throw E}l.generateISD=function(I,E,D){var R=new _(I);for(var S in I.head.layout.regions){var L=u(I,E,I.head.layout.regions[S],I.body,null,"",I.head.layout.regions[S],D);L!==null&&R.contents.push(L.element)}return R}})(o===void 0?this.imscISD={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscStyles=="undefined"?t(20):imscStyles)},{19:19,20:20}],18:[function(t,f,o){o.generateISD=t(17).generateISD,o.fromXML=t(15).fromXML,o.renderHTML=t(16).render},{15:15,16:16,17:17}],19:[function(t,f,o){(function(l){l.ns_tt="http://www.w3.org/ns/ttml",l.ns_tts="http://www.w3.org/ns/ttml#styling",l.ns_ttp="http://www.w3.org/ns/ttml#parameter",l.ns_xml="http://www.w3.org/XML/1998/namespace",l.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",l.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",l.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",l.ns_ebutts="urn:ebu:tt:style"})(o===void 0?this.imscNames={}:o)},{}],20:[function(t,f,o){(function(l,h,m){function u(_,p,y,I,E,D,R,S){this.name=p,this.ns=_,this.qname=_+" "+p,this.inherit=E,this.animatable=D,this.initial=y,this.applies=I,this.parse=R,this.compute=S}l.all=[new u(h.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,m.parseColor,null),new u(h.ns_tts,"color","white",["span"],!0,!0,m.parseColor,null),new u(h.ns_tts,"direction","ltr",["p","span"],!0,!0,function(_){return _},null),new u(h.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(_){return _},null),new u(h.ns_tts,"displayAlign","before",["region"],!1,!0,function(_){return _},null),new u(h.ns_tts,"extent","auto",["tt","region"],!1,!0,function(_){if(_==="auto")return _;var p=_.split(" ");if(p.length!==2)return null;var y=m.parseLength(p[0]),I=m.parseLength(p[1]);return I&&y?{h:I,w:y}:null},function(_,p,y,I){var E,D;if(I==="auto")E=1;else if(I.h.unit==="%")E=I.h.value/100;else{if(I.h.unit!=="px")return null;E=I.h.value/_.pxDimensions.h}if(I==="auto")D=1;else if(I.w.unit==="%")D=I.w.value/100;else{if(I.w.unit!=="px")return null;D=I.w.value/_.pxDimensions.w}return{h:E,w:D}}),new u(h.ns_tts,"fontFamily","default",["span"],!0,!0,function(_){var p=_.split(","),y=[];for(var I in p)p[I].charAt(0)!=="'"&&p[I].charAt(0)!=='"'&&p[I]==="default"?y.push("monospaceSerif"):y.push(p[I]);return y},null),new u(h.ns_tts,"fontSize","1c",["span"],!0,!0,m.parseLength,function(_,p,y,I){var E;if(I.unit==="%")E=p!==null?p.styleAttrs[l.byName.fontSize.qname]*I.value/100:I.value/100/_.cellResolution.h;else if(I.unit==="em")E=p!==null?p.styleAttrs[l.byName.fontSize.qname]*I.value:I.value/_.cellResolution.h;else if(I.unit==="c")E=I.value/_.cellResolution.h;else{if(I.unit!=="px")return null;E=I.value/_.pxDimensions.h}return E}),new u(h.ns_tts,"fontStyle","normal",["span"],!0,!0,function(_){return _},null),new u(h.ns_tts,"fontWeight","normal",["span"],!0,!0,function(_){return _},null),new u(h.ns_tts,"lineHeight","normal",["p"],!0,!0,function(_){return _==="normal"?_:m.parseLength(_)},function(_,p,y,I){var E;if(I==="normal")E=I;else if(I.unit==="%")E=y.styleAttrs[l.byName.fontSize.qname]*I.value/100;else if(I.unit==="em")E=y.styleAttrs[l.byName.fontSize.qname]*I.value;else if(I.unit==="c")E=I.value/_.cellResolution.h;else{if(I.unit!=="px")return null;E=I.value/_.pxDimensions.h}return E}),new u(h.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new u(h.ns_tts,"origin","auto",["region"],!1,!0,function(_){if(_==="auto")return _;var p=_.split(" ");if(p.length!==2)return null;var y=m.parseLength(p[0]),I=m.parseLength(p[1]);return I&&y?{h:I,w:y}:null},function(_,p,y,I){var E,D;if(I==="auto")E=0;else if(I.h.unit==="%")E=I.h.value/100;else{if(I.h.unit!=="px")return null;E=I.h.value/_.pxDimensions.h}if(I==="auto")D=0;else if(I.w.unit==="%")D=I.w.value/100;else{if(I.w.unit!=="px")return null;D=I.w.value/_.pxDimensions.w}return{h:E,w:D}}),new u(h.ns_tts,"overflow","hidden",["region"],!1,!0,function(_){return _},null),new u(h.ns_tts,"padding","0px",["region"],!1,!0,function(_){var p=_.split(" ");if(p.length>4)return null;var y=[];for(var I in p){var E=m.parseLength(p[I]);if(!E)return null;y.push(E)}return y},function(_,p,y,I){var E;if(I.length===1)E=[I[0],I[0],I[0],I[0]];else if(I.length===2)E=[I[0],I[1],I[0],I[1]];else if(I.length===3)E=[I[0],I[1],I[2],I[1]];else{if(I.length!==4)return null;E=[I[0],I[1],I[2],I[3]]}var D=y.styleAttrs[l.byName.writingMode.qname];if(D==="lrtb"||D==="lr")E=[E[0],E[3],E[2],E[1]];else if(D==="rltb"||D==="rl")E=[E[0],E[1],E[2],E[3]];else if(D==="tblr")E=[E[3],E[0],E[1],E[2]];else{if(D!=="tbrl"&&D!=="tb")return null;E=[E[3],E[2],E[1],E[0]]}var R=[];for(var S in E)if(E[S].value===0)R[S]=0;else if(E[S].unit==="%")R[S]=S==="0"||S==="2"?y.styleAttrs[l.byName.extent.qname].h*E[S].value/100:y.styleAttrs[l.byName.extent.qname].w*E[S].value/100;else if(E[S].unit==="em")R[S]=y.styleAttrs[l.byName.fontSize.qname]*E[S].value;else if(E[S].unit==="c")R[S]=E[S].value/_.cellResolution.h;else{if(E[S].unit!=="px")return null;R[S]=E[S].value/_.pxDimensions.h}return R}),new u(h.ns_tts,"showBackground","always",["region"],!1,!0,function(_){return _},null),new u(h.ns_tts,"textAlign","start",["p"],!0,!0,function(_){return _},function(_,p,y,I){return I==="left"?"start":I==="right"?"end":I}),new u(h.ns_tts,"textDecoration","none",["span"],!0,!0,function(_){return _.split(" ")},null),new u(h.ns_tts,"textOutline","none",["span"],!0,!0,function(_){if(_==="none")return _;var p={},y=_.split(" ");if(y.length===0||y.length>2)return null;var I=m.parseColor(y[0]);if(p.color=I,I!==null&&y.shift(),y.length!==1)return null;var E=m.parseLength(y[0]);return E?(p.thickness=E,p):null},function(_,p,y,I){if(I==="none")return I;var E={};if(I.color===null?E.color=y.styleAttrs[l.byName.color.qname]:E.color=I.color,I.thickness.unit==="%")E.thickness=y.styleAttrs[l.byName.fontSize.qname]*I.thickness.value/100;else if(I.thickness.unit==="em")E.thickness=y.styleAttrs[l.byName.fontSize.qname]*I.thickness.value;else if(I.thickness.unit==="c")E.thickness=I.thickness.value/_.cellResolution.h;else{if(I.thickness.unit!=="px")return null;E.thickness=I.thickness.value/_.pxDimensions.h}return E}),new u(h.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(_){return _},null),new u(h.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(_){return _},null),new u(h.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(_){return _},null),new u(h.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(_){return _},null),new u(h.ns_tts,"zIndex","auto",["region"],!1,!0,function(_){var p;return _==="auto"?p=_:(p=parseInt(_),isNaN(p)&&(p=null)),p},null),new u(h.ns_ebutts,"linePadding","0c",["p"],!0,!1,m.parseLength,function(_,p,y,I){return I.unit==="c"?I.value/_.cellResolution.h:null}),new u(h.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(_){return _},null),new u(h.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(_){return _},null),new u(h.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(_){return _==="true"},null)],l.byQName={};for(var v in l.all)l.byQName[l.all[v].qname]=l.all[v];l.byName={};for(var g in l.all)l.byName[l.all[g].name]=l.all[g]})(o===void 0?this.imscStyles={}:o,typeof imscNames=="undefined"?t(19):imscNames,typeof imscUtils=="undefined"?t(21):imscUtils)},{19:19,21:21}],21:[function(t,f,o){(function(l){var h=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,m=/rgb\((\d+),(\d+),(\d+)\)/,u=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,v={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};l.parseColor=function(_){var p,y=null;return _ in v?y=v[_]:(p=h.exec(_))!==null?y=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),p[4]!==void 0?parseInt(p[4],16):255]:(p=m.exec(_))!==null?y=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:(p=u.exec(_))!==null&&(y=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),y};var g=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;l.parseLength=function(_){var p,y=null;return(p=g.exec(_))!==null&&(y={value:parseFloat(p[1]),unit:p[2]}),y}})(o===void 0?this.imscUtils={}:o)},{}],22:[function(t,f,o){typeof Object.create=="function"?f.exports=function(l,h){l.super_=h,l.prototype=Object.create(h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:f.exports=function(l,h){l.super_=h;var m=function(){};m.prototype=h.prototype,l.prototype=new m,l.prototype.constructor=l}},{}],23:[function(t,f,o){function l(m){return!!m.constructor&&typeof m.constructor.isBuffer=="function"&&m.constructor.isBuffer(m)}function h(m){return typeof m.readFloatLE=="function"&&typeof m.slice=="function"&&l(m.slice(0,0))}f.exports=function(m){return m!=null&&(l(m)||h(m)||!!m._isBuffer)}},{}],24:[function(t,f,o){var l={}.toString;f.exports=Array.isArray||function(h){return l.call(h)=="[object Array]"}},{}],25:[function(t,f,o){(function(l){"use strict";function h(m,u,v,g){if(typeof m!="function")throw new TypeError('"callback" argument must be a function');var _,p,y=arguments.length;switch(y){case 0:case 1:return l.nextTick(m);case 2:return l.nextTick(function(){m.call(null,u)});case 3:return l.nextTick(function(){m.call(null,u,v)});case 4:return l.nextTick(function(){m.call(null,u,v,g)});default:for(_=new Array(y-1),p=0;p<_.length;)_[p++]=arguments[p];return l.nextTick(function(){m.apply(null,_)})}}!l.version||l.version.indexOf("v0.")===0||l.version.indexOf("v1.")===0&&l.version.indexOf("v1.8.")!==0?f.exports=h:f.exports=l.nextTick}).call(this,t(26))},{26:26}],26:[function(t,f,o){function l(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function m(B){if(y===setTimeout)return setTimeout(B,0);if((y===l||!y)&&setTimeout)return y=setTimeout,setTimeout(B,0);try{return y(B,0)}catch{try{return y.call(null,B,0)}catch{return y.call(this,B,0)}}}function u(B){if(I===clearTimeout)return clearTimeout(B);if((I===h||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(B);try{return I(B)}catch{try{return I.call(null,B)}catch{return I.call(this,B)}}}function v(){S&&D&&(S=!1,D.length?R=D.concat(R):L=-1,R.length&&g())}function g(){if(!S){var B=m(v);S=!0;for(var k=R.length;k;){for(D=R,R=[];++L<k;)D&&D[L].run();L=-1,k=R.length}D=null,S=!1,u(B)}}function _(B,k){this.fun=B,this.array=k}function p(){}var y,I,E=f.exports={};(function(){try{y=typeof setTimeout=="function"?setTimeout:l}catch{y=l}try{I=typeof clearTimeout=="function"?clearTimeout:h}catch{I=h}})();var D,R=[],S=!1,L=-1;E.nextTick=function(B){var k=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)k[b-1]=arguments[b];R.push(new _(B,k)),R.length!==1||S||m(g)},_.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=p,E.addListener=p,E.once=p,E.off=p,E.removeListener=p,E.removeAllListeners=p,E.emit=p,E.prependListener=p,E.prependOnceListener=p,E.listeners=function(B){return[]},E.binding=function(B){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(B){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],27:[function(t,f,o){f.exports=t(28)},{28:28}],28:[function(t,f,o){"use strict";function l(D){if(!(this instanceof l))return new l(D);_.call(this,D),p.call(this,D),D&&D.readable===!1&&(this.readable=!1),D&&D.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,D&&D.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||u(m,this)}function m(D){D.end()}var u=t(25),v=Object.keys||function(D){var R=[];for(var S in D)R.push(S);return R};f.exports=l;var g=t(11);g.inherits=t(22);var _=t(30),p=t(32);g.inherits(l,_);for(var y=v(p.prototype),I=0;I<y.length;I++){var E=y[I];l.prototype[E]||(l.prototype[E]=p.prototype[E])}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(D){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}),l.prototype._destroy=function(D,R){this.push(null),this.end(),u(R,D)}},{11:11,22:22,25:25,30:30,32:32}],29:[function(t,f,o){"use strict";function l(u){if(!(this instanceof l))return new l(u);h.call(this,u)}f.exports=l;var h=t(31),m=t(11);m.inherits=t(22),m.inherits(l,h),l.prototype._transform=function(u,v,g){g(null,u)}},{11:11,22:22,31:31}],30:[function(t,f,o){(function(l,h){"use strict";function m(x){return W.from(x)}function u(x){return W.isBuffer(x)||x instanceof ae}function v(x,q,P){if(typeof x.prependListener=="function")return x.prependListener(q,P);x._events&&x._events[q]?re(x._events[q])?x._events[q].unshift(P):x._events[q]=[P,x._events[q]]:x.on(q,P)}function g(x,q){fe=fe||t(28),x=x||{},this.objectMode=!!x.objectMode,q instanceof fe&&(this.objectMode=this.objectMode||!!x.readableObjectMode);var P=x.highWaterMark,N=this.objectMode?16:16384;this.highWaterMark=P||P===0?P:N,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ve,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=x.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,x.encoding&&(ue||(ue=t(44).StringDecoder),this.decoder=new ue(x.encoding),this.encoding=x.encoding)}function _(x){if(fe=fe||t(28),!(this instanceof _))return new _(x);this._readableState=new g(x,this),this.readable=!0,x&&(typeof x.read=="function"&&(this._read=x.read),typeof x.destroy=="function"&&(this._destroy=x.destroy)),_e.call(this)}function p(x,q,P,N,Q){var z=x._readableState;if(q===null)z.reading=!1,S(x,z);else{var oe;Q||(oe=I(z,q)),oe?x.emit("error",oe):z.objectMode||q&&q.length>0?(typeof q=="string"||z.objectMode||Object.getPrototypeOf(q)===W.prototype||(q=m(q)),N?z.endEmitted?x.emit("error",new Error("stream.unshift() after end event")):y(x,z,q,!0):z.ended?x.emit("error",new Error("stream.push() after EOF")):(z.reading=!1,z.decoder&&!P?(q=z.decoder.write(q),z.objectMode||q.length!==0?y(x,z,q,!1):k(x,z)):y(x,z,q,!1))):N||(z.reading=!1)}return E(z)}function y(x,q,P,N){q.flowing&&q.length===0&&!q.sync?(x.emit("data",P),x.read(0)):(q.length+=q.objectMode?1:P.length,N?q.buffer.unshift(P):q.buffer.push(P),q.needReadable&&L(x)),k(x,q)}function I(x,q){var P;return u(q)||typeof q=="string"||q===void 0||x.objectMode||(P=new TypeError("Invalid non-string/buffer chunk")),P}function E(x){return!x.ended&&(x.needReadable||x.length<x.highWaterMark||x.length===0)}function D(x){return x>=Ie?x=Ie:(x--,x|=x>>>1,x|=x>>>2,x|=x>>>4,x|=x>>>8,x|=x>>>16,x++),x}function R(x,q){return x<=0||q.length===0&&q.ended?0:q.objectMode?1:x!==x?q.flowing&&q.length?q.buffer.head.data.length:q.length:(x>q.highWaterMark&&(q.highWaterMark=D(x)),x<=q.length?x:q.ended?q.length:(q.needReadable=!0,0))}function S(x,q){if(!q.ended){if(q.decoder){var P=q.decoder.end();P&&P.length&&(q.buffer.push(P),q.length+=q.objectMode?1:P.length)}q.ended=!0,L(x)}}function L(x){var q=x._readableState;q.needReadable=!1,q.emittedReadable||(te("emitReadable",q.flowing),q.emittedReadable=!0,q.sync?de(B,x):B(x))}function B(x){te("emit readable"),x.emit("readable"),U(x)}function k(x,q){q.readingMore||(q.readingMore=!0,de(b,x,q))}function b(x,q){for(var P=q.length;!q.reading&&!q.flowing&&!q.ended&&q.length<q.highWaterMark&&(te("maybeReadMore read 0"),x.read(0),P!==q.length);)P=q.length;q.readingMore=!1}function A(x){return function(){var q=x._readableState;te("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&ge(x,"data")&&(q.flowing=!0,U(x))}}function G(x){te("readable nexttick read 0"),x.read(0)}function w(x,q){q.resumeScheduled||(q.resumeScheduled=!0,de(M,x,q))}function M(x,q){q.reading||(te("resume read 0"),x.read(0)),q.resumeScheduled=!1,q.awaitDrain=0,x.emit("resume"),U(x),q.flowing&&!q.reading&&x.read(0)}function U(x){var q=x._readableState;for(te("flow",q.flowing);q.flowing&&x.read()!==null;);}function j(x,q){if(q.length===0)return null;var P;return q.objectMode?P=q.buffer.shift():!x||x>=q.length?(P=q.decoder?q.buffer.join(""):q.buffer.length===1?q.buffer.head.data:q.buffer.concat(q.length),q.buffer.clear()):P=le(x,q.buffer,q.decoder),P}function le(x,q,P){var N;return x<q.head.data.length?(N=q.head.data.slice(0,x),q.head.data=q.head.data.slice(x)):N=x===q.head.data.length?q.shift():P?Z(x,q):ne(x,q),N}function Z(x,q){var P=q.head,N=1,Q=P.data;for(x-=Q.length;P=P.next;){var z=P.data,oe=x>z.length?z.length:x;if(oe===z.length?Q+=z:Q+=z.slice(0,x),(x-=oe)==0){oe===z.length?(++N,P.next?q.head=P.next:q.head=q.tail=null):(q.head=P,P.data=z.slice(oe));break}++N}return q.length-=N,Q}function ne(x,q){var P=W.allocUnsafe(x),N=q.head,Q=1;for(N.data.copy(P),x-=N.data.length;N=N.next;){var z=N.data,oe=x>z.length?z.length:x;if(z.copy(P,P.length-x,0,oe),(x-=oe)==0){oe===z.length?(++Q,N.next?q.head=N.next:q.head=q.tail=null):(q.head=N,N.data=z.slice(oe));break}++Q}return q.length-=Q,P}function X(x){var q=x._readableState;if(q.length>0)throw new Error('"endReadable()" called on non-empty stream');q.endEmitted||(q.ended=!0,de(pe,q,x))}function pe(x,q){x.endEmitted||x.length!==0||(x.endEmitted=!0,q.readable=!1,q.emit("end"))}function K(x,q){for(var P=0,N=x.length;P<N;P++)if(x[P]===q)return P;return-1}var de=t(25);f.exports=_;var fe,re=t(24);_.ReadableState=g;var ge=(t(12).EventEmitter,function(x,q){return x.listeners(q).length}),_e=t(35),W=t(41).Buffer,ae=h.Uint8Array||function(){},me=t(11);me.inherits=t(22);var Te=t(7),te=void 0;te=Te&&Te.debuglog?Te.debuglog("stream"):function(){};var ue,ve=t(33),ye=t(34);me.inherits(_,_e);var se=["error","close","destroy","pause","resume"];Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(x){this._readableState&&(this._readableState.destroyed=x)}}),_.prototype.destroy=ye.destroy,_.prototype._undestroy=ye.undestroy,_.prototype._destroy=function(x,q){this.push(null),q(x)},_.prototype.push=function(x,q){var P,N=this._readableState;return N.objectMode?P=!0:typeof x=="string"&&(q=q||N.defaultEncoding,q!==N.encoding&&(x=W.from(x,q),q=""),P=!0),p(this,x,q,!1,P)},_.prototype.unshift=function(x){return p(this,x,null,!0,!1)},_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(x){return ue||(ue=t(44).StringDecoder),this._readableState.decoder=new ue(x),this._readableState.encoding=x,this};var Ie=8388608;_.prototype.read=function(x){te("read",x),x=parseInt(x,10);var q=this._readableState,P=x;if(x!==0&&(q.emittedReadable=!1),x===0&&q.needReadable&&(q.length>=q.highWaterMark||q.ended))return te("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?X(this):L(this),null;if((x=R(x,q))===0&&q.ended)return q.length===0&&X(this),null;var N=q.needReadable;te("need readable",N),(q.length===0||q.length-x<q.highWaterMark)&&(N=!0,te("length less than watermark",N)),q.ended||q.reading?(N=!1,te("reading or ended",N)):N&&(te("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(x=R(P,q)));var Q;return Q=x>0?j(x,q):null,Q===null?(q.needReadable=!0,x=0):q.length-=x,q.length===0&&(q.ended||(q.needReadable=!0),P!==x&&q.ended&&X(this)),Q!==null&&this.emit("data",Q),Q},_.prototype._read=function(x){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(x,q){function P(Oe,Fe){te("onunpipe"),Oe===F&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Q())}function N(){te("onend"),x.end()}function Q(){te("cleanup"),x.removeListener("close",he),x.removeListener("finish",d),x.removeListener("drain",xe),x.removeListener("error",oe),x.removeListener("unpipe",P),F.removeListener("end",N),F.removeListener("end",C),F.removeListener("data",z),Se=!0,!H.awaitDrain||x._writableState&&!x._writableState.needDrain||xe()}function z(Oe){te("ondata"),Pe=!1,x.write(Oe)!==!1||Pe||((H.pipesCount===1&&H.pipes===x||H.pipesCount>1&&K(H.pipes,x)!==-1)&&!Se&&(te("false write response, pause",F._readableState.awaitDrain),F._readableState.awaitDrain++,Pe=!0),F.pause())}function oe(Oe){te("onerror",Oe),C(),x.removeListener("error",oe),ge(x,"error")===0&&x.emit("error",Oe)}function he(){x.removeListener("finish",d),C()}function d(){te("onfinish"),x.removeListener("close",he),C()}function C(){te("unpipe"),F.unpipe(x)}var F=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=x;break;case 1:H.pipes=[H.pipes,x];break;default:H.pipes.push(x)}H.pipesCount+=1,te("pipe count=%d opts=%j",H.pipesCount,q);var Y=(!q||q.end!==!1)&&x!==l.stdout&&x!==l.stderr,ce=Y?N:C;H.endEmitted?de(ce):F.once("end",ce),x.on("unpipe",P);var xe=A(F);x.on("drain",xe);var Se=!1,Pe=!1;return F.on("data",z),v(x,"error",oe),x.once("close",he),x.once("finish",d),x.emit("pipe",F),H.flowing||(te("pipe resume"),F.resume()),x},_.prototype.unpipe=function(x){var q=this._readableState,P={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return x&&x!==q.pipes?this:(x||(x=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,x&&x.emit("unpipe",this,P),this);if(!x){var N=q.pipes,Q=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var z=0;z<Q;z++)N[z].emit("unpipe",this,P);return this}var oe=K(q.pipes,x);return oe===-1?this:(q.pipes.splice(oe,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),x.emit("unpipe",this,P),this)},_.prototype.on=function(x,q){var P=_e.prototype.on.call(this,x,q);if(x==="data")this._readableState.flowing!==!1&&this.resume();else if(x==="readable"){var N=this._readableState;N.endEmitted||N.readableListening||(N.readableListening=N.needReadable=!0,N.emittedReadable=!1,N.reading?N.length&&L(this):de(G,this))}return P},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var x=this._readableState;return x.flowing||(te("resume"),x.flowing=!0,w(this,x)),this},_.prototype.pause=function(){return te("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(te("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(x){var q=this._readableState,P=!1,N=this;x.on("end",function(){if(te("wrapped end"),q.decoder&&!q.ended){var oe=q.decoder.end();oe&&oe.length&&N.push(oe)}N.push(null)}),x.on("data",function(oe){te("wrapped data"),q.decoder&&(oe=q.decoder.write(oe)),(!q.objectMode||oe!=null)&&(q.objectMode||oe&&oe.length)&&(N.push(oe)||(P=!0,x.pause()))});for(var Q in x)this[Q]===void 0&&typeof x[Q]=="function"&&(this[Q]=function(oe){return function(){return x[oe].apply(x,arguments)}}(Q));for(var z=0;z<se.length;z++)x.on(se[z],N.emit.bind(N,se[z]));return N._read=function(oe){te("wrapped _read",oe),P&&(P=!1,x.resume())},N},_._fromList=j}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,12:12,22:22,24:24,25:25,26:26,28:28,33:33,34:34,35:35,41:41,44:44,7:7}],31:[function(t,f,o){"use strict";function l(_){this.afterTransform=function(p,y){return h(_,p,y)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function h(_,p,y){var I=_._transformState;I.transforming=!1;var E=I.writecb;if(!E)return _.emit("error",new Error("write callback called multiple times"));I.writechunk=null,I.writecb=null,y!=null&&_.push(y),E(p);var D=_._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&_._read(D.highWaterMark)}function m(_){if(!(this instanceof m))return new m(_);v.call(this,_),this._transformState=new l(this);var p=this;this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(y,I){u(p,y,I)}):u(p)})}function u(_,p,y){if(p)return _.emit("error",p);y!=null&&_.push(y);var I=_._writableState,E=_._transformState;if(I.length)throw new Error("Calling transform done when ws.length != 0");if(E.transforming)throw new Error("Calling transform done when still transforming");return _.push(null)}f.exports=m;var v=t(28),g=t(11);g.inherits=t(22),g.inherits(m,v),m.prototype.push=function(_,p){return this._transformState.needTransform=!1,v.prototype.push.call(this,_,p)},m.prototype._transform=function(_,p,y){throw new Error("_transform() is not implemented")},m.prototype._write=function(_,p,y){var I=this._transformState;if(I.writecb=y,I.writechunk=_,I.writeencoding=p,!I.transforming){var E=this._readableState;(I.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},m.prototype._read=function(_){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},m.prototype._destroy=function(_,p){var y=this;v.prototype._destroy.call(this,_,function(I){p(I),y.emit("close")})}},{11:11,22:22,28:28}],32:[function(t,f,o){(function(l,h){"use strict";function m(W){var ae=this;this.next=null,this.entry=null,this.finish=function(){le(ae,W)}}function u(W){return fe.from(W)}function v(W){return fe.isBuffer(W)||W instanceof re}function g(){}function _(W,ae){ne=ne||t(28),W=W||{},this.objectMode=!!W.objectMode,ae instanceof ne&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var me=W.highWaterMark,Te=this.objectMode?16:16384;this.highWaterMark=me||me===0?me:Te,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=W.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){B(ae,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new m(this)}function p(W){if(ne=ne||t(28),!(_e.call(p,this)||this instanceof ne))return new p(W);this._writableState=new _(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),de.call(this)}function y(W,ae){var me=new Error("write after end");W.emit("error",me),Z(ae,me)}function I(W,ae,me,Te){var te=!0,ue=!1;return me===null?ue=new TypeError("May not write null values to stream"):typeof me=="string"||me===void 0||ae.objectMode||(ue=new TypeError("Invalid non-string/buffer chunk")),ue&&(W.emit("error",ue),Z(Te,ue),te=!1),te}function E(W,ae,me){return W.objectMode||W.decodeStrings===!1||typeof ae!="string"||(ae=fe.from(ae,me)),ae}function D(W,ae,me,Te,te,ue){if(!me){var ve=E(ae,Te,te);Te!==ve&&(me=!0,te="buffer",Te=ve)}var ye=ae.objectMode?1:Te.length;ae.length+=ye;var se=ae.length<ae.highWaterMark;if(se||(ae.needDrain=!0),ae.writing||ae.corked){var Ie=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:Te,encoding:te,isBuf:me,callback:ue,next:null},Ie?Ie.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else R(W,ae,!1,ye,Te,te,ue);return se}function R(W,ae,me,Te,te,ue,ve){ae.writelen=Te,ae.writecb=ve,ae.writing=!0,ae.sync=!0,me?W._writev(te,ae.onwrite):W._write(te,ue,ae.onwrite),ae.sync=!1}function S(W,ae,me,Te,te){--ae.pendingcb,me?(Z(te,Te),Z(U,W,ae),W._writableState.errorEmitted=!0,W.emit("error",Te)):(te(Te),W._writableState.errorEmitted=!0,W.emit("error",Te),U(W,ae))}function L(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function B(W,ae){var me=W._writableState,Te=me.sync,te=me.writecb;if(L(me),ae)S(W,me,Te,ae,te);else{var ue=G(me);ue||me.corked||me.bufferProcessing||!me.bufferedRequest||A(W,me),Te?X(k,W,me,ue,te):k(W,me,ue,te)}}function k(W,ae,me,Te){me||b(W,ae),ae.pendingcb--,Te(),U(W,ae)}function b(W,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,W.emit("drain"))}function A(W,ae){ae.bufferProcessing=!0;var me=ae.bufferedRequest;if(W._writev&&me&&me.next){var Te=ae.bufferedRequestCount,te=new Array(Te),ue=ae.corkedRequestsFree;ue.entry=me;for(var ve=0,ye=!0;me;)te[ve]=me,me.isBuf||(ye=!1),me=me.next,ve+=1;te.allBuffers=ye,R(W,ae,!0,ae.length,te,"",ue.finish),ae.pendingcb++,ae.lastBufferedRequest=null,ue.next?(ae.corkedRequestsFree=ue.next,ue.next=null):ae.corkedRequestsFree=new m(ae)}else{for(;me;){var se=me.chunk,Ie=me.encoding,x=me.callback;if(R(W,ae,!1,ae.objectMode?1:se.length,se,Ie,x),me=me.next,ae.writing)break}me===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequestCount=0,ae.bufferedRequest=me,ae.bufferProcessing=!1}function G(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function w(W,ae){W._final(function(me){ae.pendingcb--,me&&W.emit("error",me),ae.prefinished=!0,W.emit("prefinish"),U(W,ae)})}function M(W,ae){ae.prefinished||ae.finalCalled||(typeof W._final=="function"?(ae.pendingcb++,ae.finalCalled=!0,Z(w,W,ae)):(ae.prefinished=!0,W.emit("prefinish")))}function U(W,ae){var me=G(ae);return me&&(M(W,ae),ae.pendingcb===0&&(ae.finished=!0,W.emit("finish"))),me}function j(W,ae,me){ae.ending=!0,U(W,ae),me&&(ae.finished?Z(me):W.once("finish",me)),ae.ended=!0,W.writable=!1}function le(W,ae,me){var Te=W.entry;for(W.entry=null;Te;){var te=Te.callback;ae.pendingcb--,te(me),Te=Te.next}ae.corkedRequestsFree?ae.corkedRequestsFree.next=W:ae.corkedRequestsFree=W}var Z=t(25);f.exports=p;var ne,X=!l.browser&&["v0.10","v0.9."].indexOf(l.version.slice(0,5))>-1?setImmediate:Z;p.WritableState=_;var pe=t(11);pe.inherits=t(22);var K={deprecate:t(45)},de=t(35),fe=t(41).Buffer,re=h.Uint8Array||function(){},ge=t(34);pe.inherits(p,de),_.prototype.getBuffer=function(){for(var W=this.bufferedRequest,ae=[];W;)ae.push(W),W=W.next;return ae},function(){try{Object.defineProperty(_.prototype,"buffer",{get:K.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _e;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_e=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(W){return!!_e.call(this,W)||W&&W._writableState instanceof _}})):_e=function(W){return W instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(W,ae,me){var Te=this._writableState,te=!1,ue=v(W)&&!Te.objectMode;return ue&&!fe.isBuffer(W)&&(W=u(W)),typeof ae=="function"&&(me=ae,ae=null),ue?ae="buffer":ae||(ae=Te.defaultEncoding),typeof me!="function"&&(me=g),Te.ended?y(this,me):(ue||I(this,Te,W,me))&&(Te.pendingcb++,te=D(this,Te,ue,W,ae,me)),te},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.finished||W.bufferProcessing||!W.bufferedRequest||A(this,W))},p.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},p.prototype._write=function(W,ae,me){me(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(W,ae,me){var Te=this._writableState;typeof W=="function"?(me=W,W=null,ae=null):typeof ae=="function"&&(me=ae,ae=null),W!=null&&this.write(W,ae),Te.corked&&(Te.corked=1,this.uncork()),Te.ending||Te.finished||j(this,Te,me)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),p.prototype.destroy=ge.destroy,p.prototype._undestroy=ge.undestroy,p.prototype._destroy=function(W,ae){this.end(),ae(W)}}).call(this,t(26),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{11:11,22:22,25:25,26:26,28:28,34:34,35:35,41:41,45:45}],33:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}function h(u,v,g){u.copy(v,g)}var m=t(41).Buffer;f.exports=function(){function u(){l(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(v){var g={data:v,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length},u.prototype.unshift=function(v){var g={data:v,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length},u.prototype.shift=function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(v){if(this.length===0)return"";for(var g=this.head,_=""+g.data;g=g.next;)_+=v+g.data;return _},u.prototype.concat=function(v){if(this.length===0)return m.alloc(0);if(this.length===1)return this.head.data;for(var g=m.allocUnsafe(v>>>0),_=this.head,p=0;_;)h(_.data,g,p),p+=_.data.length,_=_.next;return g},u}()},{41:41}],34:[function(t,f,o){"use strict";function l(v,g){var _=this,p=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;if(p||y)return void(g?g(v):!v||this._writableState&&this._writableState.errorEmitted||u(m,this,v));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(I){!g&&I?(u(m,_,I),_._writableState&&(_._writableState.errorEmitted=!0)):g&&g(I)})}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function m(v,g){v.emit("error",g)}var u=t(25);f.exports={destroy:l,undestroy:h}},{25:25}],35:[function(t,f,o){f.exports=t(12).EventEmitter},{12:12}],36:[function(t,f,o){f.exports=t(37).PassThrough},{37:37}],37:[function(t,f,o){o=f.exports=t(30),o.Stream=o,o.Readable=o,o.Writable=t(32),o.Duplex=t(28),o.Transform=t(31),o.PassThrough=t(29)},{28:28,29:29,30:30,31:31,32:32}],38:[function(t,f,o){f.exports=t(37).Transform},{37:37}],39:[function(t,f,o){f.exports=t(32)},{32:32}],40:[function(t,f,o){var l=o.decimalAdjust=function(h,m,u){return u===void 0||+u==0?Math[h](m):(m=+m,u=+u,isNaN(m)||typeof u!="number"||u%1!=0?NaN:(m=m.toString().split("e"),m=Math[h](+(m[0]+"e"+(m[1]?+m[1]-u:-u))),m=m.toString().split("e"),+(m[0]+"e"+(m[1]?+m[1]+u:u))))};f.exports={round10:function(h,m){return l("round",h,m)},floor10:function(h,m){return l("floor",h,m)},ceil10:function(h,m){return l("ceil",h,m)}},f.exports.polyfill=function(){Math.round10||(Math.round10=f.exports.round10),Math.floor10||(Math.floor10=f.exports.floor10),Math.ceil10||(Math.ceil10=f.exports.ceil10)}},{}],41:[function(t,f,o){function l(v,g){for(var _ in v)g[_]=v[_]}function h(v,g,_){return u(v,g,_)}var m=t(9),u=m.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?f.exports=m:(l(m,o),o.Buffer=h),l(u,h),h.from=function(v,g,_){if(typeof v=="number")throw new TypeError("Argument must not be a number");return u(v,g,_)},h.alloc=function(v,g,_){if(typeof v!="number")throw new TypeError("Argument must be a number");var p=u(v);return g!==void 0?typeof _=="string"?p.fill(g,_):p.fill(g):p.fill(0),p},h.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return u(v)},h.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(v)}},{9:9}],42:[function(t,f,o){(function(l){(function(h){function m(P,N){if(!(this instanceof m))return new m(P,N);var Q=this;v(Q),Q.q=Q.c="",Q.bufferCheckPosition=h.MAX_BUFFER_LENGTH,Q.opt=N||{},Q.opt.lowercase=Q.opt.lowercase||Q.opt.lowercasetags,Q.looseCase=Q.opt.lowercase?"toLowerCase":"toUpperCase",Q.tags=[],Q.closed=Q.closedRoot=Q.sawRoot=!1,Q.tag=Q.error=null,Q.strict=!!P,Q.noscript=!(!P&&!Q.opt.noscript),Q.state=x.BEGIN,Q.strictEntities=Q.opt.strictEntities,Q.ENTITIES=Q.strictEntities?Object.create(h.XML_ENTITIES):Object.create(h.ENTITIES),Q.attribList=[],Q.opt.xmlns&&(Q.ns=Object.create(ue)),Q.trackPosition=Q.opt.position!==!1,Q.trackPosition&&(Q.position=Q.line=Q.column=0),R(Q,"onready")}function u(P){for(var N=Math.max(h.MAX_BUFFER_LENGTH,10),Q=0,z=0,oe=pe.length;z<oe;z++){var he=P[pe[z]].length;if(he>N)switch(pe[z]){case"textNode":L(P);break;case"cdata":S(P,"oncdata",P.cdata),P.cdata="";break;case"script":S(P,"onscript",P.script),P.script="";break;default:k(P,"Max buffer length exceeded: "+pe[z])}Q=Math.max(Q,he)}var d=h.MAX_BUFFER_LENGTH-Q;P.bufferCheckPosition=d+P.position}function v(P){for(var N=0,Q=pe.length;N<Q;N++)P[pe[N]]=""}function g(P){L(P),P.cdata!==""&&(S(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(S(P,"onscript",P.script),P.script="")}function _(P,N){return new p(P,N)}function p(P,N){if(!(this instanceof p))return new p(P,N);K.apply(this),this._parser=new m(P,N),this.writable=!0,this.readable=!0;var Q=this;this._parser.onend=function(){Q.emit("end")},this._parser.onerror=function(z){Q.emit("error",z),Q._parser.error=null},this._decoder=null,de.forEach(function(z){Object.defineProperty(Q,"on"+z,{get:function(){return Q._parser["on"+z]},set:function(oe){if(!oe)return Q.removeAllListeners(z),Q._parser["on"+z]=oe,oe;Q.on(z,oe)},enumerable:!0,configurable:!1})})}function y(P){return P.split("").reduce(function(N,Q){return N[Q]=!0,N},{})}function I(P){return Object.prototype.toString.call(P)==="[object RegExp]"}function E(P,N){return I(P)?!!N.match(P):P[N]}function D(P,N){return!E(P,N)}function R(P,N,Q){P[N]&&P[N](Q)}function S(P,N,Q){P.textNode&&L(P),R(P,N,Q)}function L(P){P.textNode=B(P.opt,P.textNode),P.textNode&&R(P,"ontext",P.textNode),P.textNode=""}function B(P,N){return P.trim&&(N=N.trim()),P.normalize&&(N=N.replace(/\s+/g," ")),N}function k(P,N){return L(P),P.trackPosition&&(N+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),N=new Error(N),P.error=N,R(P,"onerror",N),P}function b(P){return P.sawRoot&&!P.closedRoot&&A(P,"Unclosed root tag"),P.state!==x.BEGIN&&P.state!==x.BEGIN_WHITESPACE&&P.state!==x.TEXT&&k(P,"Unexpected end"),L(P),P.c="",P.closed=!0,R(P,"onend"),m.call(P,P.strict,P.opt),P}function A(P,N){if(typeof P!="object"||!(P instanceof m))throw new Error("bad call to strictFail");P.strict&&k(P,N)}function G(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var N=P.tags[P.tags.length-1]||P,Q=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(Q.ns=N.ns),P.attribList.length=0,S(P,"onopentagstart",Q)}function w(P,N){var Q=P.indexOf(":"),z=Q<0?["",P]:P.split(":"),oe=z[0],he=z[1];return N&&P==="xmlns"&&(oe="xmlns",he=""),{prefix:oe,local:he}}function M(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName))return void(P.attribName=P.attribValue="");if(P.opt.xmlns){var N=w(P.attribName,!0),Q=N.prefix,z=N.local;if(Q==="xmlns")if(z==="xml"&&P.attribValue!==Te)A(P,"xml: prefix must be bound to "+Te+`
Actual: `+P.attribValue);else if(z==="xmlns"&&P.attribValue!==te)A(P,"xmlns: prefix must be bound to "+te+`
Actual: `+P.attribValue);else{var oe=P.tag,he=P.tags[P.tags.length-1]||P;oe.ns===he.ns&&(oe.ns=Object.create(he.ns)),oe.ns[z]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,S(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function U(P,N){if(P.opt.xmlns){var Q=P.tag,z=w(P.tagName);Q.prefix=z.prefix,Q.local=z.local,Q.uri=Q.ns[z.prefix]||"",Q.prefix&&!Q.uri&&(A(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),Q.uri=z.prefix);var oe=P.tags[P.tags.length-1]||P;Q.ns&&oe.ns!==Q.ns&&Object.keys(Q.ns).forEach(function(Oe){S(P,"onopennamespace",{prefix:Oe,uri:Q.ns[Oe]})});for(var he=0,d=P.attribList.length;he<d;he++){var C=P.attribList[he],F=C[0],H=C[1],Y=w(F,!0),ce=Y.prefix,xe=Y.local,Se=ce===""?"":Q.ns[ce]||"",Pe={name:F,value:H,prefix:ce,local:xe,uri:Se};ce&&ce!=="xmlns"&&!Se&&(A(P,"Unbound namespace prefix: "+JSON.stringify(ce)),Pe.uri=ce),P.tag.attributes[F]=Pe,S(P,"onattribute",Pe)}P.attribList.length=0}P.tag.isSelfClosing=!!N,P.sawRoot=!0,P.tags.push(P.tag),S(P,"onopentag",P.tag),N||(P.noscript||P.tagName.toLowerCase()!=="script"?P.state=x.TEXT:P.state=x.SCRIPT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function j(P){if(!P.tagName)return A(P,"Weird empty close tag."),P.textNode+="</>",void(P.state=x.TEXT);if(P.script){if(P.tagName!=="script")return P.script+="</"+P.tagName+">",P.tagName="",void(P.state=x.SCRIPT);S(P,"onscript",P.script),P.script=""}var N=P.tags.length,Q=P.tagName;P.strict||(Q=Q[P.looseCase]());for(var z=Q;N--&&P.tags[N].name!==z;)A(P,"Unexpected close tag");if(N<0)return A(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",void(P.state=x.TEXT);P.tagName=Q;for(var oe=P.tags.length;oe-- >N;){var he=P.tag=P.tags.pop();P.tagName=P.tag.name,S(P,"onclosetag",P.tagName);var d={};for(var C in he.ns)d[C]=he.ns[C];var F=P.tags[P.tags.length-1]||P;P.opt.xmlns&&he.ns!==F.ns&&Object.keys(he.ns).forEach(function(H){var Y=he.ns[H];S(P,"onclosenamespace",{prefix:H,uri:Y})})}N===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=x.TEXT}function le(P){var N,Q=P.entity,z=Q.toLowerCase(),oe="";return P.ENTITIES[Q]?P.ENTITIES[Q]:P.ENTITIES[z]?P.ENTITIES[z]:(Q=z,Q.charAt(0)==="#"&&(Q.charAt(1)==="x"?(Q=Q.slice(2),N=parseInt(Q,16),oe=N.toString(16)):(Q=Q.slice(1),N=parseInt(Q,10),oe=N.toString(10))),Q=Q.replace(/^0+/,""),oe.toLowerCase()!==Q?(A(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(N))}function Z(P,N){N==="<"?(P.state=x.OPEN_WAKA,P.startTagPosition=P.position):D(fe,N)&&(A(P,"Non-whitespace before first tag."),P.textNode=N,P.state=x.TEXT)}function ne(P,N){var Q="";return N<P.length&&(Q=P.charAt(N)),Q}function X(P){var N=this;if(this.error)throw this.error;if(N.closed)return k(N,"Cannot write after close. Assign an onready handler.");if(P===null)return b(N);typeof P=="object"&&(P=P.toString());for(var Q=0,z="";z=ne(P,Q++),N.c=z,!!z;)switch(N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++),N.state){case x.BEGIN:if(N.state=x.BEGIN_WHITESPACE,z==="\uFEFF")continue;Z(N,z);continue;case x.BEGIN_WHITESPACE:Z(N,z);continue;case x.TEXT:if(N.sawRoot&&!N.closedRoot){for(var oe=Q-1;z&&z!=="<"&&z!=="&";)(z=ne(P,Q++))&&N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++);N.textNode+=P.substring(oe,Q-1)}z!=="<"||N.sawRoot&&N.closedRoot&&!N.strict?(!D(fe,z)||N.sawRoot&&!N.closedRoot||A(N,"Text data outside of root node."),z==="&"?N.state=x.TEXT_ENTITY:N.textNode+=z):(N.state=x.OPEN_WAKA,N.startTagPosition=N.position);continue;case x.SCRIPT:z==="<"?N.state=x.SCRIPT_ENDING:N.script+=z;continue;case x.SCRIPT_ENDING:z==="/"?N.state=x.CLOSE_TAG:(N.script+="<"+z,N.state=x.SCRIPT);continue;case x.OPEN_WAKA:if(z==="!")N.state=x.SGML_DECL,N.sgmlDecl="";else if(!E(fe,z))if(E(ve,z))N.state=x.OPEN_TAG,N.tagName=z;else if(z==="/")N.state=x.CLOSE_TAG,N.tagName="";else if(z==="?")N.state=x.PROC_INST,N.procInstName=N.procInstBody="";else{if(A(N,"Unencoded <"),N.startTagPosition+1<N.position){var he=N.position-N.startTagPosition;z=new Array(he).join(" ")+z}N.textNode+="<"+z,N.state=x.TEXT}continue;case x.SGML_DECL:(N.sgmlDecl+z).toUpperCase()===ae?(S(N,"onopencdata"),N.state=x.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+z==="--"?(N.state=x.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+z).toUpperCase()===me?(N.state=x.DOCTYPE,(N.doctype||N.sawRoot)&&A(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):z===">"?(S(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=x.TEXT):(E(_e,z)&&(N.state=x.SGML_DECL_QUOTED),N.sgmlDecl+=z);continue;case x.SGML_DECL_QUOTED:z===N.q&&(N.state=x.SGML_DECL,N.q=""),N.sgmlDecl+=z;continue;case x.DOCTYPE:z===">"?(N.state=x.TEXT,S(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=z,z==="["?N.state=x.DOCTYPE_DTD:E(_e,z)&&(N.state=x.DOCTYPE_QUOTED,N.q=z));continue;case x.DOCTYPE_QUOTED:N.doctype+=z,z===N.q&&(N.q="",N.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:N.doctype+=z,z==="]"?N.state=x.DOCTYPE:E(_e,z)&&(N.state=x.DOCTYPE_DTD_QUOTED,N.q=z);continue;case x.DOCTYPE_DTD_QUOTED:N.doctype+=z,z===N.q&&(N.state=x.DOCTYPE_DTD,N.q="");continue;case x.COMMENT:z==="-"?N.state=x.COMMENT_ENDING:N.comment+=z;continue;case x.COMMENT_ENDING:z==="-"?(N.state=x.COMMENT_ENDED,N.comment=B(N.opt,N.comment),N.comment&&S(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+z,N.state=x.COMMENT);continue;case x.COMMENT_ENDED:z!==">"?(A(N,"Malformed comment"),N.comment+="--"+z,N.state=x.COMMENT):N.state=x.TEXT;continue;case x.CDATA:z==="]"?N.state=x.CDATA_ENDING:N.cdata+=z;continue;case x.CDATA_ENDING:z==="]"?N.state=x.CDATA_ENDING_2:(N.cdata+="]"+z,N.state=x.CDATA);continue;case x.CDATA_ENDING_2:z===">"?(N.cdata&&S(N,"oncdata",N.cdata),S(N,"onclosecdata"),N.cdata="",N.state=x.TEXT):z==="]"?N.cdata+="]":(N.cdata+="]]"+z,N.state=x.CDATA);continue;case x.PROC_INST:z==="?"?N.state=x.PROC_INST_ENDING:E(fe,z)?N.state=x.PROC_INST_BODY:N.procInstName+=z;continue;case x.PROC_INST_BODY:if(!N.procInstBody&&E(fe,z))continue;z==="?"?N.state=x.PROC_INST_ENDING:N.procInstBody+=z;continue;case x.PROC_INST_ENDING:z===">"?(S(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=x.TEXT):(N.procInstBody+="?"+z,N.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:E(ye,z)?N.tagName+=z:(G(N),z===">"?U(N):z==="/"?N.state=x.OPEN_TAG_SLASH:(D(fe,z)&&A(N,"Invalid character in tag name"),N.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:z===">"?(U(N,!0),j(N)):(A(N,"Forward-slash in opening tag not followed by >"),N.state=x.ATTRIB);continue;case x.ATTRIB:if(E(fe,z))continue;z===">"?U(N):z==="/"?N.state=x.OPEN_TAG_SLASH:E(ve,z)?(N.attribName=z,N.attribValue="",N.state=x.ATTRIB_NAME):A(N,"Invalid attribute name");continue;case x.ATTRIB_NAME:z==="="?N.state=x.ATTRIB_VALUE:z===">"?(A(N,"Attribute without value"),N.attribValue=N.attribName,M(N),U(N)):E(fe,z)?N.state=x.ATTRIB_NAME_SAW_WHITE:E(ye,z)?N.attribName+=z:A(N,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if(z==="=")N.state=x.ATTRIB_VALUE;else{if(E(fe,z))continue;A(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",S(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",z===">"?U(N):E(ve,z)?(N.attribName=z,N.state=x.ATTRIB_NAME):(A(N,"Invalid attribute name"),N.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(E(fe,z))continue;E(_e,z)?(N.q=z,N.state=x.ATTRIB_VALUE_QUOTED):(A(N,"Unquoted attribute value"),N.state=x.ATTRIB_VALUE_UNQUOTED,N.attribValue=z);continue;case x.ATTRIB_VALUE_QUOTED:if(z!==N.q){z==="&"?N.state=x.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=z;continue}M(N),N.q="",N.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:E(fe,z)?N.state=x.ATTRIB:z===">"?U(N):z==="/"?N.state=x.OPEN_TAG_SLASH:E(ve,z)?(A(N,"No whitespace between attributes"),N.attribName=z,N.attribValue="",N.state=x.ATTRIB_NAME):A(N,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(D(W,z)){z==="&"?N.state=x.ATTRIB_VALUE_ENTITY_U:N.attribValue+=z;continue}M(N),z===">"?U(N):N.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(N.tagName)z===">"?j(N):E(ye,z)?N.tagName+=z:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=x.SCRIPT):(D(fe,z)&&A(N,"Invalid tagname in closing tag"),N.state=x.CLOSE_TAG_SAW_WHITE);else{if(E(fe,z))continue;D(ve,z)?N.script?(N.script+="</"+z,N.state=x.SCRIPT):A(N,"Invalid tagname in closing tag."):N.tagName=z}continue;case x.CLOSE_TAG_SAW_WHITE:if(E(fe,z))continue;z===">"?j(N):A(N,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var d,C;switch(N.state){case x.TEXT_ENTITY:d=x.TEXT,C="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:d=x.ATTRIB_VALUE_QUOTED,C="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:d=x.ATTRIB_VALUE_UNQUOTED,C="attribValue"}z===";"?(N[C]+=le(N),N.entity="",N.state=d):E(N.entity.length?Ie:se,z)?N.entity+=z:(A(N,"Invalid character in entity name"),N[C]+="&"+N.entity+z,N.entity="",N.state=d);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&u(N),N}h.parser=function(P,N){return new m(P,N)},h.SAXParser=m,h.SAXStream=p,h.createStream=_,h.MAX_BUFFER_LENGTH=65536;var pe=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];h.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(P){function N(){}return N.prototype=P,new N}),Object.keys||(Object.keys=function(P){var N=[];for(var Q in P)P.hasOwnProperty(Q)&&N.push(Q);return N}),m.prototype={end:function(){b(this)},write:X,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};var K;try{K=t(43).Stream}catch{K=function(){}}var de=h.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});p.prototype=Object.create(K.prototype,{constructor:{value:p}}),p.prototype.write=function(P){if(typeof l=="function"&&typeof l.isBuffer=="function"&&l.isBuffer(P)){if(!this._decoder){var N=t(8).StringDecoder;this._decoder=new N("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},p.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},p.prototype.on=function(P,N){var Q=this;return Q._parser["on"+P]||de.indexOf(P)===-1||(Q._parser["on"+P]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,P),Q.emit.apply(Q,z)}),K.prototype.on.call(Q,P,N)};var fe=`\r
	 `,re="0124356789",ge="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",_e=`'"`,W=fe+">",ae="[CDATA[",me="DOCTYPE",Te="http://www.w3.org/XML/1998/namespace",te="http://www.w3.org/2000/xmlns/",ue={xml:Te,xmlns:te};fe=y(fe),re=y(re),ge=y(ge);var ve=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ye=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,se=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ie=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;_e=y(_e),W=y(W);var x=0;h.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},h.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},h.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(h.ENTITIES).forEach(function(P){var N=h.ENTITIES[P],Q=typeof N=="number"?String.fromCharCode(N):N;h.ENTITIES[P]=Q});for(var q in h.STATE)h.STATE[h.STATE[q]]=q;x=h.STATE,String.fromCodePoint||function(){var P=String.fromCharCode,N=Math.floor,Q=function(){var z,oe,he=16384,d=[],C=-1,F=arguments.length;if(!F)return"";for(var H="";++C<F;){var Y=Number(arguments[C]);if(!isFinite(Y)||Y<0||Y>1114111||N(Y)!==Y)throw RangeError("Invalid code point: "+Y);Y<=65535?d.push(Y):(Y-=65536,z=55296+(Y>>10),oe=Y%1024+56320,d.push(z,oe)),(C+1===F||d.length>he)&&(H+=P.apply(null,d),d.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q}()})(o===void 0?this.sax={}:o)}).call(this,t(9).Buffer)},{43:43,8:8,9:9}],43:[function(t,f,o){function l(){h.call(this)}f.exports=l;var h=t(12).EventEmitter;t(22)(l,h),l.Readable=t(37),l.Writable=t(39),l.Duplex=t(27),l.Transform=t(38),l.PassThrough=t(36),l.Stream=l,l.prototype.pipe=function(m,u){function v(R){m.writable&&m.write(R)===!1&&E.pause&&E.pause()}function g(){E.readable&&E.resume&&E.resume()}function _(){D||(D=!0,m.end())}function p(){D||(D=!0,typeof m.destroy=="function"&&m.destroy())}function y(R){if(I(),h.listenerCount(this,"error")===0)throw R}function I(){E.removeListener("data",v),m.removeListener("drain",g),E.removeListener("end",_),E.removeListener("close",p),E.removeListener("error",y),m.removeListener("error",y),E.removeListener("end",I),E.removeListener("close",I),m.removeListener("close",I)}var E=this;E.on("data",v),m.on("drain",g),m._isStdio||u&&u.end===!1||(E.on("end",_),E.on("close",p));var D=!1;return E.on("error",y),m.on("error",y),E.on("end",I),E.on("close",I),m.on("close",I),m.emit("pipe",E),m}},{12:12,22:22,27:27,36:36,37:37,38:38,39:39}],44:[function(t,f,o){"use strict";function l(b){if(!b)return"utf8";for(var A;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(A)return;b=(""+b).toLowerCase(),A=!0}}function h(b){var A=l(b);if(typeof A!="string"&&(B.isEncoding===k||!k(b)))throw new Error("Unknown encoding: "+b);return A||b}function m(b){this.encoding=h(b);var A;switch(this.encoding){case"utf16le":this.text=I,this.end=E,A=4;break;case"utf8":this.fillLast=_,A=4;break;case"base64":this.text=D,this.end=R,A=3;break;default:return this.write=S,void(this.end=L)}this.lastNeed=0,this.lastTotal=0,this.lastChar=B.allocUnsafe(A)}function u(b){return b<=127?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:-1}function v(b,A,G){var w=A.length-1;if(w<G)return 0;var M=u(A[w]);return M>=0?(M>0&&(b.lastNeed=M-1),M):--w<G?0:(M=u(A[w]))>=0?(M>0&&(b.lastNeed=M-2),M):--w<G?0:(M=u(A[w]),M>=0?(M>0&&(M===2?M=0:b.lastNeed=M-3),M):0)}function g(b,A,G){if((192&A[0])!=128)return b.lastNeed=0,"\uFFFD".repeat(G);if(b.lastNeed>1&&A.length>1){if((192&A[1])!=128)return b.lastNeed=1,"\uFFFD".repeat(G+1);if(b.lastNeed>2&&A.length>2&&(192&A[2])!=128)return b.lastNeed=2,"\uFFFD".repeat(G+2)}}function _(b){var A=this.lastTotal-this.lastNeed,G=g(this,b,A);return G!==void 0?G:this.lastNeed<=b.length?(b.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,A,0,b.length),void(this.lastNeed-=b.length))}function p(b,A){var G=v(this,b,A);if(!this.lastNeed)return b.toString("utf8",A);this.lastTotal=G;var w=b.length-(G-this.lastNeed);return b.copy(this.lastChar,0,w),b.toString("utf8",A,w)}function y(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+"\uFFFD".repeat(this.lastTotal-this.lastNeed):A}function I(b,A){if((b.length-A)%2==0){var G=b.toString("utf16le",A);if(G){var w=G.charCodeAt(G.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],G.slice(0,-1)}return G}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",A,b.length-1)}function E(b){var A=b&&b.length?this.write(b):"";if(this.lastNeed){var G=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,G)}return A}function D(b,A){var G=(b.length-A)%3;return G===0?b.toString("base64",A):(this.lastNeed=3-G,this.lastTotal=3,G===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",A,b.length-G))}function R(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function S(b){return b.toString(this.encoding)}function L(b){return b&&b.length?this.write(b):""}var B=t(41).Buffer,k=B.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};o.StringDecoder=m,m.prototype.write=function(b){if(b.length===0)return"";var A,G;if(this.lastNeed){if((A=this.fillLast(b))===void 0)return"";G=this.lastNeed,this.lastNeed=0}else G=0;return G<b.length?A?A+this.text(b,G):this.text(b,G):A||""},m.prototype.end=y,m.prototype.text=p,m.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length}},{41:41}],45:[function(t,f,o){(function(l){function h(u,v){function g(){if(!_){if(m("throwDeprecation"))throw new Error(v);m("traceDeprecation")?console.trace(v):console.warn(v),_=!0}return u.apply(this,arguments)}if(m("noDeprecation"))return u;var _=!1;return g}function m(u){try{if(!l.localStorage)return!1}catch{return!1}var v=l.localStorage[u];return v!=null&&String(v).toLowerCase()==="true"}f.exports=h}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],46:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(){b=!0,A=!0,G=!1,w=new Date().getTime()}function I(M){A=M}function E(M){G=M}function D(M){b=M}function R(){return b}function S(){var M="",U=null;A&&(U=new Date().getTime(),M+="["+(U-w)+"]"),G&&this&&this.getClassName&&(M+="["+this.getClassName()+"]",this.getType&&(M+="["+this.getType()+"]")),M.length>0&&(M+=" "),Array.apply(null,arguments).forEach(function(j){M+=j+" "}),b&&console.log(M),B.trigger(g.default.LOG,{message:M})}var L=this.context,B=(0,u.default)(L).getInstance(),k=void 0,b=void 0,A=void 0,G=void 0,w=void 0;return k={log:S,setLogTimestampVisible:I,setCalleeNameVisible:E,setLogToBrowserConsole:D,getLogToBrowserConsole:R},y(),k}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_);h.__dashjs_factory_name="Debug",o.default=p.default.getSingletonFactory(h),f.exports=o.default},{47:47,48:48,51:51}],47:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(){function p(S,L,B){var k=arguments.length<=3||arguments[3]===void 0?v:arguments[3];if(!S)throw new Error("event type cannot be null or undefined");if(!L||typeof L!="function")throw new Error("listener must be a function: "+L);if(!(E(S,L,B)>=0)){R[S]=R[S]||[];var b={callback:L,scope:B,priority:k};R[S].some(function(A,G){if(A&&k>A.priority)return R[S].splice(G,0,b),!0})||R[S].push(b)}}function y(S,L,B){if(S&&L&&R[S]){var k=E(S,L,B);k<0||(R[S][k]=null)}}function I(S,L){if(S&&R[S]){if(L=L||{},L.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");L.type=S,R[S]=R[S].filter(function(B){return B}),R[S].forEach(function(B){return B&&B.callback.call(B.scope,L)})}}function E(S,L,B){var k=-1;return R[S]&&R[S].some(function(b,A){if(b&&b.callback===L&&(!B||B===b.scope))return k=A,!0}),k}function D(){R={}}var R={};return{on:p,off:y,trigger:I,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=0,g=5e3;h.__dashjs_factory_name="EventBus";var _=u.default.getSingletonFactory(h);_.EVENT_PRIORITY_LOW=v,_.EVENT_PRIORITY_HIGH=g,u.default.updateSingletonFactory(h.__dashjs_factory_name,_),o.default=_,f.exports=o.default},{48:48}],48:[function(t,f,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function h(w,M,U,j){var le=L(j);!le[w]&&M&&(le[w]={instance:M,override:U})}function m(w,M){for(var U in b){var j=b[U];if(j.context===w&&j.name===M)return j.instance}return null}function u(w,M,U){for(var j in b){var le=b[j];if(le.context===w&&le.name===M)return void(b[j].instance=U)}b.push({name:M,context:w,instance:U})}function v(w,M,U){for(var j in U)if(U[j].name===w)return void(U[j].factory=M);U.push({name:w,factory:M})}function g(w,M){for(var U in M)if(M[U].name===w)return M[U].factory;return null}function _(w,M,U){for(var j in U)if(U[j].name===w)return void(U[j].factory=M)}function p(w,M){_(w,M,G)}function y(w){return g(w,G)}function I(w){var M=g(w.__dashjs_factory_name,G);return M||(M=function(U){return U===void 0&&(U={}),{create:function(){return S(w.__dashjs_factory_name,w.apply({context:U},arguments),U,arguments)}}},v(w.__dashjs_factory_name,M,G)),M}function E(w,M){_(w,M,A)}function D(w){return g(w,A)}function R(w){var M=g(w.__dashjs_factory_name,A);return M||(M=function(U){var j=void 0;return U===void 0&&(U={}),{getInstance:function(){return j||(j=m(U,w.__dashjs_factory_name)),j||(j=S(w.__dashjs_factory_name,w.apply({context:U},arguments),U,arguments),b.push({name:w.__dashjs_factory_name,context:U,instance:j})),j}}},v(w.__dashjs_factory_name,M,A)),M}function S(w,M,U,j){M.getClassName=function(){return w};var le=L(U),Z=le[w];if(Z){var ne=Z.instance;if(!Z.override)return ne.apply({context:U,factory:B},j);ne=ne.apply({context:U,factory:B,parent:M},j);for(var X in ne)M.hasOwnProperty(X)&&(M[X]=ne[X])}return M}function L(w){var M=void 0;return k.forEach(function(U){U===w&&(M=U)}),M||(k.push(w),M=w),M}var B=void 0,k=[],b=[],A=[],G=[];return B={extend:h,getSingletonInstance:m,setSingletonInstance:u,getSingletonFactory:R,getSingletonFactoryByName:D,updateSingletonFactory:E,getClassFactory:I,getClassFactoryByName:y,updateClassFactory:p}}();o.default=l,f.exports=o.default},{}],49:[function(t,f,o){"use strict";function l(){return h}Object.defineProperty(o,"__esModule",{value:!0}),o.getVersionString=l;var h="2.6.7"},{}],50:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(p,y,I){for(var E=!0;E;){var D=p,R=y,S=I;E=!1,D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,R);if(L!==void 0){if("value"in L)return L.value;var B=L.get;return B===void 0?void 0:B.call(S)}var k=Object.getPrototypeOf(D);if(k===null)return;p=k,y=R,I=S,E=!0,L=k=void 0}},v=t(52),g=l(v),_=function(p){function y(){h(this,y),u(Object.getPrototypeOf(y.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return m(y,p),y}(g.default);o.default=_,f.exports=o.default},{52:52}],51:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(y,I){if(!(y instanceof I))throw new TypeError("Cannot call a class as a function")}function m(y,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);y.prototype=Object.create(I&&I.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(y,I):y.__proto__=I)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(y,I,E){for(var D=!0;D;){var R=y,S=I,L=E;D=!1,R===null&&(R=Function.prototype);var B=Object.getOwnPropertyDescriptor(R,S);if(B!==void 0){if("value"in B)return B.value;var k=B.get;return k===void 0?void 0:k.call(L)}var b=Object.getPrototypeOf(R);if(b===null)return;y=b,I=S,E=L,D=!0,B=b=void 0}},v=t(50),g=l(v),_=function(y){function I(){h(this,I),u(Object.getPrototypeOf(I.prototype),"constructor",this).apply(this,arguments)}return m(I,y),I}(g.default),p=new _;o.default=p,f.exports=o.default},{50:50}],52:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function u(v,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,g,_){return g&&u(v.prototype,g),_&&u(v,_),v}}(),m=function(){function u(){l(this,u)}return h(u,[{key:"extend",value:function(v,g){if(v){var _=!!g&&g.override,p=!!g&&g.publicOnly;for(var y in v)!v.hasOwnProperty(y)||this[y]&&!_||p&&v[y].indexOf("public_")===-1||(this[y]=v[y])}}}]),u}();o.default=m,f.exports=o.default},{}],53:[function(t,f,o){"use strict";function l(A){return A&&A.__esModule?A:{default:A}}function h(){function A(){N()}function G(d){d&&d.dashManifestModel&&(z=d.dashManifestModel)}function w(d,C){return C&&d?C.getRepresentationForQuality(d.quality):null}function M(d){return d&&d.streamInfo&&d.streamInfo.id!==void 0&&he[d.streamInfo.id]?he[d.streamInfo.id][d.index]:null}function U(d,C){for(var F=C.length,H=0;H<F;H++){var Y=C[H];if(d.id===Y.id)return Y}return null}function j(d){var C=new g.default,F=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index],H=z.getRepresentationFor(d.index,F);return C.id=d.id,C.quality=d.index,C.bandwidth=z.getBandwidth(H),C.DVRWindow=d.segmentAvailabilityRange,C.fragmentDuration=d.segmentDuration||(d.segments&&d.segments.length>0?d.segments[0].duration:NaN),C.MSETimeOffset=d.MSETimeOffset,C.useCalculatedLiveEdgeTime=d.useCalculatedLiveEdgeTime,C.mediaInfo=le(d.adaptation),C}function le(d){var C=new p.default,F=d.period.mpd.manifest.Period_asArray[d.period.index].AdaptationSet_asArray[d.index],H=void 0;return C.id=d.id,C.index=d.index,C.type=d.type,C.streamInfo=X(d.period),C.representationCount=z.getRepresentationCount(F),C.lang=z.getLanguageForAdaptation(F),H=z.getViewpointForAdaptation(F),C.viewpoint=H?H.value:void 0,C.accessibility=z.getAccessibilityForAdaptation(F).map(function(Y){var ce=Y.value,xe=ce;return Y.schemeIdUri&&Y.schemeIdUri.search("cea-608")>=0&&b.default!==void 0&&(xe=ce?"cea-608:"+ce:"cea-608",C.embeddedCaptions=!0),xe}),C.audioChannelConfiguration=z.getAudioChannelConfigurationForAdaptation(F).map(function(Y){return Y.value}),C.roles=z.getRolesForAdaptation(F).map(function(Y){return Y.value}),C.codec=z.getCodec(F),C.mimeType=z.getMimeType(F),C.contentProtection=z.getContentProtectionData(F),C.bitrateList=z.getBitrateListForAdaptation(F),C.contentProtection&&C.contentProtection.forEach(function(Y){Y.KID=z.getKID(Y)}),C.isText=z.getIsTextTrack(C.mimeType),C}function Z(d,C,F){d.id=C,d.index=100+parseInt(C.substring(2,3)),d.type=u.default.EMBEDDED_TEXT,d.codec="cea-608-in-SEI",d.isText=!0,d.isEmbedded=!0,d.lang=C+" "+F,d.roles=["caption"]}function ne(d){d.type=u.default.IMAGE}function X(d){var C=new I.default;return C.id=d.id,C.index=d.index,C.start=d.start,C.duration=d.duration,C.manifestInfo=pe(d.mpd),C.isLast=d.mpd.manifest.Period_asArray.length===1||Math.abs(C.start+C.duration-C.manifestInfo.duration)<1,C}function pe(d){var C=new D.default;return C.DVRWindowSize=d.timeShiftBufferDepth,C.loadedTime=d.manifest.loadedTime,C.availableFrom=d.availabilityStartTime,C.minBufferTime=d.manifest.minBufferTime,C.maxFragmentDuration=d.maxSegmentDuration,C.duration=z.getDuration(d.manifest),C.isDynamic=z.getIsDynamic(d.manifest),C}function K(d,C){if(oe.length===0)return null;var F=oe[0].mpd.manifest,H=z.getAdaptationForType(F,d.index,C,d);if(!H)return null;var Y=U(d,oe),ce=Y.id,xe=z.getIndexForAdaptation(H,F,d.index);return he[ce]=he[ce]||z.getAdaptationsForPeriod(Y),le(he[ce][xe])}function de(d,C,F){var H=oe,Y=F,ce=[],xe=void 0,Se=void 0,Pe=void 0,Oe=void 0,Fe=void 0,Ke=void 0;if(Y){fe();var rt=z.getMpd(Y);H=z.getRegularPeriods(rt)}else{if(!(oe.length>0))return ce;Y=oe[0].mpd.manifest}var ke=U(d,H),Xe=ke.id,Qe=z.getAdaptationsForType(Y,d.index,C!==u.default.EMBEDDED_TEXT?C:u.default.VIDEO);if(!Qe)return ce;for(he[Xe]=he[Xe]||z.getAdaptationsForPeriod(ke),Oe=0,Ke=Qe.length;Oe<Ke;Oe++)if(xe=Qe[Oe],Pe=z.getIndexForAdaptation(xe,Y,d.index),Se=le(he[Xe][Pe]),C===u.default.EMBEDDED_TEXT){var ze=Se.accessibility.length;for(Fe=0;Fe<ze;Fe++)if(Se){var pt=Se.accessibility[Fe];if(pt.indexOf("cea-608:")===0){var mt=pt.substring(8),Ze=mt.split(";");if(Ze[0].substring(0,2)==="CC")for(Fe=0;Fe<Ze.length;Fe++)Se||(Se=le.call(this,he[Xe][Pe])),Z(Se,Ze[Fe].substring(0,3),Ze[Fe].substring(4)),ce.push(Se),Se=null;else for(Fe=0;Fe<Ze.length;Fe++)Se||(Se=le.call(this,he[Xe][Pe])),Z(Se,"CC"+(Fe+1),Ze[Fe]),ce.push(Se),Se=null}else pt.indexOf("cea-608")===0&&(Z(Se,u.default.CC1,"eng"),ce.push(Se),Se=null)}}else C===u.default.IMAGE?(ne(Se),ce.push(Se),Se=null):Se&&ce.push(Se);return ce}function fe(){if(!z||!z.hasOwnProperty("getMpd")||!z.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function re(d){if(!d)return null;fe();var C=z.getMpd(d);oe=z.getRegularPeriods(C),he={}}function ge(d){var C=[],F=oe;if(d){fe();var H=z.getMpd(d);F=z.getRegularPeriods(H)}for(var Y=0;Y<F.length;Y++)C.push(X(F[Y]));return C}function _e(d){if(!(d&&d.hasOwnProperty("getRepresentationController")&&d.hasOwnProperty("getIndexHandler")&&d.hasOwnProperty("getMediaInfo")&&d.hasOwnProperty("getType")&&d.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function W(d){if(!d||!d.hasOwnProperty("getRepresentationForQuality")||!d.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function ae(d){if(d===null||isNaN(d)||d%1!=0)throw new Error("quality argument is not an integer")}function me(d,C){var F=void 0,H=void 0,Y=void 0;return _e(d),ae(C),F=d.getRepresentationController(),Y=d.getIndexHandler(),H=F?F.getRepresentationForQuality(C):null,Y?Y.getInitRequest(H):null}function Te(d,C){var F=void 0,H=void 0,Y=void 0;return _e(d),F=d.getRepresentationController(),H=w(C,F),Y=d.getIndexHandler(),Y?Y.getNextSegmentRequest(H):null}function te(d,C,F,H){var Y=void 0,ce=void 0,xe=void 0;return _e(d),Y=d.getRepresentationController(),ce=w(C,Y),xe=d.getIndexHandler(),xe?xe.getSegmentRequestForTime(ce,F,H):null}function ue(d,C,F){var H=void 0,Y=void 0,ce=void 0;return _e(d),H=d.getRepresentationController(),Y=w(C,H),ce=d.getIndexHandler(),ce?ce.generateSegmentRequestForTime(Y,F):null}function ve(d){_e(d);var C=d.getIndexHandler();return C?C.getCurrentTime():NaN}function ye(d,C){_e(d);var F=d.getIndexHandler();F&&F.setCurrentTime(C)}function se(d){_e(d);var C=U(d.getStreamInfo(),oe),F=d.getMediaInfo(),H=M(F),Y=d.getType(),ce=void 0,xe=void 0;ce=F?F.id:null,oe.length>0&&(xe=ce?z.getAdaptationForId(ce,oe[0].mpd.manifest,C.index):z.getAdaptationForIndex(F.index,oe[0].mpd.manifest,C.index),d.getRepresentationController().updateData(xe,H,Y))}function Ie(d,C){W(d),ae(C);var F=d.getRepresentationForQuality(C);return F?j(F):null}function x(d){W(d);var C=d.getCurrentRepresentation();return C?j(C):null}function q(d,C,F){if(!d||!C)return null;var H=new S.default,Y=d.scheme_id_uri,ce=d.value,xe=d.timescale,Se=d.presentation_time_delta,Pe=d.event_duration,Oe=d.id,Fe=d.message_data,Ke=F*xe+Se;return C[Y]?(H.eventStream=C[Y],H.eventStream.value=ce,H.eventStream.timescale=xe,H.duration=Pe,H.id=Oe,H.presentationTime=Ke,H.messageData=Fe,H.presentationTimeDelta=Se,H):null}function P(d,C){var F=[];if(oe.length===0)return F;var H=oe[0].mpd.manifest;return d instanceof I.default?F=z.getEventsForPeriod(U(d,oe)):d instanceof p.default?F=z.getEventStreamForAdaptationSet(H,M(d)):d instanceof g.default&&(F=z.getEventStreamForRepresentation(H,w(d,C.getRepresentationController()))),F}function N(){oe=[],he={}}var Q=void 0,z=void 0,oe=void 0,he=void 0;return Q={convertDataToRepresentationInfo:j,getDataForMedia:M,getStreamsInfo:ge,getMediaInfoForType:K,getAllMediaInfoForType:de,getCurrentRepresentationInfo:x,getRepresentationInfoForQuality:Ie,updateData:se,getInitRequest:me,getNextFragmentRequest:Te,getFragmentRequestForTime:te,generateFragmentRequestForTime:ue,getIndexHandlerTime:ve,setIndexHandlerTime:ye,getEventsFor:P,getEvent:q,setConfig:G,updatePeriods:re,reset:N},A(),Q}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(168),g=l(v),_=t(166),p=l(_),y=t(169),I=l(y),E=t(165),D=l(E),R=t(80),S=l(R),L=t(48),B=l(L),k=t(2),b=l(k);h.__dashjs_factory_name="DashAdapter",o.default=B.default.getSingletonFactory(h),f.exports=o.default},{165:165,166:166,168:168,169:169,2:2,48:48,80:80,98:98}],54:[function(t,f,o){"use strict";function l(re){return re&&re.__esModule?re:{default:re}}function h(re){function ge(){Qe=(0,A.default)(Y).getInstance().log.bind(Xe),ue(),Se=_e(re.mimeType)?(0,K.default)(Y).getInstance():(0,X.default)(Y).getInstance(),Se.setConfig({baseURLController:ke,metricsModel:Fe,mediaPlayerModel:Ke,errHandler:rt}),ce.on(R.default.INITIALIZATION_LOADED,F,Xe),ce.on(R.default.SEGMENTS_LOADED,H,Xe)}function _e(Le){return Le.split("/")[1].toLowerCase()==="webm"}function W(Le){$e=Le;var He=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;Se.initialize(),Ge=(0,Z.default)(Y).create(re,He)}function ae(){return $e}function me(Le){mt=Le}function Te(){return mt}function te(){return Ze}function ue(){ze=-1,mt=0,Ze=NaN,pt=null,$e=null,Ge=null}function ve(){ue(),ce.off(R.default.INITIALIZATION_LOADED,F,Xe),ce.off(R.default.SEGMENTS_LOADED,H,Xe)}function ye(Le,He,at){var et=ke.resolve(at.path),qe=void 0,Ye=void 0;return et&&He!==et.url&&xe.isRelative(He)?(qe=et.url,Ye=et.serviceLocation,He&&(qe=xe.resolve(He,qe))):qe=He,!xe.isRelative(qe)&&(Le.url=qe,Le.serviceLocation=Ye,!0)}function se(Le,He){var at=new p.default,et=Le.adaptation.period,qe=et.start,Ye=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;if(at.mediaType=He,at.type=E.HTTPRequest.INIT_SEGMENT_TYPE,at.range=Le.range,at.availabilityStartTime=Pe.calcAvailabilityStartTimeFromPresentationTime(qe,et.mpd,Ye),at.availabilityEndTime=Pe.calcAvailabilityEndTimeFromPresentationTime(qe+et.duration,et.mpd,Ye),at.quality=Le.index,at.mediaInfo=$e?$e.getMediaInfo():null,at.representationId=Le.id,ye(at,Le.initialization,Le))return at}function Ie(Le){var He=$e?$e.getType():null;return Le?se(Le,He):null}function x(Le){var He=!1,at=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;if(at||ze!==Le.availableSegmentsNumber){var et=(0,j.getSegmentByIndex)(ze,Le);if(et){var qe=parseFloat((et.presentationStartTime-Le.adaptation.period.start).toFixed(5)),Ye=Le.adaptation.period.duration;Qe(Le.segmentInfoType+": "+qe+" / "+Ye),He=(Le.segmentInfoType!==g.default.SEGMENT_TIMELINE||!at)&&qe>=Ye}else Qe("isMediaFinished - no segment found")}else He=!0;return He}function q(Le){Ge.getSegments(Le,pt,ze,P)}function P(Le,He){var at=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;if(Le.segments=He,He&&He.length>0&&(Ze=isNaN(Ze)?He[0].presentationStartTime:Math.min(He[0].presentationStartTime,Ze),at&&isNaN(Pe.getExpectedLiveEdge()))){var et=He[He.length-1],qe=et.presentationStartTime,Ye=Fe.getMetricsFor(u.default.STREAM);Pe.setExpectedLiveEdge(qe),Fe.updateManifestUpdateInfo(Oe.getCurrentManifestUpdate(Ye),{presentationStartTime:qe})}}function N(Le){if(!Le)throw new Error("no representation");Le.segments=null,q(Le)}function Q(Le,He){var at=U.default.hasInitialization(Le),et=U.default.hasSegments(Le),qe=$e?$e.getType():null,Ye=$e?$e.getStreamInfo().manifestInfo.isDynamic:null,it=void 0;if(Le.segmentDuration||Le.segments||N(Le),Le.segmentAvailabilityRange=null,Le.segmentAvailabilityRange=Pe.calcSegmentAvailabilityRange(Le,Ye),Le.segmentAvailabilityRange.end<Le.segmentAvailabilityRange.start&&!Le.useCalculatedLiveEdgeTime)return it=new I.default(de,"no segments are available yet",{availabilityDelay:Le.segmentAvailabilityRange.start-Le.segmentAvailabilityRange.end}),void ce.trigger(R.default.REPRESENTATION_UPDATED,{sender:this,representation:Le,error:it});He||(ze=-1),Le.segmentDuration&&N(Le),at||Se.loadInitialization(Le),et||Se.loadSegments(Le,qe,Le.indexRange),at&&et&&ce.trigger(R.default.REPRESENTATION_UPDATED,{sender:this,representation:Le})}function z(Le,He,at){var et=He.segments,qe=et?et.length:null,Ye=-1,it=void 0,ct=void 0,lt=void 0,J=void 0,De=void 0;if(et&&qe>0){for(at=at??Ke.getSegmentOverlapToleranceTime(),De=0;De<qe;De++)if(ct=et[De],lt=ct.presentationStartTime,J=ct.duration,it=at??J/2,Le+it>=lt&&Le-it<lt+J){Ye=ct.availabilityIdx;break}}return Ye}function oe(Le){if(Le==null)return null;var He=new p.default,at=Le.representation,et=at.adaptation.period.mpd.manifest.Period_asArray[at.adaptation.period.index].AdaptationSet_asArray[at.adaptation.index].Representation_asArray[at.index].bandwidth,qe=Le.media,Ye=$e?$e.getType():null;return qe=(0,j.replaceTokenForTemplate)(qe,"Number",Le.replacementNumber),qe=(0,j.replaceTokenForTemplate)(qe,"Time",Le.replacementTime),qe=(0,j.replaceTokenForTemplate)(qe,"Bandwidth",et),qe=(0,j.replaceIDForTemplate)(qe,at.id),qe=(0,j.unescapeDollarsInTemplate)(qe),He.mediaType=Ye,He.type=E.HTTPRequest.MEDIA_SEGMENT_TYPE,He.range=Le.mediaRange,He.startTime=Le.presentationStartTime,He.duration=Le.duration,He.timescale=at.timescale,He.availabilityStartTime=Le.availabilityStartTime,He.availabilityEndTime=Le.availabilityEndTime,He.wallStartTime=Le.wallStartTime,He.quality=at.index,He.index=Le.availabilityIdx,He.mediaInfo=$e.getMediaInfo(),He.adaptationIndex=at.adaptation.index,He.representationId=at.id,ye(He,qe,at)?He:void 0}function he(Le,He,at){var et=void 0,qe=void 0,Ye=void 0,it=$e?$e.getType():null,ct=$e?$e.getStreamInfo().manifestInfo.isDynamic:null,lt=ze,J=!!at&&at.keepIdx,De=at?at.timeThreshold:null,e=!(!at||!at.ignoreIsFinished);return Le?(pt!==He&&(pt=He,Qe("Getting the request for "+it+" time : "+He)),q(Le),ze=z(He,Le,De),ze<0&&(q(Le),ze=z(He,Le,De)),ze>0&&Qe("Index for "+it+" time "+He+" is "+ze),Ye=!e&&x(Le),Ye?(et=new p.default,et.action=p.default.ACTION_COMPLETE,et.index=ze,et.mediaType=it,et.mediaInfo=$e.getMediaInfo(),Qe("Signal complete in getSegmentRequestForTime -",it)):(qe=(0,j.getSegmentByIndex)(ze,Le),et=oe(qe)),J&&lt>=0&&(ze=Le.segmentInfoType===g.default.SEGMENT_TIMELINE&&ct?ze:lt),et):null}function d(Le,He){var at=(Le.segmentAvailabilityRange.end-Le.segmentAvailabilityRange.start)/2;return Le.segments=null,Le.segmentAvailabilityRange={start:He-at,end:He+at},he(Le,He,{keepIdx:!1,ignoreIsFinished:!0})}function C(Le){var He=void 0,at=void 0,et=void 0,qe=$e?$e.getType():null,Ye=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;return Le&&ze!==-1?(pt=null,ze++,Qe("Getting the next request at index: "+ze+", type: "+qe),!(0,j.getSegmentByIndex)(ze,Le)&&Ye?(Qe("No segment found at index: "+ze+". Wait for next loop"),q(Le),ze--,null):(et=x(Le),et?(He=new p.default,He.action=p.default.ACTION_COMPLETE,He.index=ze,He.mediaType=qe,He.mediaInfo=$e.getMediaInfo(),Qe("Signal complete -",qe)):(q(Le),at=(0,j.getSegmentByIndex)(ze,Le),He=oe(at),!at&&Ye&&ze--),He)):null}function F(Le){var He=Le.representation;He.segments&&ce.trigger(R.default.REPRESENTATION_UPDATED,{sender:this,representation:He})}function H(Le){var He=$e?$e.getType():null,at=$e?$e.getStreamInfo().manifestInfo.isDynamic:null;if(!Le.error&&He===Le.mediaType){var et=Le.segments,qe=Le.representation,Ye=[],it=0,ct=void 0,lt=void 0,J=void 0,De=void 0;for(ct=0,lt=et.length;ct<lt;ct++)J=et[ct],De=(0,j.getTimeBasedSegment)(Pe,at,qe,J.startTime,J.duration,J.timescale,J.media,J.mediaRange,it),Ye.push(De),De=null,it++;qe.segmentAvailabilityRange={start:Ye[0].presentationStartTime,end:Ye[lt-1].presentationStartTime},qe.availableSegmentsNumber=lt,P(qe,Ye),U.default.hasInitialization(qe)&&ce.trigger(R.default.REPRESENTATION_UPDATED,{sender:this,representation:qe})}}re=re||{};var Y=this.context,ce=(0,L.default)(Y).getInstance(),xe=(0,w.default)(Y).getInstance(),Se=void 0,Pe=re.timelineConverter,Oe=re.dashMetrics,Fe=re.metricsModel,Ke=re.mediaPlayerModel,rt=re.errHandler,ke=re.baseURLController,Xe=void 0,Qe=void 0,ze=void 0,pt=void 0,mt=void 0,Ze=void 0,$e=void 0,Ge=void 0;return Xe={initialize:W,getStreamProcessor:ae,getInitRequest:Ie,getSegmentRequestForTime:he,getNextSegmentRequest:C,generateSegmentRequestForTime:d,updateRepresentation:Q,updateSegmentList:N,setCurrentTime:me,getCurrentTime:Te,getEarliestTime:te,reset:ve},ge(),Xe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(58),g=l(v),_=t(162),p=l(_),y=t(160),I=l(y),E=t(179),D=t(51),R=l(D),S=t(47),L=l(S),B=t(48),k=l(B),b=t(46),A=l(b),G=t(155),w=l(G),M=t(84),U=l(M),j=t(74),le=t(73),Z=l(le),ne=t(56),X=l(ne),pe=t(57),K=l(pe),de=1;h.__dashjs_factory_name="DashHandler";var fe=k.default.getClassFactory(h);fe.SEGMENTS_UNAVAILABLE_ERROR_CODE=de,k.default.updateClassFactory(h.__dashjs_factory_name,fe),o.default=fe,f.exports=o.default},{155:155,160:160,162:162,179:179,46:46,47:47,48:48,51:51,56:56,57:57,58:58,73:73,74:74,84:84,98:98}],55:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(y){function I(re,ge){var _e=void 0;return _e=X(fe.getValue().Period_asArray[ge],re),_e===null?null:_e.bandwidth}function E(re,ge){return ne(fe.getValue().Period_asArray[ge],re)}function D(re,ge){return K(fe.getValue().Period_asArray[ge],re)}function R(re){return A(re,_.default.TRACK_SWITCH)}function S(re){return A(re,_.default.BUFFER_LEVEL)}function L(re){var ge=S(re);return ge?(0,p.round10)(ge.level/1e3,-3):0}function B(re){return re?re.RequestsQueue:null}function k(re){if(!re)return null;var ge=re.HttpList,_e=null,W=void 0,ae=void 0;if(!ge||ge.length<=0)return null;for(W=ge.length,ae=W-1;ae>=0;){if(ge[ae].responsecode){_e=ge[ae];break}ae--}return _e}function b(re){return re&&re.HttpList?re.HttpList:[]}function A(re,ge){if(!re)return null;var _e=re[ge];if(!_e)return null;var W=_e.length;return W<=0?null:_e[W-1]}function G(re){return A(re,_.default.DROPPED_FRAMES)}function w(re){return A(re,_.default.SCHEDULING_INFO)}function M(re){return A(re,_.default.MANIFEST_UPDATE)}function U(re){return A(re,_.default.DVR_INFO)}function j(re,ge){var _e={},W=void 0,ae=void 0,me=void 0;for(W=b(re),me=W.length-1;me>=0;me--)if(ae=W[me],ae.type===m.HTTPRequest.MPD_TYPE){_e=Z(ae._responseHeaders);break}return _e[ge]===void 0?null:_e[ge]}function le(re,ge){var _e={},W=k(re);return W&&(_e=Z(W._responseHeaders)),_e[ge]===void 0?null:_e[ge]}function Z(re){var ge={};if(!re)return ge;for(var _e=re.trim().split(`\r
`),W=0,ae=_e.length;W<ae;W++){var me=_e[W],Te=me.indexOf(": ");Te>0&&(ge[me.substring(0,Te)]=me.substring(Te+2))}return ge}function ne(re,ge){var _e=X(re,ge,!0);return _e!==null?_e:-1}function X(re,ge,_e){var W=void 0,ae=void 0,me=void 0,Te=void 0,te=void 0,ue=void 0;if(re){for(ae=re.AdaptationSet_asArray,te=0;te<ae.length;te+=1)for(W=ae[te],Te=W.Representation_asArray,ue=0;ue<Te.length;ue+=1)if(me=Te[ue],ge===me.id)return _e?ue:me}return null}function pe(re,ge){return de.getIsTypeOf(re,ge)}function K(re,ge){var _e=void 0,W=void 0,ae=void 0,me=void 0;if(!re||!ge)return-1;for(W=re.AdaptationSet_asArray,me=0;me<W.length;me+=1)if(_e=W[me],ae=_e.Representation_asArray,pe(_e,ge))return ae.length;return-1}y=y||{};var de=y.dashManifestModel,fe=y.manifestModel;return{getBandwidthForRepresentation:I,getIndexForRepresentation:E,getMaxIndexForBufferType:D,getCurrentRepresentationSwitch:R,getLatestBufferLevelVO:S,getCurrentBufferLevel:L,getCurrentHttpRequest:k,getHttpRequests:b,getCurrentDroppedFrames:G,getCurrentSchedulingInfo:w,getCurrentDVRInfo:U,getCurrentManifestUpdate:M,getLatestFragmentRequestHeaderValueByID:le,getLatestMPDRequestHeaderValueByID:j,getRequestsQueue:B}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(179),u=t(48),v=l(u),g=t(99),_=l(g),p=t(40);h.__dashjs_factory_name="DashMetrics",o.default=v.default.getSingletonFactory(h),f.exports=o.default},{179:179,40:40,48:48,99:99}],56:[function(t,f,o){"use strict";function l(j){return j&&j.__esModule?j:{default:j}}function h(){function j(){me=(0,S.default)(ge).getInstance(),Te=(0,u.default)(ge).getInstance(),ve=(0,U.default)(ge).create({errHandler:ae,metricsModel:te,mediaPlayerModel:ue,requestModifier:Te})}function le(se){se.baseURLController&&(ye=se.baseURLController),se.metricsModel&&(te=se.metricsModel),se.mediaPlayerModel&&(ue=se.mediaPlayerModel),se.errHandler&&(ae=se.errHandler)}function Z(){if(!ye||!ye.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function ne(se,Ie){Z();var x=null,q=null,P=ye.resolve(se.path),N=Ie||{init:!0,url:P?P.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};_e("Start searching for initialization.");var Q=fe(N),z=function(he){N.bytesLoaded=N.range.end,q=me.parse(he),x=de(q),x?(se.range=x,W.trigger(I.default.INITIALIZATION_LOADED,{representation:se})):(N.range.end=N.bytesLoaded+N.bytesToLoad,ne(se,N))},oe=function(){W.trigger(I.default.INITIALIZATION_LOADED,{representation:se})};ve.load({request:Q,success:z,error:oe}),_e("Perform init search: "+N.url)}function X(se,Ie,x,q,P){if(Z(),x&&(x.start===void 0||x.end===void 0)){var N=x?x.toString().split("-"):null;x=N?{start:parseFloat(N[0]),end:parseFloat(N[1])}:null}P=P||re;var Q=null,z=null,oe=!!x,he=ye.resolve(se.path),d={init:!1,url:he?he.url:void 0,range:oe?x:{start:0,end:1500},searching:!oe,bytesLoaded:q?q.bytesLoaded:0,bytesToLoad:1500},C=fe(d),F=function(Y){var ce=d.bytesToLoad,xe=Y.byteLength;if(d.bytesLoaded=d.range.end-d.range.start,Q=me.parse(Y),(z=Q.getBox("sidx"))&&z.isComplete){var Se=z.references,Pe=void 0,Oe=void 0;Se!=null&&Se.length>0&&(Pe=Se[0].reference_type===1),Pe?function(){_e("Initiate multiple SIDX load."),d.range.end=d.range.start+z.size;var Ke=void 0,rt=void 0,ke=void 0,Xe=void 0,Qe=void 0,ze=[],pt=0,mt=(z.offset||d.range.start)+z.size,Ze=function($e){$e?(ze=ze.concat($e),++pt>=rt&&P(ze,se,Ie)):P(null,se,Ie)};for(Ke=0,rt=Se.length;Ke<rt;Ke++)ke=mt,Xe=mt+Se[Ke].referenced_size-1,mt+=Se[Ke].referenced_size,Qe={start:ke,end:Xe},X(se,null,Qe,d,Ze)}():(_e("Parsing segments from SIDX."),Oe=K(z,d),P(Oe,se,Ie))}else{if(z)d.range.start=z.offset||d.range.start,d.range.end=d.range.start+(z.size||ce);else{if(xe<d.bytesLoaded)return void P(null,se,Ie);var Fe=Q.getLastBox();Fe&&Fe.size?(d.range.start=Fe.offset+Fe.size,d.range.end=d.range.start+ce):d.range.end+=ce}X(se,Ie,d.range,d,P)}},H=function(){P(null,se,Ie)};ve.load({request:C,success:F,error:H}),_e("Perform SIDX load: "+d.url)}function pe(){ve.abort(),ve=null,ae=null,me=null,Te=null}function K(se,Ie){for(var x=se.references,q=x.length,P=se.timescale,N=se.earliest_presentation_time,Q=Ie.range.start+se.offset+se.first_offset+se.size,z=[],oe=void 0,he=void 0,d=void 0,C=void 0,F=0;F<q;F++)d=x[F].subsegment_duration,C=x[F].referenced_size,oe=new g.default,oe.duration=d,oe.startTime=N,oe.timescale=P,he=Q+C-1,oe.mediaRange=Q+"-"+he,z.push(oe),N+=d,Q+=C;return z}function de(se){var Ie=se.getBox("ftyp"),x=se.getBox("moov"),q=null,P=void 0,N=void 0;return _e("Searching for initialization."),x&&x.isComplete&&(P=Ie?Ie.offset:x.offset,N=x.offset+x.size-1,q=P+"-"+N,_e("Found the initialization.  Range: "+q)),q}function fe(se){if(se.url){var Ie=new w.default;return Ie.type=se.init?A.HTTPRequest.INIT_SEGMENT_TYPE:A.HTTPRequest.MEDIA_SEGMENT_TYPE,Ie.url=se.url,Ie.range=se.range.start+"-"+se.range.end,Ie}}function re(se,Ie,x){se?W.trigger(I.default.SEGMENTS_LOADED,{segments:se,representation:Ie,mediaType:x}):W.trigger(I.default.SEGMENTS_LOADED,{segments:null,representation:Ie,mediaType:x,error:new p.default(null,"error loading segments",null)})}var ge=this.context,_e=(0,b.default)(ge).getInstance().log,W=(0,D.default)(ge).getInstance(),ae=void 0,me=void 0,Te=void 0,te=void 0,ue=void 0,ve=void 0,ye=void 0;return{setConfig:le,initialize:j,loadInitialization:ne,loadSegments:X,reset:pe}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(153),u=l(m),v=t(85),g=l(v),_=t(160),p=l(_),y=t(51),I=l(y),E=t(47),D=l(E),R=t(143),S=l(R),L=t(48),B=l(L),k=t(46),b=l(k),A=t(179),G=t(162),w=l(G),M=t(96),U=l(M);h.__dashjs_factory_name="SegmentBaseLoader",o.default=B.default.getSingletonFactory(h),f.exports=o.default},{143:143,153:153,160:160,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],57:[function(t,f,o){"use strict";function l(M){return M&&M.__esModule?M:{default:M}}function h(){function M(){me={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function U(){te=(0,S.default)(ge).getInstance(),ye=(0,w.default)(ge).create({errHandler:Te,metricsModel:ue,mediaPlayerModel:ve,requestModifier:te})}function j(Ie){if(!(Ie.baseURLController&&Ie.metricsModel&&Ie.mediaPlayerModel&&Ie.errHandler))throw new Error("Missing config parameter(s)");se=Ie.baseURLController,ue=Ie.metricsModel,ve=Ie.mediaPlayerModel,Te=Ie.errHandler}function le(Ie){var x=[],q=void 0,P=void 0,N=(0,p.default)(ge).create({data:Ie});for(N.consumeTagAndSize(me.Segment.Cues);N.moreData()&&N.consumeTagAndSize(me.Segment.Cues.CuePoint,!0);){for(q={},q.CueTime=N.parseTag(me.Segment.Cues.CuePoint.CueTime),q.CueTracks=[];N.moreData()&&N.consumeTag(me.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Q=N.getMatroskaCodedNum(),z=N.getPos();if(P={},P.Track=N.parseTag(me.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),P.Track===0)throw new Error("Cue track cannot be 0");P.ClusterPosition=N.parseTag(me.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),q.CueTracks.push(P),N.setPos(z+Q)}if(q.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");x.push(q)}if(x.length===0)throw new Error("mandatory cuepoint not found");return x}function Z(Ie,x,q,P){var N=void 0,Q=void 0,z=void 0,oe=void 0,he=void 0,d=void 0,C=void 0,F=void 0;for(Q=le(Ie),z=[],he=0,d=Q.length;he<d;he+=1)oe=new B.default,N=0,N=he<Q.length-1?Q[he+1].CueTime-Q[he].CueTime:P-Q[he].CueTime,oe.duration=N,oe.startTime=Q[he].CueTime,oe.timescale=1e3,C=Q[he].CueTracks[0].ClusterPosition+x,F=he<Q.length-1?Q[he+1].CueTracks[0].ClusterPosition+x-1:q-1,oe.mediaRange=C+"-"+F,z.push(oe);return _e("Parsed cues: "+z.length+" cues."),z}function ne(Ie,x,q,P){var N=(0,p.default)(ge).create({data:Ie}),Q=void 0,z=void 0,oe=q.split("-"),he=null,d={url:x,range:{start:parseFloat(oe[0]),end:parseFloat(oe[1])},request:he},C=void 0,F=void 0;for(_e("Parse EBML header: "+d.url),N.skipOverElement(me.EBML),N.consumeTag(me.Segment),C=N.getMatroskaCodedNum(),C+=N.getPos(),F=N.getPos();N.moreData()&&!N.consumeTagAndSize(me.Segment.Info,!0);)if(!(N.skipOverElement(me.Segment.SeekHead,!0)||N.skipOverElement(me.Segment.Tracks,!0)||N.skipOverElement(me.Segment.Cues,!0)||N.skipOverElement(me.Void,!0)))throw new Error("no valid top level element found");for(;Q===void 0;){var H=N.getMatroskaCodedNum(!0),Y=N.getMatroskaCodedNum();switch(H){case me.Segment.Info.Duration.tag:Q=N[me.Segment.Info.Duration.parse](Y);break;default:N.setPos(N.getPos()+Y)}}he=fe(d);var ce=function(Se){z=Z(Se,F,C,Q),P(z)},xe=function(){_e("Download Error: Cues "+d.url),P(null)};ye.load({request:he,success:ce,error:xe}),_e("Perform cues load: "+d.url+" bytes="+d.range.start+"-"+d.range.end)}function X(){if(!se||!se.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function pe(Ie,x){X();var q=null,P=se.resolve(Ie.path),N=P?P.url:void 0,Q=Ie.range.split("-"),z=x||{range:{start:parseFloat(Q[0]),end:parseFloat(Q[1])},request:q,url:N,init:!0};_e("Start loading initialization."),q=fe(z);var oe=function(){W.trigger(u.default.INITIALIZATION_LOADED,{representation:Ie})},he=function(){W.trigger(u.default.INITIALIZATION_LOADED,{representation:Ie})};ye.load({request:q,success:oe,error:he}),_e("Perform init load: "+z.url)}function K(Ie,x,q,P){X();var N=null,Q=se.resolve(Ie.path),z=Q?Q.url:void 0,oe=8192,he={bytesLoaded:0,bytesToLoad:oe,range:{start:0,end:oe},request:N,url:z,init:!1};P=P||de,N=fe(he),_e("Parsing ebml header");var d=function(F){ne(F,z,q,function(H){P(H,Ie,x)})},C=function(){P(null,Ie,x)};ye.load({request:N,success:d,error:C})}function de(Ie,x,q){Ie?W.trigger(u.default.SEGMENTS_LOADED,{segments:Ie,representation:x,mediaType:q}):W.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:x,mediaType:q,error:new Error(null,"error loading segments",null)})}function fe(Ie){var x=new A.default;return x.type=Ie.init?k.HTTPRequest.INIT_SEGMENT_TYPE:k.HTTPRequest.MEDIA_SEGMENT_TYPE,x.url=Ie.url,x.range=Ie.range.start+"-"+Ie.range.end,x}function re(){Te=null,te=null,_e=null}var ge=this.context,_e=(0,D.default)(ge).getInstance().log,W=(0,g.default)(ge).getInstance(),ae=void 0,me=void 0,Te=void 0,te=void 0,ue=void 0,ve=void 0,ye=void 0,se=void 0;return ae={setConfig:j,initialize:U,loadInitialization:pe,loadSegments:K,reset:re},M(),ae}Object.defineProperty(o,"__esModule",{value:!0});var m=t(51),u=l(m),v=t(47),g=l(v),_=t(147),p=l(_),y=t(48),I=l(y),E=t(46),D=l(E),R=t(153),S=l(R),L=t(85),B=l(L),k=t(179),b=t(162),A=l(b),G=t(96),w=l(G);h.__dashjs_factory_name="WebmSegmentBaseLoader",o.default=I.default.getSingletonFactory(h),f.exports=o.default},{147:147,153:153,162:162,179:179,46:46,47:47,48:48,51:51,85:85,96:96}],58:[function(t,f,o){"use strict";function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function v(g,_){for(var p=0;p<_.length;p++){var y=_[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,_,p){return _&&v(g.prototype,_),p&&v(g,p),g}}(),m=function(){function v(){l(this,v),this.init()}return h(v,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),v}(),u=new m;o.default=u,f.exports=o.default},{}],59:[function(t,f,o){"use strict";function l(k){return k&&k.__esModule?k:{default:k}}function h(){function k(){le(),se.on(D.default.QUALITY_CHANGE_REQUESTED,te,Ie),se.on(D.default.REPRESENTATION_UPDATED,ae,Ie),se.on(D.default.WALLCLOCK_TIME_UPDATED,me,Ie),se.on(D.default.BUFFER_LEVEL_UPDATED,Te,Ie),se.on(D.default.MANIFEST_VALIDITY_CHANGED,ue,Ie)}function b(Se){Se.abrController&&(z=Se.abrController),Se.domStorage&&(C=Se.domStorage),Se.metricsModel&&(d=Se.metricsModel),Se.dashMetrics&&(Y=Se.dashMetrics),Se.dashManifestModel&&(H=Se.dashManifestModel),Se.playbackController&&(he=Se.playbackController),Se.timelineConverter&&(F=Se.timelineConverter),Se.manifestModel&&(xe=Se.manifestModel),Se.streamProcessor&&(ce=Se.streamProcessor)}function A(){oe=ce.getIndexHandler()}function G(){return ce}function w(){return x}function M(){return q}function U(){return P}function j(){return Q}function le(){x=null,q=-1,P=!0,N=[],z=null,he=null,d=null,C=null,F=null,H=null,Y=null}function Z(){se.off(D.default.QUALITY_CHANGE_REQUESTED,te,Ie),se.off(D.default.REPRESENTATION_UPDATED,ae,Ie),se.off(D.default.WALLCLOCK_TIME_UPDATED,me,Ie),se.off(D.default.BUFFER_LEVEL_UPDATED,Te,Ie),se.off(D.default.MANIFEST_VALIDITY_CHANGED,ue,Ie),le()}function ne(Se,Pe,Oe){var Fe=ce.getStreamInfo(),Ke=z.getTopQualityIndexFor(Oe,Fe.id),rt=z.getMinAllowedIndexFor(Oe),ke=void 0,Xe=void 0,Qe=null;if(P=!0,se.trigger(D.default.DATA_UPDATE_STARTED,{sender:this}),N=re(Pe),x!==null&&x.id==Se.id||Oe===u.default.FRAGMENTED_TEXT?ke=z.getQualityFor(Oe,Fe):(Xe=z.getThroughputHistory().getAverageThroughput(Oe),Qe=Xe||z.getInitialBitrateFor(Oe,Fe),ke=z.getQualityForBitrate(ce.getMediaInfo(),Qe)),rt!==void 0&&ke<rt&&(ke=rt),ke>Ke&&(ke=Ke),Q=K(ke),x=Se,Oe!==u.default.VIDEO&&Oe!==u.default.AUDIO&&Oe!==u.default.FRAGMENTED_TEXT)return P=!1,void se.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:Q});for(var ze=0;ze<N.length;ze++)oe.updateRepresentation(N[ze],!0)}function X(){var Se=new Date,Pe=j(),Oe=1e3*he.getTime();d.addRepresentationSwitch(Pe.adaptation.type,Se,Oe,Pe.id)}function pe(){var Se=ce.getStreamInfo(),Pe=Se?Se.manifestInfo:null,Oe=Pe?Pe.isDynamic:null,Fe=F.calcSegmentAvailabilityRange(Q,Oe);d.addDVRInfo(ce.getType(),he.getTime(),Pe,Fe)}function K(Se){return N[Se]}function de(Se){return N.indexOf(Se)}function fe(){for(var Se=0,Pe=N.length;Se<Pe;Se++){var Oe=N[Se].segmentInfoType;if(N[Se].segmentAvailabilityRange===null||!B.default.hasInitialization(N[Se])||(Oe===g.default.SEGMENT_BASE||Oe===g.default.BASE_URL)&&!N[Se].segments)return!1}return!0}function re(Se){return q=H.getIndexForAdaptation(x,Se.period.mpd.manifest,Se.period.index),H.getRepresentationsForAdaptation(Se)}function ge(Se){for(var Pe=void 0,Oe=0,Fe=N.length;Oe<Fe;Oe++)Pe=N[Oe],Pe.segmentAvailabilityRange=F.calcSegmentAvailabilityRange(Pe,Se)}function _e(){N.forEach(function(Se){Se.segmentAvailabilityRange=null})}function W(Se){var Pe=Se,Oe=function(){if(!U()){P=!0,se.trigger(D.default.DATA_UPDATE_STARTED,{sender:Ie}),_e();for(var Fe=0;Fe<N.length;Fe++)oe.updateRepresentation(N[Fe],!0)}};P=!1,se.trigger(D.default.AST_IN_FUTURE,{delay:Pe}),setTimeout(Oe,Pe)}function ae(Se){if(Se.sender.getStreamProcessor()===ce&&U()){var Pe=Se.representation,Oe=d.getMetricsFor(u.default.STREAM),Fe=d.getMetricsFor(j().adaptation.type),Ke=Y.getCurrentManifestUpdate(Oe),rt=!1,ke=0,Xe=void 0,Qe=void 0,ze=void 0;if(Pe.adaptation.period.mpd.manifest.type===g.default.DYNAMIC&&!Pe.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var pt=Pe.segmentAvailabilityRange.end-Pe.segmentAvailabilityRange.start;ke=1e3*(he.computeLiveDelay(Q.segmentDuration,ce.getStreamInfo().manifestInfo.DVRWindowSize)-pt)}if(ke>0)return pe(),W(ke),Qe=new p.default(ve,"Segments update failed",null),void se.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:Q,error:Qe});if(Ke){for(var mt=0;mt<Ke.representationInfo.length;mt++)if(Xe=Ke.representationInfo[mt],Xe.index===Pe.index&&Xe.mediaType===ce.getType()){rt=!0;break}rt||d.addManifestUpdateRepresentationInfo(Ke,Pe.id,Pe.index,Pe.adaptation.period.index,ce.getType(),Pe.presentationTimeOffset,Pe.startNumber,Pe.segmentInfoType)}fe()&&(P=!1,z.setPlaybackQuality(ce.getType(),ce.getStreamInfo(),de(Q)),d.updateManifestUpdateInfo(Ke,{latency:Q.segmentAvailabilityRange.end-he.getTime()}),ze=Y.getCurrentRepresentationSwitch(Fe),ze||X(),se.trigger(D.default.DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:Q}))}}function me(Se){Se.isDynamic&&ge(Se.isDynamic)}function Te(Se){Se.sender.getStreamProcessor()===ce&&(xe.getValue().doNotUpdateDVRWindowOnBufferUpdated||pe())}function te(Se){if(Se.mediaType===ce.getType()&&ce.getStreamInfo().id===Se.streamInfo.id&&Se.oldQuality!==Se.newQuality){Q=K(Se.newQuality);var Pe=z.getThroughputHistory().getAverageThroughput(Se.mediaType);isNaN(Pe)||C.setSavedBitrateSettings(Se.mediaType,Pe),X()}}function ue(Se){if(Se.newDuration){var Pe=j();Pe&&Pe.adaptation.period&&(Pe.adaptation.period.duration=Se.newDuration)}}var ve=1,ye=this.context,se=(0,I.default)(ye).getInstance(),Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0,oe=void 0,he=void 0,d=void 0,C=void 0,F=void 0,H=void 0,Y=void 0,ce=void 0,xe=void 0;return Ie={initialize:A,setConfig:b,getData:w,getDataIndex:M,isUpdating:U,updateData:ne,getStreamProcessor:G,getCurrentRepresentation:j,getRepresentationForQuality:K,reset:Z},k(),Ie}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(58),g=l(v),_=t(160),p=l(_),y=t(47),I=l(y),E=t(51),D=l(E),R=t(48),S=l(R),L=t(84),B=l(L);h.__dashjs_factory_name="RepresentationController",o.default=S.default.getClassFactory(h),f.exports=o.default},{160:160,47:47,48:48,51:51,58:58,84:84,98:98}],60:[function(t,f,o){"use strict";function l(pe){return pe&&pe.__esModule?pe:{default:pe}}function h(pe){function K(J,De){var e=void 0,i=void 0,n=void 0,r=void 0,c=void 0,T=void 0,O=!1,V=!1;if(!J)throw new Error("adaptation is not defined");if(!De)throw new Error("type is not defined");if(J.hasOwnProperty("ContentComponent_asArray")&&(r=J.ContentComponent_asArray),c=De!==u.default.TEXT?new RegExp(De):new RegExp("(vtt|ttml)"),J.Representation_asArray&&J.Representation_asArray.length&&J.Representation_asArray.length>0&&J.Representation_asArray[0].hasOwnProperty(g.default.CODECS)&&(T=J.Representation_asArray[0].codecs,T.search(u.default.STPP)===0||T.search(u.default.WVTT)===0))return De===u.default.FRAGMENTED_TEXT;if(r){if(r.length>1)return De===u.default.MUXED;r[0]&&r[0].contentType===De&&(O=!0,V=!0)}if(J.hasOwnProperty(g.default.MIME_TYPE)&&(O=c.test(J.mimeType),V=!0),!V)for(e=0,i=J.Representation_asArray&&J.Representation_asArray.length?J.Representation_asArray.length:0;!V&&e<i;)n=J.Representation_asArray[e],n.hasOwnProperty(g.default.MIME_TYPE)&&(O=c.test(n.mimeType),V=!0),e++;return O}function de(J){return K(J,u.default.AUDIO)}function fe(J){return K(J,u.default.VIDEO)}function re(J){return K(J,u.default.FRAGMENTED_TEXT)}function ge(J){return K(J,u.default.TEXT)}function _e(J){return K(J,u.default.MUXED)}function W(J){return K(J,u.default.IMAGE)}function ae(J){return J==="text/vtt"||J==="application/ttml+xml"}function me(J){var De="";return J&&J.hasOwnProperty(g.default.LANG)&&(De=J.lang.replace(/[^A-Za-z0-9-]/g,"")),De}function Te(J){return J&&J.hasOwnProperty(g.default.VIEWPOINT)?J.Viewpoint:null}function te(J){return J&&J.hasOwnProperty(g.default.ROLE_ASARRAY)?J.Role_asArray:[]}function ue(J){return J&&J.hasOwnProperty(g.default.ACCESSIBILITY_ASARRAY)?J.Accessibility_asArray:[]}function ve(J){return J&&J.hasOwnProperty(g.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?J.AudioChannelConfiguration_asArray:[]}function ye(J){return te(J).filter(function(De){return De.value===g.default.MAIN})[0]}function se(){return function(J,De){return J.bandwidth-De.bandwidth}}function Ie(J){return J&&J.Representation_asArray!==void 0&&J.Representation_asArray!==null&&J.Representation_asArray.sort(se()),J}function x(J,De,e){var i=De&&De.Period_asArray&&lt(e)&&De.Period_asArray[e]?De.Period_asArray[e].AdaptationSet_asArray:[],n=void 0,r=void 0;for(n=0,r=i.length;n<r;n++)if(i[n].hasOwnProperty(g.default.ID)&&i[n].id===J)return i[n];return null}function q(J,De,e){var i=De&&De.Period_asArray&&lt(e)&&De.Period_asArray[e]?De.Period_asArray[e].AdaptationSet_asArray:null;return i&&lt(J)?i[J]:null}function P(J,De,e){var i=De&&De.Period_asArray&&lt(e)&&De.Period_asArray[e]?De.Period_asArray[e].AdaptationSet_asArray:[],n=i.length;if(J)for(var r=0;r<n;r++){var c=(0,j.default)(at).getInstance();if(c.areEqual(i[r],J))return r}return-1}function N(J,De,e){var i=J&&J.Period_asArray&&lt(De)&&J.Period_asArray[De]?J.Period_asArray[De].AdaptationSet_asArray:[],n=void 0,r=void 0,c=[];for(n=0,r=i.length;n<r;n++)K(i[n],e)&&c.push(Ie(i[n]));return c}function Q(J,De,e,i){var n=N(J,De,e);if(!n||n.length===0)return null;if(n.length>1&&i){for(var r=qe.getCurrentTrackFor(e,i),c=it.getAllMediaInfoForType(i,e),T=0,O=n.length;T<O;T++)if(r&&qe.isTracksEqual(r,c[T]))return n[T];for(var T=0,O=n.length;T<O;T++)if(ye(n[T]))return n[T]}return n[0]}function z(J,De,e){if(J&&J.Representation_asArray&&J.Representation_asArray.length>0){var i=lt(De)&&De>=0&&De<J.Representation_asArray.length?J.Representation_asArray[De]:J.Representation_asArray[0],n=i.mimeType+';codecs="'+i.codecs+'"';return e&&i.width!==void 0&&(n+=';width="'+i.width+'";height="'+i.height+'"'),n}return null}function oe(J){return J&&J.Representation_asArray&&J.Representation_asArray.length>0?J.Representation_asArray[0].mimeType:null}function he(J){return J&&J.hasOwnProperty(g.default.CENC_DEFAULT_KID)?J[g.default.CENC_DEFAULT_KID]:null}function d(J){return J&&J.hasOwnProperty(g.default.CONTENTPROTECTION_ASARRAY)&&J.ContentProtection_asArray.length!==0?J.ContentProtection_asArray:null}function C(J){var De=!1;return J&&J.hasOwnProperty("type")&&(De=J.type===g.default.DYNAMIC),De}function F(J,De){var e=!1;return J&&J.profiles&&J.profiles.length>0&&(e=J.profiles.indexOf(De)!==-1),e}function H(J){return F(J,ct)}function Y(J){return J&&J.hasOwnProperty(g.default.MEDIA_PRESENTATION_DURATION)?J.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function ce(J){return J&&J.bandwidth?J.bandwidth:NaN}function xe(J){var De=arguments.length<=1||arguments[1]===void 0?0:arguments[1],e=NaN;return J&&J.hasOwnProperty(g.default.MINIMUM_UPDATE_PERIOD)&&(e=J.minimumUpdatePeriod),isNaN(e)?e:Math.max(e-De,1)}function Se(J){return J&&J.Representation_asArray&&J.Representation_asArray.length?J.Representation_asArray.length:0}function Pe(J){return J&&J.Representation_asArray&&J.Representation_asArray.length?Ie(J).Representation_asArray.map(function(De){return{bandwidth:De.bandwidth,width:De.width||0,height:De.height||0,scanType:De.scanType||null}}):null}function Oe(J){return J&&J.EssentialProperty_asArray&&J.EssentialProperty_asArray.length?J.EssentialProperty_asArray.map(function(De){return{schemeIdUri:De.schemeIdUri,value:De.value}}):null}function Fe(J,De){return De&&De.Representation_asArray&&De.Representation_asArray.length>0&&lt(J)?De.Representation_asArray[J]:null}function Ke(J){var De=[],e=void 0,i=void 0,n=void 0,r=void 0,c=void 0,T=void 0,O=void 0;if(J&&J.period&&lt(J.period.index)){var V=J.period.mpd.manifest.Period_asArray[J.period.index];V&&V.AdaptationSet_asArray&&lt(J.index)&&(r=Ie(V.AdaptationSet_asArray[J.index]))}if(r&&r.Representation_asArray)for(T=0;r&&T<r.Representation_asArray.length;T++)c=r.Representation_asArray[T],e=new p.default,e.index=T,e.adaptation=J,c.hasOwnProperty(g.default.ID)&&(e.id=c.id),c.hasOwnProperty(g.default.CODECS)&&(e.codecs=c.codecs),c.hasOwnProperty(g.default.CODEC_PRIVATE_DATA)&&(e.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(g.default.BANDWITH)&&(e.bandwidth=c.bandwidth),c.hasOwnProperty(g.default.WIDTH)&&(e.width=c.width),c.hasOwnProperty(g.default.HEIGHT)&&(e.height=c.height),c.hasOwnProperty(g.default.SCAN_TYPE)&&(e.scanType=c.scanType),c.hasOwnProperty(g.default.MAX_PLAYOUT_RATE)&&(e.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(g.default.SEGMENT_BASE)?(n=c.SegmentBase,e.segmentInfoType=g.default.SEGMENT_BASE):c.hasOwnProperty(g.default.SEGMENT_LIST)?(n=c.SegmentList,n.hasOwnProperty(g.default.SEGMENT_TIMELINE)?(e.segmentInfoType=g.default.SEGMENT_TIMELINE,O=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!O.hasOwnProperty("r")||O.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):(e.segmentInfoType=g.default.SEGMENT_LIST,e.useCalculatedLiveEdgeTime=!0)):c.hasOwnProperty(g.default.SEGMENT_TEMPLATE)?(n=c.SegmentTemplate,n.hasOwnProperty(g.default.SEGMENT_TIMELINE)?(e.segmentInfoType=g.default.SEGMENT_TIMELINE,O=n.SegmentTimeline.S_asArray[n.SegmentTimeline.S_asArray.length-1],(!O.hasOwnProperty("r")||O.r>=0)&&(e.useCalculatedLiveEdgeTime=!0)):e.segmentInfoType=g.default.SEGMENT_TEMPLATE,n.hasOwnProperty(g.default.INITIALIZATION_MINUS)&&(e.initialization=n.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):e.segmentInfoType=g.default.BASE_URL,e.essentialProperties=Oe(c),n&&(n.hasOwnProperty(g.default.INITIALIZATION)?(i=n.Initialization,i.hasOwnProperty(g.default.SOURCE_URL)?e.initialization=i.sourceURL:i.hasOwnProperty(g.default.RANGE)&&(e.range=i.range)):c.hasOwnProperty(g.default.MIME_TYPE)&&ae(c.mimeType)&&(e.range=0),n.hasOwnProperty(g.default.TIMESCALE)&&(e.timescale=n.timescale),n.hasOwnProperty(g.default.DURATION)&&(e.segmentDuration=n.duration/e.timescale),n.hasOwnProperty(g.default.MEDIA)&&(e.media=n.media),n.hasOwnProperty(g.default.START_NUMBER)&&(e.startNumber=n.startNumber),n.hasOwnProperty(g.default.INDEX_RANGE)&&(e.indexRange=n.indexRange),n.hasOwnProperty(g.default.PRESENTATION_TIME_OFFSET)&&(e.presentationTimeOffset=n.presentationTimeOffset/e.timescale)),e.MSETimeOffset=Ye.calcMSETimeOffset(e),e.path=[J.period.index,J.index,T],De.push(e);return De}function rt(J){var De=J&&lt(J.index)?J.mpd.manifest.Period_asArray[J.index]:null,e=[],i=void 0,n=void 0,r=void 0;if(De&&De.AdaptationSet_asArray)for(r=0;r<De.AdaptationSet_asArray.length;r++)n=De.AdaptationSet_asArray[r],i=new I.default,n.hasOwnProperty(g.default.ID)&&(i.id=n.id),i.index=r,i.period=J,_e(n)?i.type=u.default.MUXED:de(n)?i.type=u.default.AUDIO:fe(n)?i.type=u.default.VIDEO:re(n)?i.type=u.default.FRAGMENTED_TEXT:W(n)?i.type=u.default.IMAGE:i.type=u.default.TEXT,e.push(i);return e}function ke(J){var De=!!J&&C(J.manifest),e=[],i=null,n=null,r=null,c=null,T=void 0,O=void 0;for(O=0,T=J&&J.manifest&&J.manifest.Period_asArray?J.manifest.Period_asArray.length:0;O<T;O++)n=J.manifest.Period_asArray[O],n.hasOwnProperty(g.default.START)?(c=new D.default,c.start=n.start):i!==null&&n.hasOwnProperty(g.default.DURATION)&&r!==null?(c=new D.default,c.start=parseFloat((r.start+r.duration).toFixed(5)),c.duration=n.duration):O!==0||De||(c=new D.default,c.start=0),r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((c.start-r.start).toFixed(5))),c!==null&&(c.id=Xe(n,O)),c!==null&&n.hasOwnProperty(g.default.DURATION)&&(c.duration=n.duration),c!==null&&(c.index=O,c.mpd=J,e.push(c),i=n,r=c),n=null,c=null;return e.length===0||r!==null&&isNaN(r.duration)&&(r.duration=parseFloat((ze(r)-r.start).toFixed(5))),e}function Xe(J,De){if(!J)throw new Error("Period cannot be null or undefined");var e=D.default.DEFAULT_ID+"_"+De;return J.hasOwnProperty(g.default.ID)&&J.id.length>0&&J.id!=="__proto__"&&(e=J.id),e}function Qe(J){var De=new S.default;return J&&(De.manifest=J,J.hasOwnProperty(g.default.AVAILABILITY_START_TIME)?De.availabilityStartTime=new Date(J.availabilityStartTime.getTime()):De.availabilityStartTime=new Date(J.loadedTime.getTime()),J.hasOwnProperty(g.default.AVAILABILITY_END_TIME)&&(De.availabilityEndTime=new Date(J.availabilityEndTime.getTime())),J.hasOwnProperty(g.default.MINIMUM_UPDATE_PERIOD)&&(De.minimumUpdatePeriod=J.minimumUpdatePeriod),J.hasOwnProperty(g.default.MEDIA_PRESENTATION_DURATION)&&(De.mediaPresentationDuration=J.mediaPresentationDuration),J.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)&&(De.suggestedPresentationDelay=J.suggestedPresentationDelay),J.hasOwnProperty(g.default.TIMESHIFT_BUFFER_DEPTH)&&(De.timeShiftBufferDepth=J.timeShiftBufferDepth),J.hasOwnProperty(g.default.MAX_SEGMENT_DURATION)&&(De.maxSegmentDuration=J.maxSegmentDuration)),De}function ze(J){var De=C(J.mpd.manifest),e=void 0;if(J.mpd.manifest.mediaPresentationDuration)e=J.mpd.manifest.mediaPresentationDuration;else if(J.duration)e=J.duration;else{if(!De)throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.");e=Number.POSITIVE_INFINITY}return e}function pt(J){var De=J&&J.mpd&&J.mpd.manifest?J.mpd.manifest:null,e=De?De.Period_asArray:null,i=e&&J&&lt(J.index)?e[J.index].EventStream_asArray:null,n=[],r=void 0,c=void 0;if(i)for(r=0;r<i.length;r++){var T=new M.default;if(T.period=J,T.timescale=1,!i[r].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(T.schemeIdUri=i[r].schemeIdUri,i[r].hasOwnProperty(g.default.TIMESCALE)&&(T.timescale=i[r].timescale),i[r].hasOwnProperty(g.default.VALUE)&&(T.value=i[r].value),c=0;c<i[r].Event_asArray.length;c++){var O=new b.default;O.presentationTime=0,O.eventStream=T,i[r].Event_asArray[c].hasOwnProperty(g.default.PRESENTATION_TIME)&&(O.presentationTime=i[r].Event_asArray[c].presentationTime),i[r].Event_asArray[c].hasOwnProperty(g.default.DURATION)&&(O.duration=i[r].Event_asArray[c].duration),i[r].Event_asArray[c].hasOwnProperty(g.default.ID)&&(O.id=i[r].Event_asArray[c].id),n.push(O)}}return n}function mt(J,De){var e=[],i=void 0;if(!J)return e;for(i=0;i<J.length;i++){var n=new M.default;if(n.timescale=1,n.representation=De,!J[i].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");n.schemeIdUri=J[i].schemeIdUri,J[i].hasOwnProperty(g.default.TIMESCALE)&&(n.timescale=J[i].timescale),J[i].hasOwnProperty(g.default.VALUE)&&(n.value=J[i].value),e.push(n)}return e}function Ze(J,De){var e=void 0,i=void 0,n=void 0;return J&&J.Period_asArray&&De&&De.period&&lt(De.period.index)&&(i=J.Period_asArray[De.period.index])&&i.AdaptationSet_asArray&&lt(De.index)&&(n=i.AdaptationSet_asArray[De.index])&&(e=n.InbandEventStream_asArray),mt(e,null)}function $e(J,De){var e=void 0,i=void 0,n=void 0,r=void 0;return J&&J.Period_asArray&&De&&De.adaptation&&De.adaptation.period&&lt(De.adaptation.period.index)&&(i=J.Period_asArray[De.adaptation.period.index])&&i.AdaptationSet_asArray&&lt(De.adaptation.index)&&(n=i.AdaptationSet_asArray[De.adaptation.index])&&n.Representation_asArray&&lt(De.index)&&(r=n.Representation_asArray[De.index])&&(e=r.InbandEventStream_asArray),mt(e,De)}function Ge(J){var De=C(J),e=!!J&&J.hasOwnProperty(g.default.AVAILABILITY_START_TIME),i=J?J.UTCTiming_asArray:null,n=[];return(De||e)&&i&&i.forEach(function(r){var c=new B.default;r.hasOwnProperty(u.default.SCHEME_ID_URI)&&(c.schemeIdUri=r.schemeIdUri,r.hasOwnProperty(g.default.VALUE)&&(c.value=r.value.toString(),n.push(c)))}),n}function Le(J){var De=[],e=J.BaseURL_asArray||[J.baseUri],i=!1;return e.some(function(n){if(n){var r=new G.default,c=n.__text||n;return et.isRelative(c)&&(i=!0,J.baseUri&&(c=et.resolve(c,J.baseUri))),r.url=c,n.hasOwnProperty(g.default.SERVICE_LOCATION)&&n.serviceLocation.length?r.serviceLocation=n.serviceLocation:r.serviceLocation=c,n.hasOwnProperty(g.default.DVB_PRIORITY)&&(r.dvb_priority=n[g.default.DVB_PRIORITY]),n.hasOwnProperty(g.default.DVB_WEIGHT)&&(r.dvb_weight=n[g.default.DVB_WEIGHT]),De.push(r),i}}),De}function He(J){if(J&&J.hasOwnProperty(u.default.LOCATION))return J.Location=J.Location_asArray[0],J.Location}pe=pe||{};var at=this.context,et=(0,Z.default)(at).getInstance(),qe=pe.mediaController,Ye=pe.timelineConverter,it=pe.adapter,ct="urn:dvb:dash:profile:dvb-dash:2014",lt=Number.isInteger||function(J){return typeof J=="number"&&isFinite(J)&&Math.floor(J)===J};return{getIsTypeOf:K,getIsAudio:de,getIsVideo:fe,getIsText:ge,getIsMuxed:_e,getIsTextTrack:ae,getIsFragmentedText:re,getIsImage:W,getIsMain:ye,getLanguageForAdaptation:me,getViewpointForAdaptation:Te,getRolesForAdaptation:te,getAccessibilityForAdaptation:ue,getAudioChannelConfigurationForAdaptation:ve,getAdaptationForIndex:q,getIndexForAdaptation:P,getAdaptationForId:x,getAdaptationsForType:N,getAdaptationForType:Q,getCodec:z,getMimeType:oe,getKID:he,getContentProtectionData:d,getIsDynamic:C,getIsDVB:H,getDuration:Y,getBandwidth:ce,getManifestUpdatePeriod:xe,getRepresentationCount:Se,getBitrateListForAdaptation:Pe,getRepresentationFor:Fe,getRepresentationsForAdaptation:Ke,getAdaptationsForPeriod:rt,getRegularPeriods:ke,getMpd:Qe,getEventsForPeriod:pt,getEventStreamForAdaptationSet:Ze,getEventStreamForRepresentation:$e,getUTCTimingSources:Ge,getBaseURLsFromElement:Le,getRepresentationSortFunction:se,getLocation:He}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(58),g=l(v),_=t(84),p=l(_),y=t(78),I=l(y),E=t(83),D=l(E),R=t(82),S=l(R),L=t(86),B=l(L),k=t(80),b=l(k),A=t(79),G=l(A),w=t(81),M=l(w),U=t(152),j=l(U),le=t(155),Z=l(le),ne=t(48),X=l(ne);h.__dashjs_factory_name="DashManifestModel",o.default=X.default.getSingletonFactory(h),f.exports=o.default},{152:152,155:155,48:48,58:58,78:78,79:79,80:80,81:81,82:82,83:83,84:84,86:86,98:98}],61:[function(t,f,o){"use strict";function l(U){return U&&U.__esModule?U:{default:U}}function h(U){function j(){re=[new S.default,new B.default,new b.default,new D.default],ge=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:re}),_e=new p.default([new G.default,new M.default])}function le(){if(!de||!de.hasOwnProperty("manifestError"))throw new Error("Missing config parameter(s)")}function Z(){return re}function ne(){return _e}function X(W){var ae=void 0;le();try{var me=window.performance.now();if(!(ae=ge.xml_str2json(W)))throw new Error("parser error");var Te=window.performance.now();_e.run(ae);var te=window.performance.now();K("Parsing complete: ( xml2json: "+(Te-me).toPrecision(3)+"ms, objectiron: "+(te-Te).toPrecision(3)+"ms, total: "+((te-me)/1e3).toPrecision(3)+"s)")}catch(ue){return de.manifestError("parsing the manifest failed","parse",W,ue),null}return ae}U=U||{};var pe=this.context,K=(0,g.default)(pe).getInstance().log,de=U.errorHandler,fe=void 0,re=void 0,ge=void 0,_e=void 0;return fe={parse:X,getMatchers:Z,getIron:ne},j(),fe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_=t(3),p=l(_),y=t(4),I=l(y),E=t(70),D=l(E),R=t(68),S=l(R),L=t(67),B=l(L),k=t(69),b=l(k),A=t(64),G=l(A),w=t(65),M=l(w);h.__dashjs_factory_name="DashParser",o.default=u.default.getClassFactory(h),f.exports=o.default},{3:3,4:4,46:46,48:48,64:64,65:65,67:67,68:68,69:69,70:70}],62:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function u(v,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,g,_){return g&&u(v.prototype,g),_&&u(v,_),v}}(),m=function(){function u(v,g){l(this,u);var _=function(p){return p&&p.length&&p.charAt(0)===p.charAt(0).toUpperCase()};this._name=v,this._merge=g!==void 0?g:_(v)}return h(u,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),u}();o.default=m,f.exports=o.default},{}],63:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var m=function(){function _(p,y){for(var I=0;I<y.length;I++){var E=y[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,y,I){return y&&_(p.prototype,y),I&&_(p,I),p}}(),u=t(62),v=l(u),g=function(){function _(p,y,I,E,D){var R=this;h(this,_),this._name=p||"",this._properties=[],this._children=I||[],this._isRoot=E||!1,this._isArray=D||!0,Array.isArray(y)&&y.forEach(function(S){R._properties.push(new v.default(S))})}return m(_,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),_}();o.default=g,f.exports=o.default},{62:62}],64:[function(t,f,o){"use strict";function l(I){return I&&I.__esModule?I:{default:I}}function h(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function m(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(I,E,D){for(var R=!0;R;){var S=I,L=E,B=D;R=!1,S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,L);if(k!==void 0){if("value"in k)return k.value;var b=k.get;return b===void 0?void 0:b.call(B)}var A=Object.getPrototypeOf(S);if(A===null)return;I=A,E=L,D=B,R=!0,k=A=void 0}},v=t(63),g=l(v),_=t(58),p=l(_),y=function(I){function E(){h(this,E);var D=[p.default.PROFILES,p.default.WIDTH,p.default.HEIGHT,p.default.SAR,p.default.FRAMERATE,p.default.AUDIO_SAMPLING_RATE,p.default.MIME_TYPE,p.default.SEGMENT_PROFILES,p.default.CODECS,p.default.MAXIMUM_SAP_PERIOD,p.default.START_WITH_SAP,p.default.MAX_PLAYOUT_RATE,p.default.CODING_DEPENDENCY,p.default.SCAN_TYPE,p.default.FRAME_PACKING,p.default.AUDIO_CHANNEL_CONFIGURATION,p.default.CONTENT_PROTECTION,p.default.ESSENTIAL_PROPERTY,p.default.SUPPLEMENTAL_PROPERTY,p.default.INBAND_EVENT_STREAM];u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,p.default.ADAPTATION_SET,D,[new g.default(p.default.REPRESENTATION,D,[new g.default(p.default.SUB_REPRESENTATION,D)])])}return m(E,I),E}(g.default);o.default=y,f.exports=o.default},{58:58,63:63}],65:[function(t,f,o){"use strict";function l(I){return I&&I.__esModule?I:{default:I}}function h(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function m(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(I,E,D){for(var R=!0;R;){var S=I,L=E,B=D;R=!1,S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,L);if(k!==void 0){if("value"in k)return k.value;var b=k.get;return b===void 0?void 0:b.call(B)}var A=Object.getPrototypeOf(S);if(A===null)return;I=A,E=L,D=B,R=!0,k=A=void 0}},v=t(63),g=l(v),_=t(58),p=l(_),y=function(I){function E(){h(this,E);var D=[p.default.SEGMENT_BASE,p.default.SEGMENT_TEMPLATE,p.default.SEGMENT_LIST];u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,p.default.PERIOD,D,[new g.default(p.default.ADAPTATION_SET,D,[new g.default(p.default.REPRESENTATION,D)])])}return m(E,I),E}(g.default);o.default=y,f.exports=o.default},{58:58,63:63}],66:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function u(v,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,g,_){return g&&u(v.prototype,g),_&&u(v,_),v}}(),m=function(){function u(v,g){l(this,u),this._test=v,this._converter=g}return h(u,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),u}();o.default=m,f.exports=o.default},{}],67:[function(t,f,o){"use strict";function l(D){return D&&D.__esModule?D:{default:D}}function h(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function m(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(D,R,S){for(var L=!0;L;){var B=D,k=R,b=S;L=!1,B===null&&(B=Function.prototype);var A=Object.getOwnPropertyDescriptor(B,k);if(A!==void 0){if("value"in A)return A.value;var G=A.get;return G===void 0?void 0:G.call(b)}var w=Object.getPrototypeOf(B);if(w===null)return;D=w,R=k,S=b,L=!0,A=w=void 0}},v=t(66),g=l(v),_=60,p=60,y=1e3,I=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,E=function(D){function R(){h(this,R),u(Object.getPrototypeOf(R.prototype),"constructor",this).call(this,function(S){return I.test(S.value)},function(S){var L=I.exec(S),B=void 0;if(B=Date.UTC(parseInt(L[1],10),parseInt(L[2],10)-1,parseInt(L[3],10),parseInt(L[4],10),parseInt(L[5],10),L[6]&&parseInt(L[6],10)||0,L[7]&&parseFloat(L[7])*y||0),L[9]&&L[10]){var k=parseInt(L[9],10)*p+parseInt(L[10],10);B+=(L[8]==="+"?-1:1)*k*_*y}return new Date(B)})}return m(R,D),R}(g.default);o.default=E,f.exports=o.default},{66:66}],68:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function m(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(b,A,G){for(var w=!0;w;){var M=b,U=A,j=G;w=!1,M===null&&(M=Function.prototype);var le=Object.getOwnPropertyDescriptor(M,U);if(le!==void 0){if("value"in le)return le.value;var Z=le.get;return Z===void 0?void 0:Z.call(j)}var ne=Object.getPrototypeOf(M);if(ne===null)return;b=ne,A=U,G=j,w=!0,le=ne=void 0}},v=t(66),g=l(v),_=t(98),p=l(_),y=t(58),I=l(y),E=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,D=31536e3,R=2592e3,S=86400,L=3600,B=60,k=function(b){function A(){h(this,A),u(Object.getPrototypeOf(A.prototype),"constructor",this).call(this,function(G){for(var w=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,p.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,p.default.START_TIME,I.default.DURATION],M=w.length,U=0;U<M;U++)if(G.nodeName===w[U])return E.test(G.value);return!1},function(G){var w=E.exec(G),M=parseFloat(w[2]||0)*D+parseFloat(w[4]||0)*R+parseFloat(w[6]||0)*S+parseFloat(w[8]||0)*L+parseFloat(w[10]||0)*B+parseFloat(w[12]||0);return w[1]!==void 0&&(M=-M),M})}return m(A,b),A}(g.default);o.default=k,f.exports=o.default},{58:58,66:66,98:98}],69:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(y,I){if(!(y instanceof I))throw new TypeError("Cannot call a class as a function")}function m(y,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);y.prototype=Object.create(I&&I.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(y,I):y.__proto__=I)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(y,I,E){for(var D=!0;D;){var R=y,S=I,L=E;D=!1,R===null&&(R=Function.prototype);var B=Object.getOwnPropertyDescriptor(R,S);if(B!==void 0){if("value"in B)return B.value;var k=B.get;return k===void 0?void 0:k.call(L)}var b=Object.getPrototypeOf(R);if(b===null)return;y=b,I=S,E=L,D=!0,B=b=void 0}},v=t(66),g=l(v),_=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,p=function(y){function I(){h(this,I),u(Object.getPrototypeOf(I.prototype),"constructor",this).call(this,function(E){return _.test(E.value)},function(E){return parseFloat(E)})}return m(I,y),I}(g.default);o.default=p,f.exports=o.default},{66:66}],70:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(E,D,R){return D in E?Object.defineProperty(E,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[D]=R,E}function m(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")}function u(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(E,D):E.__proto__=D)}Object.defineProperty(o,"__esModule",{value:!0});var v=function(E,D,R){for(var S=!0;S;){var L=E,B=D,k=R;S=!1,L===null&&(L=Function.prototype);var b=Object.getOwnPropertyDescriptor(L,B);if(b!==void 0){if("value"in b)return b.value;var A=b.get;return A===void 0?void 0:A.call(k)}var G=Object.getPrototypeOf(L);if(G===null)return;E=G,D=B,R=k,S=!0,b=G=void 0}},g=t(66),_=l(g),p=t(58),y=l(p),I=function(E){function D(){m(this,D),v(Object.getPrototypeOf(D.prototype),"constructor",this).call(this,function(R,S){var L,B=(L={},h(L,y.default.MPD,[y.default.ID,y.default.PROFILES]),h(L,y.default.PERIOD,[y.default.ID]),h(L,y.default.BASE_URL,[y.default.SERVICE_LOCATION,y.default.BYTE_RANGE]),h(L,y.default.SEGMENT_BASE,[y.default.INDEX_RANGE]),h(L,y.default.INITIALIZATION,[y.default.RANGE]),h(L,y.default.REPRESENTATION_INDEX,[y.default.RANGE]),h(L,y.default.SEGMENT_LIST,[y.default.INDEX_RANGE]),h(L,y.default.BITSTREAM_SWITCHING,[y.default.RANGE]),h(L,y.default.SEGMENT_URL,[y.default.MEDIA_RANGE,y.default.INDEX_RANGE]),h(L,y.default.SEGMENT_TEMPLATE,[y.default.INDEX_RANGE,y.default.MEDIA,y.default.INDEX,y.default.INITIALIZATION_MINUS,y.default.BITSTREAM_SWITCHING_MINUS]),h(L,y.default.ASSET_IDENTIFIER,[y.default.VALUE,y.default.ID]),h(L,y.default.EVENT_STREAM,[y.default.VALUE]),h(L,y.default.ADAPTATION_SET,[y.default.PROFILES,y.default.MIME_TYPE,y.default.SEGMENT_PROFILES,y.default.CODECS,y.default.CONTENT_TYPE]),h(L,y.default.FRAME_PACKING,[y.default.VALUE,y.default.ID]),h(L,y.default.AUDIO_CHANNEL_CONFIGURATION,[y.default.VALUE,y.default.ID]),h(L,y.default.CONTENT_PROTECTION,[y.default.VALUE,y.default.ID]),h(L,y.default.ESSENTIAL_PROPERTY,[y.default.VALUE,y.default.ID]),h(L,y.default.SUPPLEMENTAL_PROPERTY,[y.default.VALUE,y.default.ID]),h(L,y.default.INBAND_EVENT_STREAM,[y.default.VALUE,y.default.ID]),h(L,y.default.ACCESSIBILITY,[y.default.VALUE,y.default.ID]),h(L,y.default.ROLE,[y.default.VALUE,y.default.ID]),h(L,y.default.RATING,[y.default.VALUE,y.default.ID]),h(L,y.default.VIEWPOINT,[y.default.VALUE,y.default.ID]),h(L,y.default.CONTENT_COMPONENT,[y.default.CONTENT_TYPE]),h(L,y.default.REPRESENTATION,[y.default.ID,y.default.DEPENDENCY_ID,y.default.MEDIA_STREAM_STRUCTURE_ID]),h(L,y.default.SUBSET,[y.default.ID]),h(L,y.default.METRICS,[y.default.METRICS_MINUS]),h(L,y.default.REPORTING,[y.default.VALUE,y.default.ID]),L);if(B.hasOwnProperty(S)){var k=B[S];return k!==void 0&&k.indexOf(R.name)>=0}return!1},function(R){return String(R)})}return u(D,E),D}(_.default);o.default=I,f.exports=o.default},{58:58,66:66}],71:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(y){y&&y.boxParser&&(p=y.boxParser)}function g(y){if(!p)throw new Error("boxParser is undefined");if(!y)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var I=p.parse(y),E=I.getBoxes("moof"),D=I.getBoxes("mfhd"),R=void 0,S=void 0,L=void 0,B=void 0,k=void 0,b=void 0,A=void 0,G=void 0,w=void 0,M=void 0,U=void 0,j=void 0,le=void 0,Z=void 0,ne=void 0,X=void 0,pe=void 0;X=I.getBoxes("moof").length,ne=D[D.length-1].sequence_number,L=0,b=[];var K=-1,de=-1;for(U=0;U<E.length;U++){var fe=E[U],re=fe.getChildBoxes("traf");for(w=0;w<re.length;w++){var ge=re[w],_e=ge.getChildBox("tfhd"),W=ge.getChildBox("tfdt");k=W.baseMediaDecodeTime;var ae=ge.getChildBoxes("trun"),me=ge.getChildBoxes("subs");for(M=0;M<ae.length;M++){var Te=ae[M];for(L=Te.sample_count,Z=(_e.base_data_offset||0)+(Te.data_offset||0),G=0;G<L;G++){A=Te.samples[G],R=A.sample_duration!==void 0?A.sample_duration:_e.default_sample_duration,B=A.sample_size!==void 0?A.sample_size:_e.default_sample_size,S=A.sample_composition_time_offset!==void 0?A.sample_composition_time_offset:0;var te={dts:k,cts:k+S,duration:R,offset:fe.offset+Z,size:B,subSizes:[B]};if(me)for(j=0;j<me.length;j++){var ue=me[j];if(K<ue.entry_count&&G>de&&(K++,de+=ue.entries[K].sample_delta),G==de){te.subSizes=[];var ve=ue.entries[K];for(le=0;le<ve.subsample_count;le++)te.subSizes.push(ve.subsamples[le].subsample_size)}}b.push(te),Z+=B,k+=R}}pe=k-W.baseMediaDecodeTime}}return{sampleList:b,lastSequenceNumber:ne,totalDuration:pe,numSequences:X}}function _(y){if(!p)throw new Error("boxParser is undefined");var I=p.parse(y),E=I?I.getBox("mdhd"):void 0;return E?E.timescale:NaN}var p=void 0;return{getSamplesInfo:g,getMediaTimescaleFromMoov:_,setConfig:v}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="FragmentedTextBoxParser",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],72:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_,p){function y(E,D,R,S){var L=E.adaptation.period.mpd.manifest.Period_asArray[E.adaptation.period.index].AdaptationSet_asArray[E.adaptation.index].Representation_asArray[E.index].SegmentList,B=L.SegmentURL_asArray.length,k=[],b=void 0,A=void 0,G=void 0,w=void 0,M=void 0,U=void 0,j=void 0;for(j=E.startNumber,w=(0,v.decideSegmentListRangeForTemplate)(I,p,E,D,R,S),M=Math.max(w.start,0),U=Math.min(w.end,L.SegmentURL_asArray.length-1),b=M;b<=U;b++)G=L.SegmentURL_asArray[b],A=(0,v.getIndexBasedSegment)(I,p,E,b),A.replacementTime=(j+b-1)*E.segmentDuration,A.media=G.media?G.media:"",A.mediaRange=G.mediaRange,A.index=G.index,A.indexRange=G.indexRange,k.push(A),A=null;return E.availableSegmentsNumber=B,k}_=_||{};var I=_.timelineConverter;return{getSegments:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(74);h.__dashjs_factory_name="ListSegmentsGetter";var g=u.default.getClassFactory(h);o.default=g,f.exports=o.default},{48:48,74:74}],73:[function(t,f,o){"use strict";function l(S){return S&&S.__esModule?S:{default:S}}function h(S,L){function B(){w=(0,p.default)(A).create(S,L),M=(0,I.default)(A).create(S,L),U=(0,D.default)(A).create(S,L)}function k(j,le,Z,ne,X){var pe=void 0,K=j.segmentInfoType;K!==u.default.SEGMENT_BASE&&K!==u.default.BASE_URL&&b(j,Z)?(K===u.default.SEGMENT_TIMELINE?pe=w.getSegments(j,le,Z,X):K===u.default.SEGMENT_TEMPLATE?pe=M.getSegments(j,le,Z,X):K===u.default.SEGMENT_LIST&&(pe=U.getSegments(j,le,Z,X)),ne&&ne(j,pe)):pe=j.segments}function b(j,le){var Z=j.segments,ne=!1,X=void 0,pe=void 0;return Z&&Z.length!==0?(pe=Z[0].availabilityIdx,X=Z[Z.length-1].availabilityIdx,ne=le<pe||le>X):ne=!0,ne}var A=this.context,G=void 0,w=void 0,M=void 0,U=void 0;return G={getSegments:k},B(),G}Object.defineProperty(o,"__esModule",{value:!0});var m=t(58),u=l(m),v=t(48),g=l(v),_=t(77),p=l(_),y=t(75),I=l(y),E=t(72),D=l(E);h.__dashjs_factory_name="SegmentsGetter";var R=g.default.getClassFactory(h);o.default=R,f.exports=o.default},{48:48,58:58,72:72,75:75,77:77}],74:[function(t,f,o){"use strict";function l(R){return R&&R.__esModule?R:{default:R}}function h(R,S){for(;R.length<S;)R="0"+R;return R}function m(R,S){return R.representation.startNumber+S}function u(R){return R&&R.split("$$").join("$")}function v(R,S){if(!S||!R||R.indexOf("$RepresentationID$")===-1)return R;var L=S.toString();return R.split("$RepresentationID$").join(L)}function g(R,S,L){var B="%0",k=void 0,b=void 0,A=void 0,G=void 0,w=void 0,M=void 0,U=S.length,j=B.length;if(!R)return R;for(;;){if((k=R.indexOf("$"+S))<0||(b=R.indexOf("$",k+U))<0)return R;if((A=R.indexOf(B,k+U))>k&&A<b)switch(G=R.charAt(b-1),w=parseInt(R.substring(A+j,b-1),10),G){case"d":case"i":case"u":M=h(L.toString(),w);break;case"x":M=h(L.toString(16),w);break;case"X":M=h(L.toString(16),w).toUpperCase();break;case"o":M=h(L.toString(8),w);break;default:return R}else M=L;R=R.substring(0,k)+M+R.substring(b+1)}}function _(R,S,L,B){var k=void 0,b=void 0,A=void 0,G=void 0;return b=L.segmentDuration,isNaN(b)&&(b=L.adaptation.period.duration),A=parseFloat((L.adaptation.period.start+B*b).toFixed(5)),G=parseFloat((A+b).toFixed(5)),k=new D.default,k.representation=L,k.duration=b,k.presentationStartTime=A,k.mediaStartTime=R.calcMediaTimeFromPresentationTime(k.presentationStartTime,L),k.availabilityStartTime=R.calcAvailabilityStartTimeFromPresentationTime(k.presentationStartTime,L.adaptation.period.mpd,S),k.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(G,L.adaptation.period.mpd,S),k.wallStartTime=R.calcWallTimeForSegment(k,S),k.replacementNumber=m(k,B),k.availabilityIdx=B,k}function p(R,S,L,B,k,b,A,G,w,M){var U=B/b,j=Math.min(k/b,L.adaptation.period.mpd.maxSegmentDuration),le=void 0,Z=void 0,ne=void 0;return le=R.calcPresentationTimeFromMediaTime(U,L),Z=le+j,ne=new D.default,ne.representation=L,ne.duration=j,ne.mediaStartTime=U,ne.presentationStartTime=le,ne.availabilityStartTime=L.adaptation.period.mpd.manifest.loadedTime,ne.availabilityEndTime=R.calcAvailabilityEndTimeFromPresentationTime(Z,L.adaptation.period.mpd,S),ne.wallStartTime=R.calcWallTimeForSegment(ne,S),ne.replacementTime=M||B,ne.replacementNumber=m(ne,w),A=g(A,"Number",ne.replacementNumber),A=g(A,"Time",ne.replacementTime),ne.media=A,ne.mediaRange=G,ne.availabilityIdx=w,ne}function y(R,S){if(!S||!S.segments)return null;var L=S.segments.length,B=void 0,k=void 0;if(R<L&&(B=S.segments[R])&&B.availabilityIdx===R)return B;for(k=0;k<L;k++)if((B=S.segments[k])&&B.availabilityIdx===R)return B;return null}function I(R,S,L,B,k,b){var A=L.segmentDuration,G=L.adaptation.period.mpd.manifest.minBufferTime,w=L.segmentAvailabilityRange,M={start:R.calcPeriodRelativeTimeFromMpdRelativeTime(L,w.start),end:R.calcPeriodRelativeTimeFromMpdRelativeTime(L,w.end)},U=L.segments,j=2*A,le=b||Math.max(2*G,10*A),Z=NaN,ne=null,X=void 0,pe=void 0;return M.start=Math.max(M.start,0),S&&!R.isTimeSyncCompleted()?(X=Math.floor(M.start/A),pe=Math.floor(M.end/A),{start:X,end:pe}):(U&&U.length>0?(ne=y(k,L),Z=ne?R.calcPeriodRelativeTimeFromMpdRelativeTime(L,ne.presentationStartTime):k>0?k*A:R.calcPeriodRelativeTimeFromMpdRelativeTime(L,B)):Z=k>0?k*A:S?M.end:M.start,X=Math.floor(Math.max(Z-j,M.start)/A),pe=Math.floor(Math.min(X+le/A,M.end/A)),{start:X,end:pe})}Object.defineProperty(o,"__esModule",{value:!0}),o.unescapeDollarsInTemplate=u,o.replaceIDForTemplate=v,o.replaceTokenForTemplate=g,o.getIndexBasedSegment=_,o.getTimeBasedSegment=p,o.getSegmentByIndex=y,o.decideSegmentListRangeForTemplate=I;var E=t(85),D=l(E)},{85:85}],75:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_,p){function y(E,D,R,S){var L=E.adaptation.period.mpd.manifest.Period_asArray[E.adaptation.period.index].AdaptationSet_asArray[E.adaptation.index].Representation_asArray[E.index].SegmentTemplate,B=E.segmentDuration,k=E.segmentAvailabilityRange,b=[],A=null,G=null,w=void 0,M=void 0,U=void 0,j=void 0,le=void 0;for(le=E.startNumber,w=isNaN(B)&&!p?{start:le,end:le}:(0,v.decideSegmentListRangeForTemplate)(I,p,E,D,R,S),U=w.start,j=w.end,M=U;M<=j;M++)G=(0,v.getIndexBasedSegment)(I,p,E,M),G.replacementTime=(le+M-1)*E.segmentDuration,A=L.media,A=(0,v.replaceTokenForTemplate)(A,"Number",G.replacementNumber),A=(0,v.replaceTokenForTemplate)(A,"Time",G.replacementTime),G.media=A,b.push(G),G=null;return isNaN(B)?E.availableSegmentsNumber=1:E.availableSegmentsNumber=Math.ceil((k.end-k.start)/B),b}var I=_.timelineConverter;return{getSegments:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(74);h.__dashjs_factory_name="TemplateSegmentsGetter";var g=u.default.getClassFactory(h);o.default=g,f.exports=o.default},{48:48,74:74}],76:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(){ne(),K.on(g.default.TIME_SYNCHRONIZATION_COMPLETED,le,this)}function I(){return fe}function E(ge){fe=ge}function D(){return de}function R(ge){de=ge}function S(){return re}function L(ge){re=ge}function B(ge,_e,W,ae){return ae?W&&_e.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(_e.availabilityStartTime.getTime()+1e3*(ge+_e.timeShiftBufferDepth)):_e.availabilityEndTime:W?new Date(_e.availabilityStartTime.getTime()+1e3*(ge-de)):_e.availabilityStartTime}function k(ge,_e,W){return B.call(this,ge,_e,W)}function b(ge,_e,W){return B.call(this,ge,_e,W,!0)}function A(ge,_e){return(ge.getTime()-_e.mpd.availabilityStartTime.getTime()+1e3*de)/1e3}function G(ge,_e){return ge+(_e.adaptation.period.start-_e.presentationTimeOffset)}function w(ge,_e){return ge-_e.adaptation.period.start+_e.presentationTimeOffset}function M(ge,_e){var W=void 0,ae=void 0,me=void 0;return _e&&(W=ge.representation.adaptation.period.mpd.suggestedPresentationDelay,ae=ge.presentationStartTime+W,me=new Date(ge.availabilityStartTime.getTime()+1e3*ae)),me}function U(ge,_e){var W=ge.adaptation.period,ae={start:W.start,end:W.start+W.duration};if(!_e)return ae;if(!fe&&ge.segmentAvailabilityRange)return ge.segmentAvailabilityRange;var me=ge.segmentDuration||(ge.segments&&ge.segments.length?ge.segments[ge.segments.length-1].duration:0),Te=A(new Date,W),te=W.start+W.duration;return ae.start=Math.max(Te-W.mpd.timeShiftBufferDepth,W.start),ae.end=Te>=te&&Te-me<te?te-me:Te-me,ae}function j(ge,_e){return _e-ge.adaptation.period.start}function le(ge){fe||ge.offset!==void 0&&(R(ge.offset/1e3),fe=!0)}function Z(ge){var _e=ge.presentationTimeOffset;return ge.adaptation.period.start-_e}function ne(){de=0,fe=!1,re=NaN}function X(){K.off(g.default.TIME_SYNCHRONIZATION_COMPLETED,le,this),ne()}var pe=this.context,K=(0,u.default)(pe).getInstance(),de=void 0,fe=void 0,re=void 0;return{initialize:y,isTimeSyncCompleted:I,setTimeSyncCompleted:E,getClientTimeOffset:D,setClientTimeOffset:R,getExpectedLiveEdge:S,setExpectedLiveEdge:L,calcAvailabilityStartTimeFromPresentationTime:k,calcAvailabilityEndTimeFromPresentationTime:b,calcPresentationTimeFromWallTime:A,calcPresentationTimeFromMediaTime:G,calcPeriodRelativeTimeFromMpdRelativeTime:j,calcMediaTimeFromPresentationTime:w,calcSegmentAvailabilityRange:U,calcWallTimeForSegment:M,calcMSETimeOffset:Z,reset:X}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_);h.__dashjs_factory_name="TimelineConverter",o.default=p.default.getSingletonFactory(h),f.exports=o.default},{47:47,48:48,51:51}],77:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_,p){function y(){if(!(E&&E.hasOwnProperty("calcMediaTimeFromPresentationTime")&&E.hasOwnProperty("calcSegmentAvailabilityRange")&&E.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}function I(D,R,S,L){if(y(),!D)throw new Error("no representation");R===void 0&&(R=null);var B=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,k=B.SegmentTimeline,b=B.SegmentURL_asArray,A=D.availableSegmentsNumber>0,G=void 0;G=L||(S>-1||R!==null?10:1/0);var w=0,M=0,U=-1,j=[],le=null,Z=void 0,ne=void 0,X=void 0,pe=void 0,K=void 0,de=void 0,fe=void 0,re=void 0,ge=void 0,_e=void 0,W=void 0,ae=function(Te,te){var ue=B.media,ve=Te.mediaRange;return b&&(ue=b[te].media||"",ve=b[te].mediaRange),(0,v.getTimeBasedSegment)(E,p,D,w,Te.d,W,ue,ve,U,Te.tManifest)};for(W=D.timescale,Z=k.S_asArray,_e=S,R!==null&&(le=E.calcMediaTimeFromPresentationTime(R,D)),X=0,pe=Z.length;X<pe;X++){if(ne=Z[X],de=0,ne.hasOwnProperty("r")&&(de=ne.r),ne.hasOwnProperty("t")&&(w=ne.t,M=w/W),de<0){if((re=Z[X+1])&&re.hasOwnProperty("t"))fe=re.t/W;else{var me=D.segmentAvailabilityRange?D.segmentAvailabilityRange.end:E.calcSegmentAvailabilityRange(D,p).end;fe=E.calcMediaTimeFromPresentationTime(me,D),D.segmentDuration=ne.d/W}de=Math.ceil((fe-M)/(ne.d/W))-1}if(ge){if(A)break;U+=de+1}else for(K=0;K<=de;K++)if(U++,j.length>G){if(ge=!0,A)break}else le!==null?M>=le-ne.d/W*1.5&&j.push(ae(ne,U)):U>=_e&&j.push(ae(ne,U)),w+=ne.d,M=w/W}return A||(D.availableSegmentsNumber=U+1),j}_=_||{};var E=_.timelineConverter;return{getSegments:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(74);h.__dashjs_factory_name="TimelineSegmentsGetter";var g=u.default.getClassFactory(h);o.default=g,f.exports=o.default},{48:48,74:74}],78:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.period=null,this.index=-1,this.type=null};o.default=h,f.exports=o.default},{}],79:[function(t,f,o){"use strict";function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=1,m=1,u=function v(g,_,p,y){l(this,v),this.url=g||"",this.serviceLocation=_||g||"",this.dvb_priority=p||h,this.dvb_weight=y||m};u.DEFAULT_DVB_PRIORITY=h,u.DEFAULT_DVB_WEIGHT=m,o.default=u,f.exports=o.default},{}],80:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};o.default=h,f.exports=o.default},{}],81:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};o.default=h,f.exports=o.default},{}],82:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};o.default=h,f.exports=o.default},{}],83:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};h.DEFAULT_ID="defaultId",o.default=h,f.exports=o.default},{}],84:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var m=function(){function _(p,y){for(var I=0;I<y.length;I++){var E=y[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}return function(p,y,I){return y&&_(p.prototype,y),I&&_(p,I),p}}(),u=t(58),v=l(u),g=function(){function _(){h(this,_),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN}return m(_,null,[{key:"hasInitialization",value:function(p){return p.initialization!==null||p.range!==null}},{key:"hasSegments",value:function(p){return p.segmentInfoType!==v.default.BASE_URL&&p.segmentInfoType!==v.default.SEGMENT_BASE&&!p.indexRange}}]),_}();o.default=g,f.exports=o.default},{58:58}],85:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};o.default=h,f.exports=o.default},{}],86:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.schemeIdUri="",this.value=""};o.default=h,f.exports=o.default},{}],87:[function(t,f,o){"use strict";function l(A){return A&&A.__esModule?A:{default:A}}function h(A){function G(){X=(0,u.default)(le).create({errHandler:A.errHandler,metricsModel:A.metricsModel,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier})}function w(pe){var K=function(fe){Z.trigger(D.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:pe,exists:fe})};if(pe){var de=new g.default(pe.url);X.load({request:de,success:function(){K(!0)},error:function(){K(!1)}})}else K(!1)}function M(pe){var K=function(de,fe){Z.trigger(D.default.LOADING_COMPLETED,{request:pe,response:de||null,error:fe||null,sender:ne})};pe?X.load({request:pe,progress:function(){Z.trigger(D.default.LOADING_PROGRESS,{request:pe})},success:function(de){K(de)},error:function(de,fe,re){K(void 0,new p.default(L,re,fe))},abort:function(de,fe){de&&fe===0&&Z.trigger(D.default.LOADING_ABANDONED,{request:de,mediaType:de.mediaType,sender:ne})}}):K(void 0,new p.default(B,k))}function U(){X&&X.abort()}function j(){X&&(X.abort(),X=null)}A=A||{};var le=this.context,Z=(0,I.default)(le).getInstance(),ne=void 0,X=void 0;return ne={checkForExistence:w,load:M,abort:U,reset:j},G(),ne}Object.defineProperty(o,"__esModule",{value:!0});var m=t(96),u=l(m),v=t(163),g=l(v),_=t(160),p=l(_),y=t(47),I=l(y),E=t(51),D=l(E),R=t(48),S=l(R),L=1,B=2,k="request is null";h.__dashjs_factory_name="FragmentLoader";var b=S.default.getClassFactory(h);b.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=L,b.FRAGMENT_LOADER_ERROR_NULL_REQUEST=B,S.default.updateClassFactory(h.__dashjs_factory_name,b),o.default=b,f.exports=o.default},{160:160,163:163,47:47,48:48,51:51,96:96}],88:[function(t,f,o){"use strict";function l(K){return K&&K.__esModule?K:{default:K}}function h(K){function de(){ae.on(A.default.XLINK_READY,fe,ue),ve=(0,p.default)(W).create({errHandler:x,metricsModel:K.metricsModel,mediaPlayerModel:K.mediaPlayerModel,requestModifier:K.requestModifier}),ye=(0,g.default)(W).create({errHandler:x,metricsModel:K.metricsModel,mediaPlayerModel:K.mediaPlayerModel,requestModifier:K.requestModifier}),se=null}function fe(q){ae.trigger(A.default.INTERNAL_MANIFEST_LOADED,{manifest:q.manifest})}function re(q){var P=null;return q.indexOf("SmoothStreamingMedia")>-1?(Ie?(P=Ie.createMssParser(),Ie.registerEvents()):x.manifestError("manifest type unsupported","createParser"),P):q.indexOf("MPD")>-1?(0,U.default)(W).create({errorHandler:x}):P}function ge(q){var P=new D.default(q,L.HTTPRequest.MPD_TYPE);ve.load({request:P,success:function(N,Q,z){var oe=void 0,he=void 0;if(z.responseURL&&z.responseURL!==q?(he=me.parseBaseUrl(z.responseURL),oe=z.responseURL):(me.isRelative(q)&&(q=me.resolve(q,window.location.href)),he=me.parseBaseUrl(q)),se===null&&(se=re(N)),se===null)return void ae.trigger(A.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(Z,"Failed detecting manifest type: "+q)});ye.setMatchers(se.getMatchers()),ye.setIron(se.getIron());var d=se.parse(N);d?(d.url=oe||q,d.originalUrl||(d.originalUrl=d.url),d.hasOwnProperty(u.default.LOCATION)&&(he=me.parseBaseUrl(d.Location_asArray[0]),te("BaseURI set by Location to: "+he)),d.baseUri=he,d.loadedTime=new Date,ye.resolveManifestOnLoad(d)):ae.trigger(A.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(Z,X)})},error:function(N,Q,z){ae.trigger(A.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new S.default(ne,"Failed loading manifest: "+q+", "+z)})}})}function _e(){ae.off(A.default.XLINK_READY,fe,ue),ye&&(ye.reset(),ye=null),ve&&(ve.abort(),ve=null),Ie&&Ie.reset()}K=K||{};var W=this.context,ae=(0,k.default)(W).getInstance(),me=(0,I.default)(W).getInstance(),Te=(0,le.default)(W).getInstance(),te=Te.log,ue=void 0,ve=void 0,ye=void 0,se=void 0,Ie=K.mssHandler,x=K.errHandler;return ue={load:ge,reset:_e},de(),ue}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(112),g=l(v),_=t(96),p=l(_),y=t(155),I=l(y),E=t(170),D=l(E),R=t(160),S=l(R),L=t(179),B=t(47),k=l(B),b=t(51),A=l(b),G=t(48),w=l(G),M=t(61),U=l(M),j=t(46),le=l(j),Z=1,ne=2,X="parsing failed";h.__dashjs_factory_name="ManifestLoader";var pe=w.default.getClassFactory(h);pe.MANIFEST_LOADER_ERROR_PARSING_FAILURE=Z,pe.MANIFEST_LOADER_ERROR_LOADING_FAILURE=ne,w.default.updateClassFactory(h.__dashjs_factory_name,pe),o.default=pe,f.exports=o.default},{112:112,155:155,160:160,170:170,179:179,46:46,47:47,48:48,51:51,61:61,96:96,98:98}],89:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(){function E(W){W&&(W.manifestModel&&(re=W.manifestModel),W.dashManifestModel&&(ge=W.dashManifestModel),W.mediaPlayerModel&&(_e=W.mediaPlayerModel),W.manifestLoader&&(fe=W.manifestLoader))}function D(){S(),ne.on(g.default.STREAMS_COMPOSED,j,this),ne.on(g.default.PLAYBACK_STARTED,M,this),ne.on(g.default.PLAYBACK_PAUSED,U,this),ne.on(g.default.INTERNAL_MANIFEST_LOADED,w,this)}function R(W){A(W)}function S(){X=NaN,de=!1,K=!0,B()}function L(){ne.off(g.default.PLAYBACK_STARTED,M,this),ne.off(g.default.PLAYBACK_PAUSED,U,this),ne.off(g.default.STREAMS_COMPOSED,j,this),ne.off(g.default.INTERNAL_MANIFEST_LOADED,w,this),S()}function B(){pe!==null&&(clearInterval(pe),pe=null)}function k(){B(),isNaN(X)||(Z("Refresh manifest in "+X+" seconds."),pe=setTimeout(G,1e3*X))}function b(){de=!0;var W=re.getValue(),ae=W.url,me=ge.getLocation(W);me&&(ae=me),fe.load(ae)}function A(W){re.setValue(W);var ae=new Date,me=(ae.getTime()-W.loadedTime.getTime())/1e3;X=ge.getManifestUpdatePeriod(W,me),ne.trigger(g.default.MANIFEST_UPDATED,{manifest:W}),Z("Manifest has been refreshed at "+ae+"["+ae.getTime()/1e3+"] "),K||k()}function G(){K&&!_e.getScheduleWhilePaused()||de||b()}function w(W){W.error||A(W.manifest)}function M(){K=!1,k()}function U(){K=!0,B()}function j(){de=!1}var le=this.context,Z=(0,I.default)(le).getInstance().log,ne=(0,u.default)(le).getInstance(),X=void 0,pe=void 0,K=void 0,de=void 0,fe=void 0,re=void 0,ge=void 0,_e=void 0;return{initialize:D,setManifest:R,refreshManifest:b,setConfig:E,reset:L}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_),y=t(46),I=l(y);h.__dashjs_factory_name="ManifestUpdater",o.default=p.default.getClassFactory(h),f.exports=o.default},{46:46,47:47,48:48,51:51}],90:[function(t,f,o){"use strict";function l(rt){return rt&&rt.__esModule?rt:{default:rt}}function h(){function rt(){fi=!1,Qt=!1,ei=!1,en=!0,si=null,$i=null,li=null,x.default.extend(P.default),Rt=(0,fe.default)(Ot).getInstance(),Gt=(0,me.default)(Ot).getInstance()}function ke(Ce){Ce&&(Ce.capabilities&&(Di=Ce.capabilities),Ce.streamController&&(qt=Ce.streamController),Ce.playbackController&&(Zt=Ce.playbackController),Ce.mediaPlayerModel&&(Rt=Ce.mediaPlayerModel),Ce.abrController&&(Bt=Ce.abrController),Ce.mediaController&&($t=Ce.mediaController))}function Xe(Ce,ot,St){if(Di||(Di=(0,G.default)(Ot).getInstance()),Si=(0,b.default)(Ot).getInstance(),!Di.supportsMediaSource())return void Si.capabilityError("mediasource");fi||(fi=!0,On=(0,ce.default)(Ot).getInstance(),Bt||(Bt=(0,W.default)(Ot).getInstance()),Zt||(Zt=(0,I.default)(Ot).getInstance()),$t||($t=(0,S.default)(Ot).getInstance()),li=(0,he.default)(Ot).getInstance(),Ri=(0,C.default)(Ot).getInstance({mediaController:$t,timelineConverter:On,adapter:li}),Gi=(0,K.default)(Ot).getInstance(),Vi=(0,H.default)(Ot).getInstance({manifestModel:Gi,dashManifestModel:Ri}),di=(0,ge.default)(Ot).getInstance(),Wt=(0,Z.default)(Ot).getInstance(),yn=(0,te.default)(Ot).getInstance({mediaPlayerModel:Rt}),li.setConfig({dashManifestModel:Ri}),di.setConfig({adapter:li}),ni(),Ct(St===void 0||St),Ce&&Mn(Ce),ot&&xn(ot),Ei("[dash.js "+Ze()+"] MediaPlayer has been initialized"))}function Qe(){xn(null),Mn(null),$i=null,si&&(si.reset(),si=null),tn&&(tn.reset(),tn=null)}function ze(){return!!vi&&!!Gt.getElement()}function pt(Ce,ot,St){Ni.on(Ce,ot,St)}function mt(Ce,ot,St){Ni.off(Ce,ot,St)}function Ze(){return(0,z.getVersionString)()}function $e(){return dr}function Ge(){if(Gt.getElement()||ei)return!1;if(!vi)throw fr;Nn()}function Le(){if(!Qt)throw ui;(!en||at()&&Qt)&&Zt.play()}function He(){if(!Qt)throw ui;Zt.pause()}function at(){if(!Qt)throw ui;return Zt.isPaused()}function et(Ce){if(!Qt)throw ui;if(typeof Ce!="number"||isNaN(Ce))throw js;var ot=Zt.getIsDynamic()?r(Ce):Ce;Zt.seek(ot)}function qe(){if(!Qt)throw ui;return Zt.isSeeking()}function Ye(){if(!Qt)throw ui;return Zt.getIsDynamic()}function it(Ce){if(!Gt.getElement())throw Ti;gi().playbackRate=Ce}function ct(){if(!Gt.getElement())throw Ti;return gi().playbackRate}function lt(Ce){if(!Gt.getElement())throw Ti;gi().muted=Ce}function J(){if(!Gt.getElement())throw Ti;return gi().muted}function De(Ce){if(!Gt.getElement())throw Ti;gi().volume=Ce}function e(){if(!Gt.getElement())throw Ti;return gi().volume}function i(Ce){var ot=[u.default.VIDEO,u.default.AUDIO,u.default.FRAGMENTED_TEXT];if(Ce){if(ot.indexOf(Ce)!==-1){var St=Dn().getCurrentBufferLevel(Rn(Ce));return St||NaN}return Ei("Warning  - getBufferLength requested for invalid type"),NaN}var St=ot.map(function(zt){return or(zt).length>0?Dn().getCurrentBufferLevel(Rn(zt)):Number.MAX_VALUE}).reduce(function(zt,_i){return Math.min(zt,_i)});return St===Number.MAX_VALUE?NaN:St}function n(){var Ce=Ji();return Ce?Ce.manifestInfo.DVRWindowSize:0}function r(Ce){var ot=Ji(),St=Zt.getLiveDelay();if(!ot)return 0;var zt=ot.range.start+Ce;return zt>ot.range.end-St&&(zt=ot.range.end-St),zt}function c(Ce){if(!Qt)throw ui;var ot=gi().currentTime;if(Ce!==void 0)ot=qt.getTimeRelativeToStreamId(ot,Ce);else if(Zt.getIsDynamic()){var St=Ji();ot=St===null?0:T()-(St.range.end-St.time)}return ot}function T(){if(!Qt)throw ui;var Ce=gi().duration;if(Zt.getIsDynamic()){var ot=Ji(),St=void 0;if(!ot)return 0;St=ot.range.end-ot.range.start,Ce=St<ot.manifestInfo.DVRWindowSize?St:ot.manifestInfo.DVRWindowSize}return Ce}function O(){if(!Qt)throw ui;return c()<0?NaN:ur(c())}function V(){if(!Qt)throw ui;return ur(T())}function ee(Ce,ot){Bt.setMaxAllowedBitrateFor(Ce,ot)}function Ee(Ce,ot){Bt.setMinAllowedBitrateFor(Ce,ot)}function we(Ce){return Bt.getMaxAllowedBitrateFor(Ce)}function Re(Ce){return Bt.getMinAllowedBitrateFor(Ce)}function Ne(Ce,ot){Bt.setMaxAllowedRepresentationRatioFor(Ce,ot)}function be(Ce){return Bt.getMaxAllowedRepresentationRatioFor(Ce)}function Ae(Ce){if(!ei)throw mi;if(Ce===u.default.IMAGE){var ot=_n();if(!ot)return-1;var St=ot.getThumbnailController();return St?St.getCurrentTrackIndex():-1}return Bt.getQualityFor(Ce,qt.getActiveStreamInfo())}function Ue(Ce,ot){if(!ei)throw mi;if(Ce===u.default.IMAGE){var St=_n();if(!St)return;var zt=St.getThumbnailController();zt&&zt.setTrackByIndex(ot)}Bt.setPlaybackQuality(Ce,qt.getActiveStreamInfo(),ot)}function We(){Bt.setElementSize(),Bt.setWindowResizeEventCalled(!0)}function st(){return Bt.getLimitBitrateByPortal()}function dt(Ce){Bt.setLimitBitrateByPortal(Ce)}function yt(){return Bt.getUsePixelRatioInLimitBitrateByPortal()}function Et(Ce){Bt.setUsePixelRatioInLimitBitrateByPortal(Ce)}function Tt(Ce,ot){Bt.setInitialBitrateFor(Ce,ot)}function _t(Ce){if(!ei)throw mi;return Bt.getInitialBitrateFor(Ce)}function Ve(Ce,ot){Bt.setInitialRepresentationRatioFor(Ce,ot)}function ut(Ce){return Bt.getInitialRepresentationRatioFor(Ce)}function ht(Ce){return Bt.getAutoSwitchBitrateFor(Ce)}function It(Ce,ot){Bt.setAutoSwitchBitrateFor(Ce,ot)}function bt(){return Bt.getUseDeadTimeLatency()}function Dt(Ce){Bt.setUseDeadTimeLatency(Ce)}function Ct(Ce){en=Ce}function xt(){return en}function Nt(Ce){Rt.setLiveDelayFragmentCount(Ce)}function Pt(Ce){Rt.setLiveDelay(Ce)}function Ft(){return Rt.getLiveDelay()}function Be(Ce){Rt.setUseSuggestedPresentationDelay(Ce)}function ft(Ce,ot){Rt.setLastBitrateCachingInfo(Ce,ot)}function ie(Ce,ot){Rt.setLastMediaSettingsCachingInfo(Ce,ot)}function Me(Ce){Rt.setScheduleWhilePaused(Ce)}function je(){return Rt.getScheduleWhilePaused()}function Je(Ce){Rt.setFastSwitchEnabled(Ce)}function nt(){return Rt.getFastSwitchEnabled()}function gt(Ce){Ce===u.default.ABR_STRATEGY_DYNAMIC||Ce===u.default.ABR_STRATEGY_BOLA||Ce===u.default.ABR_STRATEGY_THROUGHPUT?Rt.setABRStrategy(Ce):Ei("Warning: Ignoring setABRStrategy("+Ce+") - unknown value.")}function wt(){return Rt.getABRStrategy()}function Mt(Ce){Rt.setUseDefaultABRRules(Ce)}function Vt(Ce,ot,St){Rt.addABRCustomRule(Ce,ot,St)}function Lt(Ce){Rt.removeABRCustomRule(Ce)}function Ut(){Rt.removeAllABRCustomRule()}function Ci(Ce){Ce===u.default.MOVING_AVERAGE_SLIDING_WINDOW||Ce===u.default.MOVING_AVERAGE_EWMA?Rt.setMovingAverageMethod(Ce):Ei("Warning: Ignoring setMovingAverageMethod("+Ce+") - unknown value.")}function ii(){return Rt.getMovingAverageMethod()}function pi(Ce,ot){ri(Ce,ot);var St=new p.default;St.schemeIdUri=Ce,St.value=ot,Rt.getUTCTimingSources().push(St)}function ri(Ce,ot){var St=Rt.getUTCTimingSources();St.forEach(function(zt,_i){zt.schemeIdUri===Ce&&zt.value===ot&&St.splice(_i,1)})}function ai(){Rt.setUTCTimingSources([])}function ni(){pi(fe.default.DEFAULT_UTC_TIMING_SOURCE.scheme,fe.default.DEFAULT_UTC_TIMING_SOURCE.value)}function tt(Ce){Rt.setUseManifestDateHeaderTimeSource(Ce)}function At(Ce){Rt.setBufferToKeep(Ce)}function Wi(Ce){Rt.setBufferAheadToKeep(Ce)}function Zi(Ce){Rt.setBufferPruningInterval(Ce)}function Hr(Ce){Rt.setStableBufferTime(Ce)}function Wr(){return Rt.getStableBufferTime()}function Vr(Ce){Rt.setBufferTimeAtTopQuality(Ce)}function Gr(){return Rt.getBufferTimeAtTopQuality()}function zr(Ce){Rt.setBufferTimeAtTopQualityLongForm(Ce)}function jr(){return Rt.getBufferTimeAtTopQualityLongForm()}function qr(Ce){Rt.setLongFormContentDurationThreshold(Ce)}function Yr(Ce){Rt.setSegmentOverlapToleranceTime(Ce)}function Xr(Ce,ot){Rt.setCacheLoadThresholdForType(Ce,ot)}function Kr(Ce){Rt.setBandwidthSafetyFactor(Ce)}function Qr(){return Rt.getBandwidthSafetyFactor()}function Zr(Ce){var ot=Bt.getThroughputHistory();return ot?ot.getAverageThroughput(Ce):0}function Jr(Ce){Rt.setAbandonLoadTimeout(Ce)}function $r(Ce){Rt.setFragmentRetryAttempts(Ce)}function es(Ce){Rt.setFragmentRetryInterval(Ce)}function ts(Ce){Rt.setManifestRetryAttempts(Ce)}function is(Ce){Rt.setManifestRetryInterval(Ce)}function ns(Ce,ot){Rt.setXHRWithCredentialsForType(Ce,ot)}function rs(Ce){return Rt.getXHRWithCredentialsForType(Ce)}function ss(Ce){Rt.setJumpGaps(Ce)}function os(){return Rt.getJumpGaps()}function as(Ce){Rt.setSmallGapLimit(Ce)}function ls(){return Rt.getSmallGapLimit()}function Dn(){return Vi}function Rn(Ce){return di.getReadOnlyMetricsFor(Ce)}function us(Ce){Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.setTextDefaultLanguage(Ce)}function fs(){return Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.getTextDefaultLanguage()}function ds(Ce){Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.setTextDefaultEnabled(Ce)}function hs(){return Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.getTextDefaultEnabled()}function cs(Ce){Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.enableText(Ce)}function ps(){return Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.isTextEnabled()}function gs(Ce){if(!Qt)throw ui;Wt===void 0&&(Wt=(0,Z.default)(Ot).getInstance()),Wt.setTextTrack(Ce)}function ms(){var Ce=NaN;return Wt&&(Ce=Wt.getCurrentTrackIdx()),Ce}function vs(Ce){var ot=(0,M.default)(Ot).getInstance();ot.setConfig({videoModel:Gt}),ot.initialize(),ot.displayCConTop(Ce)}function gi(){if(!Gt.getElement())throw Ti;return Gt.getElement()}function _s(){return Gt?Gt.getVideoContainer():null}function ys(Ce){if(!Gt.getElement())throw Ti;Gt.setVideoContainer(Ce)}function Mn(Ce){if(!fi)throw Ai;Ce&&(Gt.setElement(Ce),Pn(),Gs(),zs(),qt&&qt.switchToVideoElement()),Qt&&ar(),Nn()}function Ts(){return Gt?Gt.getTTMLRenderingDiv():null}function Es(Ce){if(!Gt.getElement())throw Ti;Gt.setTTMLRenderingDiv(Ce)}function ws(Ce){if(!ei)throw mi;var ot=_n();return ot?ot.getBitrateListFor(Ce):[]}function Is(Ce){if(!ei)throw mi;return li.getStreamsInfo(Ce)}function or(Ce){if(!ei)throw mi;var ot=qt.getActiveStreamInfo();return ot?$t.getTracksFor(Ce,ot):[]}function bs(Ce,ot,St){if(!ei)throw mi;return St=St||li.getStreamsInfo(ot)[0],St?li.getAllMediaInfoForType(St,Ce,ot):[]}function Cs(Ce){if(!ei)throw mi;var ot=qt.getActiveStreamInfo();return ot?$t.getCurrentTrackFor(Ce,ot):null}function As(Ce,ot){if(!fi)throw Ai;$t.setInitialSettings(Ce,ot)}function Ss(Ce){if(!fi)throw Ai;return $t.getInitialSettings(Ce)}function Ds(Ce){if(!ei)throw mi;$t.setTrack(Ce)}function Rs(Ce){if(!fi)throw Ai;return $t.getSwitchMode(Ce)}function Ms(Ce,ot){if(!fi)throw Ai;$t.setSwitchMode(Ce,ot)}function xs(Ce){if(!fi)throw Ai;$t.setSelectionModeForInitialTrack(Ce)}function Ps(){if(!fi)throw Ai;return $t.getSelectionModeForInitialTrack()}function Ns(){return Pn()}function Os(Ce){si=Ce}function Fs(Ce){$i=Ce,qt&&qt.setProtectionData($i)}function ks(Ce){if(Ce<0)return null;var ot=Zt.getIsDynamic()?r(Ce):Ce,St=qt.getStreamForTime(ot);if(St===null)return null;var zt=St.getThumbnailController(),_i=St.getStreamInfo();if(!zt||!_i)return null;var zi=qt.getTimeRelativeToStreamId(ot,St.getId());return zt.get(zi)}function Ls(Ce,ot){var St=lr(),zt=this,_i=function Tn(kn){kn.error?ot(null,kn.error):ot(kn.manifest),Ni.off(x.default.INTERNAL_MANIFEST_LOADED,Tn,zt),St.reset()};Ni.on(x.default.INTERNAL_MANIFEST_LOADED,_i,zt);var zi=(0,X.default)(Ot).getInstance();zi.initialize(),St.load(zi.parseURI(Ce))}function Bs(){if(!vi)throw fr;return vi}function xn(Ce){if(!fi)throw Ai;if(typeof Ce=="string"){var ot=(0,X.default)(Ot).getInstance();ot.initialize(),vi=ot.parseURI(Ce)}else vi=Ce;(ei||Qt)&&ar(),ze()&&Nn()}function Us(Ce,ot,St){var zt=!(arguments.length<=3||arguments[3]===void 0)&&arguments[3],_i=new Date(1e3*Ce),zi=_i.toLocaleDateString(ot),Tn=_i.toLocaleTimeString(ot,{hour12:St});return zt?Tn+" "+zi:Tn}function Hs(Ce){Ce=Math.max(Ce,0);var ot=Math.floor(Ce/3600),St=Math.floor(Ce%3600/60),zt=Math.floor(Ce%3600%60);return(ot===0?"":ot<10?"0"+ot.toString()+":":ot.toString()+":")+(St<10?"0"+St.toString():St.toString())+":"+(zt<10?"0"+zt.toString():zt.toString())}function Ws(Ce,ot,St){Q.default.extend(Ce,ot,St,Ot)}function ar(){Qt=!1,ei=!1,li.reset(),qt.reset(),Zt.reset(),Bt.reset(),$t.reset(),Wt.reset(),si&&(si.reset(),si=null,Pn())}function Vs(){var Ce=lr();qt||(qt=(0,D.default)(Ot).getInstance()),$t.setConfig({errHandler:Si,domStorage:yn}),qt.setConfig({capabilities:Di,manifestLoader:Ce,manifestModel:Gi,dashManifestModel:Ri,mediaPlayerModel:Rt,protectionController:si,adapter:li,metricsModel:di,dashMetrics:Vi,errHandler:Si,timelineConverter:On,videoModel:Gt,playbackController:Zt,domStorage:yn,abrController:Bt,mediaController:$t,textController:Wt}),Zt.setConfig({streamController:qt,metricsModel:di,dashMetrics:Vi,manifestModel:Gi,mediaPlayerModel:Rt,dashManifestModel:Ri,adapter:li,videoModel:Gt}),Bt.setConfig({streamController:qt,domStorage:yn,mediaPlayerModel:Rt,metricsModel:di,dashMetrics:Vi,dashManifestModel:Ri,manifestModel:Gi,videoModel:Gt,adapter:li}),Bt.createAbrRulesCollection(),Wt.setConfig({errHandler:Si,manifestModel:Gi,dashManifestModel:Ri,mediaController:$t,streamController:qt,videoModel:Gt}),qt.initialize(en,$i)}function lr(){return(0,B.default)(Ot).create({errHandler:Si,metricsModel:di,mediaPlayerModel:Rt,requestModifier:(0,j.default)(Ot).getInstance(),mssHandler:Fn})}function Pn(){if(si)return si;var Ce=dashjs.Protection;if(typeof Ce=="function"){var ot=Ce(Ot).create();return x.default.extend(Ce.events),P.default.extend(Ce.events,{publicOnly:!0}),Di||(Di=(0,G.default)(Ot).getInstance()),si=ot.createProtectionSystem({log:Ei,errHandler:Si,videoModel:Gt,capabilities:Di,eventBus:Ni,events:x.default,BASE64:Pe.default,constants:u.default})}return null}function Gs(){if(!tn){var Ce=dashjs.MetricsReporting;if(typeof Ce=="function"){var ot=Ce(Ot).create();tn=ot.createMetricsReporting({log:Ei,eventBus:Ni,mediaElement:gi(),dashManifestModel:Ri,metricsModel:di,events:x.default,constants:u.default,metricsConstants:g.default})}}}function zs(){if(!Fn){var Ce=dashjs.MssHandler;typeof Ce=="function"&&(Fn=Ce(Ot).create({eventBus:Ni,mediaPlayerModel:Rt,metricsModel:di,playbackController:Zt,protectionController:si,errHandler:Si,events:x.default,constants:u.default,log:Ei,initSegmentType:xe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Pe.default,ISOBoxer:Fe.default}))}}function Ji(){var Ce=di.getReadOnlyMetricsFor(u.default.VIDEO)||di.getReadOnlyMetricsFor(u.default.AUDIO);return Vi.getCurrentDVRInfo(Ce)}function ur(Ce){var ot=Ji(),St=void 0;return ot?(St=ot.manifestInfo.availableFrom.getTime()/1e3,Ce+(St+ot.range.start)):0}function _n(){if(!ei)throw mi;var Ce=qt.getActiveStreamInfo();return Ce?qt.getStreamById(Ce.id):null}function Nn(){!ei&&vi&&(ei=!0,Ei("Streaming Initialized"),Vs(),typeof vi=="string"?qt.load(vi):qt.loadWithManifest(vi)),!Qt&&ze()&&(Qt=!0,Ei("Playback Initialized"))}var mi="You must first call initialize() and set a source before calling this method",ui="You must first call initialize() and set a valid source and view before calling this method",Ti="You must first call attachView() to set the video element before calling this method",fr="You must first call attachSource() with a valid source before calling this method",Ai="MediaPlayer not initialized!",js="MediaPlayer Invalid Arguments!",Ot=this.context,Ni=(0,se.default)(Ot).getInstance(),dr=(0,ve.default)(Ot).getInstance(),Ei=dr.log,hr=void 0,vi=void 0,$i=void 0,fi=void 0,ei=void 0,Qt=void 0,en=void 0,Bt=void 0,On=void 0,$t=void 0,si=void 0,tn=void 0,Fn=void 0,li=void 0,di=void 0,Rt=void 0,Si=void 0,Di=void 0,qt=void 0,Zt=void 0,Vi=void 0,Ri=void 0,Gi=void 0,Gt=void 0,Wt=void 0,yn=void 0;return hr={initialize:Xe,setConfig:ke,on:pt,off:mt,extend:Ws,attachView:Mn,attachSource:xn,isReady:ze,preload:Ge,play:Le,isPaused:at,pause:He,isSeeking:qe,isDynamic:Ye,seek:et,setPlaybackRate:it,getPlaybackRate:ct,setMute:lt,isMuted:J,setVolume:De,getVolume:e,time:c,duration:T,timeAsUTC:O,durationAsUTC:V,getActiveStream:_n,getDVRWindowSize:n,getDVRSeekOffset:r,convertToTimeCode:Hs,formatUTC:Us,getVersion:Ze,getDebug:$e,getBufferLength:i,getVideoContainer:_s,getTTMLRenderingDiv:Ts,getVideoElement:gi,getSource:Bs,setLiveDelayFragmentCount:Nt,setLiveDelay:Pt,getLiveDelay:Ft,useSuggestedPresentationDelay:Be,enableLastBitrateCaching:ft,enableLastMediaSettingsCaching:ie,setMaxAllowedBitrateFor:ee,getMaxAllowedBitrateFor:we,setMinAllowedBitrateFor:Ee,getMinAllowedBitrateFor:Re,setMaxAllowedRepresentationRatioFor:Ne,getMaxAllowedRepresentationRatioFor:be,setAutoPlay:Ct,getAutoPlay:xt,setScheduleWhilePaused:Me,getScheduleWhilePaused:je,getDashMetrics:Dn,getMetricsFor:Rn,getQualityFor:Ae,setQualityFor:Ue,updatePortalSize:We,getLimitBitrateByPortal:st,setLimitBitrateByPortal:dt,getUsePixelRatioInLimitBitrateByPortal:yt,setUsePixelRatioInLimitBitrateByPortal:Et,setTextDefaultLanguage:us,getTextDefaultLanguage:fs,setTextDefaultEnabled:ds,getTextDefaultEnabled:hs,enableText:cs,isTextEnabled:ps,setTextTrack:gs,getBitrateInfoListFor:ws,setInitialBitrateFor:Tt,getInitialBitrateFor:_t,setInitialRepresentationRatioFor:Ve,getInitialRepresentationRatioFor:ut,getStreamsFromManifest:Is,getTracksFor:or,getTracksForTypeFromManifest:bs,getCurrentTrackFor:Cs,setInitialMediaSettingsFor:As,getInitialMediaSettingsFor:Ss,setCurrentTrack:Ds,getTrackSwitchModeFor:Rs,setTrackSwitchModeFor:Ms,setSelectionModeForInitialTrack:xs,getSelectionModeForInitialTrack:Ps,setFastSwitchEnabled:Je,getFastSwitchEnabled:nt,setMovingAverageMethod:Ci,getMovingAverageMethod:ii,getAutoSwitchQualityFor:ht,setAutoSwitchQualityFor:It,setABRStrategy:gt,getABRStrategy:wt,useDefaultABRRules:Mt,addABRCustomRule:Vt,removeABRCustomRule:Lt,removeAllABRCustomRule:Ut,setBandwidthSafetyFactor:Kr,getBandwidthSafetyFactor:Qr,getAverageThroughput:Zr,setAbandonLoadTimeout:Jr,retrieveManifest:Ls,addUTCTimingSource:pi,removeUTCTimingSource:ri,clearDefaultUTCTimingSources:ai,restoreDefaultUTCTimingSources:ni,setBufferToKeep:At,setBufferAheadToKeep:Wi,setBufferPruningInterval:Zi,setStableBufferTime:Hr,getStableBufferTime:Wr,setBufferTimeAtTopQuality:Vr,getBufferTimeAtTopQuality:Gr,setBufferTimeAtTopQualityLongForm:zr,getBufferTimeAtTopQualityLongForm:jr,setFragmentLoaderRetryAttempts:$r,setFragmentLoaderRetryInterval:es,setManifestLoaderRetryAttempts:ts,setManifestLoaderRetryInterval:is,setXHRWithCredentialsForType:ns,getXHRWithCredentialsForType:rs,setJumpGaps:ss,getJumpGaps:os,setSmallGapLimit:as,getSmallGapLimit:ls,setLongFormContentDurationThreshold:qr,setSegmentOverlapToleranceTime:Yr,setCacheLoadThresholdForType:Xr,getProtectionController:Ns,attachProtectionController:Os,setProtectionData:Fs,enableManifestDateHeaderTimeSource:tt,displayCaptionsOnTop:vs,attachVideoContainer:ys,attachTTMLRenderingDiv:Es,getCurrentTextTrackIndex:ms,getUseDeadTimeLatencyForAbr:bt,setUseDeadTimeLatencyForAbr:Dt,getThumbnail:ks,reset:Qe},rt(),hr}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(99),g=l(v),_=t(86),p=l(_),y=t(108),I=l(y),E=t(110),D=l(E),R=t(106),S=l(R),L=t(88),B=l(L),k=t(148),b=l(k),A=t(144),G=l(A),w=t(139),M=l(w),U=t(153),j=l(U),le=t(137),Z=l(le),ne=t(118),X=l(ne),pe=t(115),K=l(pe),de=t(116),fe=l(de),re=t(117),ge=l(re),_e=t(100),W=l(_e),ae=t(119),me=l(ae),Te=t(146),te=l(Te),ue=t(46),ve=l(ue),ye=t(47),se=l(ye),Ie=t(51),x=l(Ie),q=t(91),P=l(q),N=t(48),Q=l(N),z=t(49),oe=t(53),he=l(oe),d=t(60),C=l(d),F=t(55),H=l(F),Y=t(76),ce=l(Y),xe=t(179),Se=t(1),Pe=l(Se),Oe=t(10),Fe=l(Oe);h.__dashjs_factory_name="MediaPlayer";var Ke=Q.default.getClassFactory(h);Ke.events=P.default,Q.default.updateClassFactory(h.__dashjs_factory_name,Ke),o.default=Ke,f.exports=o.default},{1:1,10:10,100:100,106:106,108:108,110:110,115:115,116:116,117:117,118:118,119:119,137:137,139:139,144:144,146:146,148:148,153:153,179:179,46:46,47:47,48:48,49:49,51:51,53:53,55:55,60:60,76:76,86:86,88:88,91:91,98:98,99:99}],91:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(y,I){if(!(y instanceof I))throw new TypeError("Cannot call a class as a function")}function m(y,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);y.prototype=Object.create(I&&I.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(y,I):y.__proto__=I)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(y,I,E){for(var D=!0;D;){var R=y,S=I,L=E;D=!1,R===null&&(R=Function.prototype);var B=Object.getOwnPropertyDescriptor(R,S);if(B!==void 0){if("value"in B)return B.value;var k=B.get;return k===void 0?void 0:k.call(L)}var b=Object.getPrototypeOf(R);if(b===null)return;y=b,I=S,E=L,D=!0,B=b=void 0}},v=t(52),g=l(v),_=function(y){function I(){h(this,I),u(Object.getPrototypeOf(I.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return m(I,y),I}(g.default),p=new _;o.default=p,f.exports=o.default},{52:52}],92:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(p){function y(){b=[],A=null,G=null}function I(w){w.segmentType!=="InitializationSegment"?(b.push(w),b.sort(function(M,U){return M.start-U.start}),A=null):A=w,k("PreBufferSink appended chunk s: "+w.start+"; e: "+w.end),G&&G({chunk:w})}function E(w,M){b=b.filter(function(U){return!((isNaN(M)||U.start<M)&&(isNaN(w)||U.end>w))})}function D(){}function R(){for(var w=[],M=0;M<b.length;M++){var U=b[M];w.length===0||U.start>w[w.length-1].end?w.push({start:U.start,end:U.end}):w[w.length-1].end=U.end}var j={start:function(le){return w[le].start},end:function(le){return w[le].end}};return Object.defineProperty(j,"length",{get:function(){return w.length}}),j}function S(w,M){var U=L(w,M);return A&&(U.push(A),A=null),E(w,M),U}function L(w,M){return b.filter(function(U){return(isNaN(M)||U.start<M)&&(isNaN(w)||U.end>w)})}var B=this.context,k=(0,u.default)(B).getInstance().log,b=[],A=void 0,G=p;return{getAllBufferRanges:R,append:I,remove:E,abort:D,discharge:S,reset:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(46),u=l(m),v=t(48),g=l(v);h.__dashjs_factory_name="PreBufferSink";var _=g.default.getClassFactory(h);o.default=_,f.exports=o.default},{46:46,48:48}],93:[function(t,f,o){"use strict";function l(B){return B&&B.__esModule?B:{default:B}}function h(B,k,b){function A(){fe=!1;var W=k.codec;try{if(W.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");de=B.addSourceBuffer(W)}catch(me){if(!k.isText&&W.indexOf('codecs="stpp')===-1&&W.indexOf('codecs="wvtt')===-1)throw me;var ae=(0,S.default)(X).getInstance();de=ae.getTextSourceBuffer()}}function G(){if(de){try{B.removeSourceBuffer(de)}catch{pe("Failed to remove source buffer from media source.")}fe=!1,de=null}re=[],ge=null}function w(){return de}function M(){return de.buffered}function U(W){re.push(W),fe||ne(de,le.bind(this))}function j(W,ae,me){var Te=this;ne(de,function(){try{W>=0&&ae>W&&(me||B.readyState!=="ended")&&de.remove(W,ae),ne(de,function(){K.trigger(I.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:Te,from:W,to:ae})})}catch(te){K.trigger(I.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:Te,from:W,to:ae,error:new g.default(te.code,te.message,null)})}})}function le(){var W=this;re.length>0&&function(){fe=!0;var ae=re[0];re.splice(0,1);var me=function(){re.length>0?le.call(this):(fe=!1,ge&&ge({chunk:ae}))};try{de.appendBuffer?de.appendBuffer(ae.bytes):de.append(ae.bytes,ae),ne(de,me.bind(W))}catch(Te){pe('SourceBuffer append failed "'+Te+'"'),re.length>0?le():fe=!1,ge&&ge({chunk:ae,error:new g.default(Te.code,Te.message,null)})}}()}function Z(){try{(B.readyState==="open"||de.setTextTrack&&B.readyState==="ended")&&de.abort()}catch(W){pe('SourceBuffer append abort failed: "'+W+'"')}re=[]}function ne(W,ae){var me=void 0,Te=50,te=function(){W.updating||(clearInterval(me),ae())},ue=function ve(){W.updating||(W.removeEventListener("updateend",ve,!1),ae())};if(!W.updating)return void ae();if(typeof W.addEventListener=="function")try{W.addEventListener("updateend",ue,!1)}catch{me=setInterval(te,Te)}else me=setInterval(te,Te)}var X=this.context,pe=(0,u.default)(X).getInstance().log,K=(0,p.default)(X).getInstance(),de=void 0,fe=void 0,re=[],ge=b,_e={getAllBufferRanges:M,getBuffer:w,append:U,remove:j,abort:Z,reset:G};return A(),_e}Object.defineProperty(o,"__esModule",{value:!0});var m=t(46),u=l(m),v=t(160),g=l(v),_=t(47),p=l(_),y=t(51),I=l(y),E=t(48),D=l(E),R=t(137),S=l(R);h.__dashjs_factory_name="SourceBufferSink";var L=D.default.getClassFactory(h);o.default=L,f.exports=o.default},{137:137,160:160,46:46,47:47,48:48,51:51}],94:[function(t,f,o){"use strict";function l(w){return w&&w.__esModule?w:{default:w}}function h(w){function M(){ne(),Ye=(0,I.default)(H).create({mediaPlayerModel:Pe,metricsModel:Xe,errHandler:rt}),ce.on(B.default.BUFFERING_COMPLETED,z,Ze),ce.on(B.default.DATA_UPDATE_COMPLETED,oe,Ze)}function U(J,De){He=J,(qe=De)&&(ce.on(B.default.KEY_ERROR,te,Ze),ce.on(B.default.SERVER_CERTIFICATE_UPDATED,te,Ze),ce.on(B.default.LICENSE_REQUEST_COMPLETE,te,Ze),ce.on(B.default.KEY_SYSTEM_SELECTED,te,Ze),ce.on(B.default.KEY_SESSION_CREATED,te,Ze))}function j(J){Ge||(ce.on(B.default.CURRENT_TRACK_CHANGED,ye,Ze),x(J),Ge=!0),Q()}function le(){for(var J=$e?$e.length:0,De=0;De<J;De++)$e[De].getFragmentModel().removeExecutedRequestsBeforeTime(K()+pe()),$e[De].reset();$e=[],Ge=!1,Le=!1,ce.off(B.default.CURRENT_TRACK_CHANGED,ye,Ze)}function Z(J){for(var De=0;De<$e.length;)ve($e[De].getMediaInfo())?($e[De].setMediaSource(J),De++):($e[De].reset(),$e.splice(De,1));for(var De=0;De<$e.length;De++)$e[De].dischargePreBuffer();if($e.length===0){var e="No streams to play.";rt.manifestError(e,"nostreams",xe.getValue()),Y(e)}}function ne(){le(),He=null,at={},et=!1}function X(){ze&&ze.pause(),Ye&&(Ye.reset(),Ye=null),ne(),Y=null,ce.off(B.default.DATA_UPDATE_COMPLETED,oe,Ze),ce.off(B.default.BUFFERING_COMPLETED,z,Ze),ce.off(B.default.KEY_ERROR,te,Ze),ce.off(B.default.SERVER_CERTIFICATE_UPDATED,te,Ze),ce.off(B.default.LICENSE_REQUEST_COMPLETE,te,Ze),ce.off(B.default.KEY_SYSTEM_SELECTED,te,Ze),ce.off(B.default.KEY_SESSION_CREATED,te,Ze)}function pe(){return He?He.duration:NaN}function K(){return He?He.start:NaN}function de(){return He?He.id:NaN}function fe(){return He}function re(){return ct}function ge(){return Ye}function _e(){return it}function W(){if(!(Qe&&Qe.hasOwnProperty("getBitrateList")&&Fe&&Fe.hasOwnProperty("getAllMediaInfoForType")&&Fe.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function ae(J){if(W(),J===u.default.IMAGE)return it?it.getBitrateList():[];var De=N(J);return Qe.getBitrateList(De)}function me(){ct&&ct.start()}function Te(){ct&&ct.stop()}function te(J){J.error&&(rt.mediaKeySessionError(J.error),Y(J.error),X())}function ue(J){return J.type===u.default.TEXT?J.mimeType:J.type}function ve(J){var De=J.type,e=void 0,i=void 0;if(De===u.default.MUXED&&J)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Y(i),rt.manifestError(i,"multiplexedrep",xe.getValue()),!1;if(De===u.default.TEXT||De===u.default.FRAGMENTED_TEXT||De===u.default.EMBEDDED_TEXT||De===u.default.IMAGE)return!0;if(e=J.codec,Y(De+" codec: "+e),J.contentProtection&&!Ke.supportsEncryptedMedia())rt.capabilityError("encryptedmedia");else if(!Ke.supportsCodec(e))return i=De+"Codec ("+e+") is not supported.",Y(i),!1;return!0}function ye(J){if(J.newMediaInfo.streamInfo.id===He.id){var De=he(J.oldMediaInfo);if(De){var e=ze.getTime();Y("Stream -  Process track changed at current time "+e);var i=J.newMediaInfo,n=xe.getValue();Y("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(Y("Stream -  Refreshing manifest for switch track"),lt=J,Oe.refreshManifest()):(De.updateMediaInfo(i),i.type!==u.default.FRAGMENTED_TEXT&&(Qe.updateTopQualityIndex(i),De.switchTrackAsked()))}}}function se(J,De,e,i){var n=(0,g.default)(H).create({type:ue(J),mimeType:J.mimeType,timelineConverter:ke,adapter:Fe,manifestModel:xe,dashManifestModel:Se,mediaPlayerModel:Pe,metricsModel:Xe,dashMetrics:w.dashMetrics,baseURLController:w.baseURLController,stream:Ze,abrController:Qe,domStorage:w.domStorage,playbackController:ze,mediaController:pt,streamController:w.streamController,textController:mt,errHandler:rt});if(n.initialize(e),Qe.updateTopQualityIndex(J),i?(n.setBuffer(i.buffer),n.getIndexHandler().setCurrentTime(i.currentTime),$e[i.replaceIdx]=n):$e.push(n),!i||!i.ignoreMediaInfo)if(J.type===u.default.TEXT||J.type===u.default.FRAGMENTED_TEXT){for(var r=void 0,c=0;c<De.length;c++)De[c].index===J.index&&(r=c),n.updateMediaInfo(De[c]);J.type===u.default.FRAGMENTED_TEXT&&n.updateMediaInfo(De[r])}else n.updateMediaInfo(J)}function Ie(J,De){var e=Fe.getAllMediaInfoForType(He,J),i=null,n=void 0;if(!e||e.length===0)return void Y("No "+J+" data.");for(var r=0,c=e.length;r<c;r++)if(i=e[r],J===u.default.EMBEDDED_TEXT)mt.addEmbeddedTrack(i);else{if(!ve(i))continue;pt.isMultiTrackSupportedByType(i.type)&&pt.addTrack(i,He)}if(J!==u.default.EMBEDDED_TEXT&&pt.getTracksFor(J,He).length!==0){if(J===u.default.IMAGE)return void(it=(0,D.default)(H).create({dashManifestModel:Se,adapter:Fe,baseURLController:w.baseURLController,stream:Ze}));pt.checkInitialMediaSettingsForType(J,He),n=pt.getCurrentTrackFor(J,He),se(n,e,De)}}function x(J){W();var De=void 0;if(ct||(ct=(0,p.default)(H).create(),ct.setConfig({manifestModel:xe,manifestUpdater:Oe,playbackController:ze}),De=Fe.getEventsFor(He),ct.addInlineEvents(De)),et=!0,q(u.default.VIDEO),q(u.default.AUDIO),Ie(u.default.VIDEO,J),Ie(u.default.AUDIO,J),Ie(u.default.TEXT,J),Ie(u.default.FRAGMENTED_TEXT,J),Ie(u.default.EMBEDDED_TEXT,J),Ie(u.default.MUXED,J),Ie(u.default.IMAGE,J),Q(),Le=!0,et=!1,$e.length===0){var e="No streams to play.";rt.manifestError(e,"nostreams",xe.getValue()),Y(e)}else P()}function q(J){var De=Se.getAdaptationForType(xe.getValue(),He.index,J,He);if(!De||!Array.isArray(De.Representation_asArray))return null;De.Representation_asArray=De.Representation_asArray.filter(function(e,i){if(i===0)return!0;var n=Se.getCodec(De,i,!0);return!!Ke.supportsCodec(n)||(Y("[Stream] codec not supported: "+n),!1)})}function P(){for(var J=$e.length,De=!!at.audio||!!at.video,e=De?new Error(F,"Data update failed",null):null,i=0;i<J;i++)if($e[i].isUpdating()||et)return;if(Le){if(qe)for(var i=0;i<J&&$e[i];i++)$e[i].getType()!==u.default.AUDIO&&$e[i].getType()!==u.default.VIDEO&&$e[i].getType()!==u.default.FRAGMENTED_TEXT||qe.initializeForMedia($e[i].getMediaInfo());ce.trigger(B.default.STREAM_INITIALIZED,{streamInfo:He,error:e})}}function N(J){for(var De=$e.length,e=null,i=0;i<De;i++)if(e=$e[i],e.getType()===J)return e.getMediaInfo();return null}function Q(){for(var J=0,De=$e.length;J<De;J++)$e[J].createBuffer()}function z(J){if(J.streamInfo===He){var De=d(),e=De.length;if(e===0)return void Y("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var i=0;i<e;i++)if(!De[i].isBufferingCompleted()&&(De[i].getType()===u.default.AUDIO||De[i].getType()===u.default.VIDEO))return void Y("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+De[i].getType()+" is not buffering completed");Y("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ce.trigger(B.default.STREAM_BUFFERING_COMPLETED,{streamInfo:He})}}function oe(J){var De=J.sender.getStreamProcessor();De.getStreamInfo()===He&&(at[De.getType()]=J.error,P())}function he(J){return!!J&&d().filter(function(De){return De.getType()===J.type})[0]}function d(){for(var J=$e.length,De=[],e=void 0,i=void 0,n=0;n<J;n++)i=$e[n],(e=i.getType())!==u.default.AUDIO&&e!==u.default.VIDEO&&e!==u.default.FRAGMENTED_TEXT||De.push(i);return De}function C(J){if(Y("Manifest updated... updating data system wide."),Ge=!1,et=!0,He=J,ct){var De=Fe.getEventsFor(He);ct.addInlineEvents(De)}q(u.default.VIDEO),q(u.default.AUDIO);for(var e=0,i=$e.length;e<i;e++){var n=$e[e],r=Fe.getMediaInfoForType(He,n.getType());Qe.updateTopQualityIndex(r),n.updateMediaInfo(r)}if(lt){var r=lt.newMediaInfo;if(r.type!=="fragmentedText"){var c=he(lt.oldMediaInfo);if(!c)return;c.switchTrackAsked(),lt=void 0}}et=!1,P()}var F=1;w=w||{};var H=this.context,Y=(0,b.default)(H).getInstance().log,ce=(0,S.default)(H).getInstance(),xe=w.manifestModel,Se=w.dashManifestModel,Pe=w.mediaPlayerModel,Oe=w.manifestUpdater,Fe=w.adapter,Ke=w.capabilities,rt=w.errHandler,ke=w.timelineConverter,Xe=w.metricsModel,Qe=w.abrController,ze=w.playbackController,pt=w.mediaController,mt=w.textController,Ze=void 0,$e=void 0,Ge=void 0,Le=void 0,He=void 0,at=void 0,et=void 0,qe=void 0,Ye=void 0,it=void 0,ct=void 0,lt=void 0;return Ze={initialize:U,activate:j,deactivate:le,getDuration:pe,getStartTime:K,getId:de,getStreamInfo:fe,getFragmentController:ge,getThumbnailController:_e,getEventController:re,getBitrateListFor:ae,startEventController:me,stopEventController:Te,updateData:C,reset:X,getProcessors:d,setMediaSource:Z},M(),Ze}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(95),g=l(v),_=t(104),p=l(_),y=t(105),I=l(y),E=t(140),D=l(E),R=t(47),S=l(R),L=t(51),B=l(L),k=t(46),b=l(k),A=t(48),G=l(A);h.__dashjs_factory_name="Stream",o.default=G.default.getClassFactory(h),f.exports=o.default},{104:104,105:105,140:140,46:46,47:47,48:48,51:51,95:95,98:98}],95:[function(t,f,o){"use strict";function l(A){return A&&A.__esModule?A:{default:A}}function h(A){function G(){rt&&rt.getIsDynamic()&&(et=(0,g.default)(C).create({timelineConverter:xe,streamProcessor:$e})),Z()}function w(ct){F=(0,b.default)(C).create({mimeType:ce,timelineConverter:xe,dashMetrics:mt,metricsModel:pt,mediaPlayerModel:Oe,baseURLController:A.baseURLController,errHandler:Y}),F.initialize($e),Ke.registerStreamType(H,$e),Ye=Fe.getFragmentController().getModel(H),Ye.setStreamProcessor($e),He=d(H),at=(0,D.default)(C).create({type:H,metricsModel:pt,adapter:Se,dashMetrics:mt,dashManifestModel:Ze,timelineConverter:xe,mediaPlayerModel:Oe,abrController:Ke,playbackController:rt,streamController:ke,textController:Qe,streamProcessor:$e,mediaController:Xe}),qe=(0,S.default)(C).create(),qe.setConfig({abrController:Ke,domStorage:ze,metricsModel:pt,dashMetrics:mt,dashManifestModel:Ze,manifestModel:Pe,playbackController:rt,timelineConverter:xe,streamProcessor:$e}),He.initialize(ct),at.initialize(),qe.initialize()}function M(ct){it.push(ct)}function U(ct){var lt=it.indexOf(ct);lt!==-1&&it.splice(lt,1)}function j(){return it}function le(){it=[]}function Z(){Le=[],Ge=null,le()}function ne(ct){F.reset(),He&&(He.reset(ct),He=null),at&&(at.reset(),at=null),qe&&(qe.reset(),qe=null),Ke&&Ke.unRegisterStreamType(H),it.forEach(function(lt){lt.reset()}),Z(),H=null,Fe=null,et&&(et.reset(),et=null)}function X(){return!!qe&&qe.isUpdating()}function pe(){return H}function K(){return qe}function de(){return F}function fe(){return Fe?Fe.getFragmentController():null}function re(){return He.getBuffer()}function ge(ct){He.setBuffer(ct)}function _e(){return He}function W(){return Ye}function ae(){return et}function me(){return Fe?Fe.getStreamInfo():null}function Te(){return Fe?Fe.getEventController():null}function te(ct){ct===Ge||ct&&Ge&&ct.type!==Ge.type||(Ge=ct),Le.indexOf(ct)===-1&&Le.push(ct),Se.updateData(this)}function ue(){return Le}function ve(){return Ge}function ye(){return He.getMediaSource()}function se(ct){He.setMediaSource(ct,ve())}function Ie(){He.dischargePreBuffer()}function x(){return at}function q(){return Se.getCurrentRepresentationInfo(qe)}function P(ct){return Se.getRepresentationInfoForQuality(qe,ct)}function N(){return!!He&&He.getIsBufferingCompleted()}function Q(){return He.getBufferLevel()}function z(ct,lt){He&&He.switchInitData(me().id,ct,lt)}function oe(){return He.getBuffer()||He.createBuffer(Ge)}function he(){at.switchTrackAsked()}function d(ct){return ct===u.default.VIDEO||ct===u.default.AUDIO?(0,p.default)(C).create({type:ct,metricsModel:pt,mediaPlayerModel:Oe,manifestModel:Pe,errHandler:Y,streamController:ke,mediaController:Xe,adapter:Se,textController:Qe,abrController:Ke,playbackController:rt,streamProcessor:$e}):(0,I.default)(C).create({type:ct,metricsModel:pt,mediaPlayerModel:Oe,manifestModel:Pe,errHandler:Y,streamController:ke,mediaController:Xe,adapter:Se,textController:Qe,abrController:Ke,playbackController:rt,streamProcessor:$e})}A=A||{};var C=this.context,F=void 0,H=A.type,Y=A.errHandler,ce=A.mimeType,xe=A.timelineConverter,Se=A.adapter,Pe=A.manifestModel,Oe=A.mediaPlayerModel,Fe=A.stream,Ke=A.abrController,rt=A.playbackController,ke=A.streamController,Xe=A.mediaController,Qe=A.textController,ze=A.domStorage,pt=A.metricsModel,mt=A.dashMetrics,Ze=A.dashManifestModel,$e=void 0,Ge=void 0,Le=void 0,He=void 0,at=void 0,et=void 0,qe=void 0,Ye=void 0,it=void 0;return $e={initialize:w,isUpdating:X,getType:pe,getBufferController:_e,getFragmentModel:W,getScheduleController:x,getLiveEdgeFinder:ae,getEventController:Te,getFragmentController:fe,getRepresentationController:K,getIndexHandler:de,getCurrentRepresentationInfo:q,getRepresentationInfoForQuality:P,getBufferLevel:Q,switchInitData:z,isBufferingCompleted:N,createBuffer:oe,getStreamInfo:me,updateMediaInfo:te,switchTrackAsked:he,getMediaInfoArr:ue,getMediaInfo:ve,getMediaSource:ye,setMediaSource:se,dischargePreBuffer:Ie,getBuffer:re,setBuffer:ge,registerExternalController:M,unregisterExternalController:U,getExternalControllers:j,unregisterAllExternalController:le,reset:ne},G(),$e}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(151),g=l(v),_=t(103),p=l(_),y=t(136),I=l(y),E=t(109),D=l(E),R=t(59),S=l(R),L=t(48),B=l(L),k=t(54),b=l(k);h.__dashjs_factory_name="StreamProcessor",o.default=B.default.getClassFactory(h),f.exports=o.default},{103:103,109:109,136:136,151:151,48:48,54:54,59:59,98:98}],96:[function(t,f,o){"use strict";function l(I){return I&&I.__esModule?I:{default:I}}function h(I,E,D){return E in I?Object.defineProperty(I,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[E]=D,I}function m(I){function E(){var j;G=[],w=[],M=[],j={},h(j,u.HTTPRequest.MPD_TYPE,p.default.DOWNLOAD_ERROR_ID_MANIFEST),h(j,u.HTTPRequest.XLINK_EXPANSION_TYPE,p.default.DOWNLOAD_ERROR_ID_XLINK),h(j,u.HTTPRequest.INIT_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_INITIALIZATION),h(j,u.HTTPRequest.MEDIA_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),h(j,u.HTTPRequest.INDEX_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),h(j,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),h(j,u.HTTPRequest.OTHER_TYPE,p.default.DOWNLOAD_ERROR_ID_CONTENT),U=j}function D(j,le){var Z=j.request,ne=new XMLHttpRequest,X=[],pe=!0,K=!0,de=new Date,fe=de,re=0,ge=function(ve){K=!1,Z.requestStartDate=de,Z.requestEndDate=new Date,Z.firstByteDate=Z.firstByteDate||de,Z.checkExistenceOnly||B.addHttpRequest(Z.mediaType,null,Z.type,Z.url,ne.responseURL||null,Z.serviceLocation||null,Z.range||null,Z.requestStartDate,Z.firstByteDate,Z.requestEndDate,ne.status,Z.duration,ne.getAllResponseHeaders(),ve?X:null)},_e=function(){G.indexOf(ne)!==-1&&(G.splice(G.indexOf(ne),1),K&&(ge(!1),le>0?(le--,M.push(setTimeout(function(){D(j,le)},k.getRetryIntervalForType(Z.type)))):(L.downloadError(U[Z.type],Z.url,Z),j.error&&j.error(Z,"error",ne.statusText),j.complete&&j.complete(Z,ne.statusText))))},W=function(ve){var ye=new Date;pe&&(pe=!1,(!ve.lengthComputable||ve.lengthComputable&&ve.total!==ve.loaded)&&(Z.firstByteDate=ye)),ve.lengthComputable&&(Z.bytesLoaded=ve.loaded,Z.bytesTotal=ve.total),X.push({s:fe,d:ye.getTime()-fe.getTime(),b:[ve.loaded?ve.loaded-re:0]}),fe=ye,re=ve.loaded,j.progress&&j.progress()},ae=function(){ne.status>=200&&ne.status<=299&&(ge(!0),j.success&&j.success(ne.response,ne.statusText,ne),j.complete&&j.complete(Z,ne.statusText))},me=function(){j.abort&&j.abort(Z,ne.status)};if(!b||!B||!L)throw new Error("config object is not correct or missing");try{var Te=b.modifyRequestURL(Z.url),te=Z.checkExistenceOnly?u.HTTPRequest.HEAD:u.HTTPRequest.GET;ne.open(te,Te,!0),Z.responseType&&(ne.responseType=Z.responseType),Z.range&&ne.setRequestHeader("Range","bytes="+Z.range),Z.requestStartDate||(Z.requestStartDate=de),ne=b.modifyRequestHeader(ne),ne.withCredentials=k.getXHRWithCredentialsForType(Z.type),ne.onload=ae,ne.onloadend=_e,ne.onerror=_e,ne.onprogress=W,ne.onabort=me;var ue=new Date().getTime();isNaN(Z.delayLoadingTime)||ue>=Z.delayLoadingTime?(G.push(ne),ne.send()):function(){var ve={xhr:ne};w.push(ve),ve.delayTimeout=setTimeout(function(){if(w.indexOf(ve)!==-1){w.splice(w.indexOf(ve),1);try{de=new Date,fe=de,G.push(ve.xhr),ve.xhr.send()}catch{ve.xhr.onerror()}}},Z.delayLoadingTime-ue)}()}catch{ne.onerror()}}function R(j){j.request&&D(j,k.getRetryAttemptsForType(j.request.type))}function S(){M.forEach(function(j){return clearTimeout(j)}),M=[],w.forEach(function(j){return clearTimeout(j.delayTimeout)}),w=[],G.forEach(function(j){j.onloadend=j.onerror=j.onprogress=void 0,j.abort()}),G=[]}I=I||{};var L=I.errHandler,B=I.metricsModel,k=I.mediaPlayerModel,b=I.requestModifier,A=void 0,G=void 0,w=void 0,M=void 0,U=void 0;return A={load:R,abort:S},E(),A}Object.defineProperty(o,"__esModule",{value:!0});var u=t(179),v=t(48),g=l(v),_=t(148),p=l(_);m.__dashjs_factory_name="XHRLoader";var y=g.default.getClassFactory(m);o.default=y,f.exports=o.default},{148:148,179:179,48:48}],97:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(b){function A(le,Z,ne){var X=function(K,de){Z.resolved=!0,Z.resolvedContent=K||null,U.trigger(R.default.XLINK_ELEMENT_LOADED,{element:Z,resolveObject:ne,error:K||de?null:new u.default(B,"Failed loading Xlink element: "+le)})};if(le===w)X(null,!0);else{var pe=new y.default(le,_.HTTPRequest.XLINK_TYPE);j.load({request:pe,success:function(K){X(K)},error:function(){X(null)}})}}function G(){j&&(j.abort(),j=null)}b=b||{};var w="urn:mpeg:dash:resolve-to-zero:2013",M=this.context,U=(0,E.default)(M).getInstance(),j=(0,g.default)(M).create({errHandler:b.errHandler,metricsModel:b.metricsModel,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier});return{load:A,reset:G}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(160),u=l(m),v=t(96),g=l(v),_=t(179),p=t(170),y=l(p),I=t(47),E=l(I),D=t(51),R=l(D),S=t(48),L=l(S),B=1;h.__dashjs_factory_name="XlinkLoader";var k=L.default.getClassFactory(h);k.XLINK_LOADER_ERROR_LOADING_FAILURE=B,L.default.updateClassFactory(h.__dashjs_factory_name,k),o.default=k,f.exports=o.default},{160:160,170:170,179:179,47:47,48:48,51:51,96:96}],98:[function(t,f,o){"use strict";function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function v(g,_){for(var p=0;p<_.length;p++){var y=_[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,_,p){return _&&v(g.prototype,_),p&&v(g,p),g}}(),m=function(){function v(){l(this,v),this.init()}return h(v,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),v}(),u=new m;o.default=u,f.exports=o.default},{}],99:[function(t,f,o){"use strict";function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function v(g,_){for(var p=0;p<_.length;p++){var y=_[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,_,p){return _&&v(g.prototype,_),p&&v(g,p),g}}(),m=function(){function v(){l(this,v),this.init()}return h(v,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),v}(),u=new m;o.default=u,f.exports=o.default},{}],100:[function(t,f,o){"use strict";function l(me){return me&&me.__esModule?me:{default:me}}function h(){function me(){O=r.log.bind(T),ve()}function Te(ie,Me){Ct[ie]=(0,j.default)(n).create(),Ae[ie]=Me,Ue[ie]=Ue[ie]||{},Ue[ie].state=re,Pt[ie]=!1,c.on(B.default.LOADING_PROGRESS,i,this),ie==g.default.VIDEO&&(c.on(B.default.QUALITY_CHANGE_RENDERED,Ie,this),xt=(0,Z.default)(n).create(),De()),c.on(B.default.METRIC_ADDED,x,this),Nt=(0,X.default)(n).create({mediaPlayerModel:It})}function te(ie){delete Ae[ie]}function ue(){V=(0,u.default)(n).create({metricsModel:Ft,dashMetrics:Be,mediaPlayerModel:It,adapter:ut}),V.initialize()}function ve(){Ee={video:!0,audio:!0},we={},Re={},Ne={},be={},Ue={},Ae={},Ct={},Pt={},st=!1,ft=!0,dt=!1,yt===void 0&&(yt=!1),Dt=void 0,xt=void 0,Nt=void 0,clearTimeout(We),We=null}function ye(){ve(),c.off(B.default.LOADING_PROGRESS,i,this),c.off(B.default.QUALITY_CHANGE_RENDERED,Ie,this),c.off(B.default.METRIC_ADDED,x,this),V&&V.reset()}function se(ie){ie&&(ie.streamController&&(ee=ie.streamController),ie.domStorage&&(bt=ie.domStorage),ie.mediaPlayerModel&&(It=ie.mediaPlayerModel),ie.metricsModel&&(Ft=ie.metricsModel),ie.dashMetrics&&(Be=ie.dashMetrics),ie.dashManifestModel&&(Ve=ie.dashManifestModel),ie.adapter&&(ut=ie.adapter),ie.manifestModel&&(_t=ie.manifestModel),ie.videoModel&&(ht=ie.videoModel))}function Ie(ie){ie.mediaType===g.default.VIDEO&&(Dt=ie.oldQuality,xt.push(Dt,ht.getPlaybackQuality()))}function x(ie){ie.metric!==p.default.HTTP_REQUEST||!ie.value||ie.value.type!==pe.HTTPRequest.MEDIA_SEGMENT_TYPE||ie.mediaType!==g.default.AUDIO&&ie.mediaType!==g.default.VIDEO||Nt.push(ie.mediaType,ie.value,ft),ie.metric!==p.default.BUFFER_LEVEL||ie.mediaType!==g.default.AUDIO&&ie.mediaType!==g.default.VIDEO||Ge(ie.mediaType,.001*ie.value.level)}function q(ie,Me){var je=void 0;return we[Me]=we[Me]||{},we[Me].hasOwnProperty(ie)||(we[Me][ie]=0),je=ct(we[Me][ie],ie),je=lt(je,ie,we[Me][ie]),je=e(je,ie)}function P(ie){var Me=bt.getSavedBitrateSettings(ie);if(!Ne.hasOwnProperty(ie))if(be.hasOwnProperty(ie)){var je=_t.getValue(),Je=Ve.getAdaptationForType(je,0,ie).Representation;if(Array.isArray(Je)){var nt=Math.max(Math.round(Je.length*be[ie])-1,0);Ne[ie]=Je[nt].bandwidth}else Ne[ie]=0}else isNaN(Me)?Ne[ie]=ie===g.default.VIDEO?ge:_e:Ne[ie]=Me;return Ne[ie]}function N(ie,Me){Ne[ie]=Me}function Q(ie){return be.hasOwnProperty(ie)?be[ie]:null}function z(ie,Me){be[ie]=Me}function oe(ie){return Ne.hasOwnProperty("max")&&Ne.max.hasOwnProperty(ie)?Ne.max[ie]:NaN}function he(ie){return Ne.hasOwnProperty("min")&&Ne.min.hasOwnProperty(ie)?Ne.min[ie]:NaN}function d(ie,Me){Ne.max=Ne.max||{},Ne.max[ie]=Me}function C(ie,Me){Ne.min=Ne.min||{},Ne.min[ie]=Me}function F(ie){var Me=oe(ie);return Me?Ze(Ae[ie].getMediaInfo(),Me):void 0}function H(ie){var Me=he(ie);if(Me){var je=$e(Ae[ie].getMediaInfo()),Je=Ze(Ae[ie].getMediaInfo(),Me);return je[Je]&&Je<je.length-1&&je[Je].bitrate<1e3*Me&&Je++,Je}}function Y(ie){return be.hasOwnProperty("max")&&be.max.hasOwnProperty(ie)?be.max[ie]:1}function ce(ie,Me){be.max=be.max||{},be.max[ie]=Me}function xe(ie){return Ee[ie]}function Se(ie,Me){Ee[ie]=Me}function Pe(){return st}function Oe(ie){st=ie}function Fe(){return dt}function Ke(ie){dt=ie}function rt(){return ft}function ke(ie){ft=ie}function Xe(ie){if(ie&&Ae&&Ae[ie]){var Me=Ae[ie].getStreamInfo(),je=Me?Me.id:null,Je=qe(ie),nt=(0,G.default)(n).create({abrController:T,streamProcessor:Ae[ie],currentValue:Je,switchHistory:Ct[ie],droppedFramesHistory:xt,useBufferOccupancyABR:Le(ie)});if(xt){var gt=ht.getPlaybackQuality();gt&&xt.push(Dt,gt)}if(xe(ie)){var wt=H(ie),Mt=q(ie,je),Vt=V.getMaxQuality(nt),Lt=Vt.quality;if(wt!==void 0&&Lt<wt&&(Lt=wt),Lt>Mt&&(Lt=Mt),Ct[ie].push({oldValue:Je,newValue:Lt}),Lt>M.default.NO_CHANGE&&Lt!=Je)(Ue[ie].state===re||Lt>Je)&&ze(ie,Je,Lt,Mt,Vt.reason);else if(r.getLogToBrowserConsole()){var Ut=Be.getCurrentBufferLevel(Ft.getReadOnlyMetricsFor(ie));O("AbrController ("+ie+") stay on "+Je+"/"+Mt+" (buffer: "+Ut+")")}}}}function Qe(ie,Me,je,Je){var nt=Me.id,gt=qe(ie);if(je===null||isNaN(je)||je%1!=0)throw new Error("argument is not an integer");var wt=q(ie,nt);je!==gt&&je>=0&&je<=wt&&ze(ie,gt,je,wt,Je)}function ze(ie,Me,je,Je,nt){if(ie&&Ae[ie]){var gt=Ae[ie].getStreamInfo(),wt=gt?gt.id:null;if(r.getLogToBrowserConsole()){var Mt=Be.getCurrentBufferLevel(Ft.getReadOnlyMetricsFor(ie));O("AbrController ("+ie+") switch from "+Me+" to "+je+"/"+Je+" (buffer: "+Mt+") "+(nt?JSON.stringify(nt):"."))}Ye(ie,wt,je),c.trigger(B.default.QUALITY_CHANGE_REQUESTED,{mediaType:ie,streamInfo:gt,oldQuality:Me,newQuality:je,reason:nt})}}function pt(ie,Me){Ue[ie].state=Me}function mt(ie){return Ue[ie]?Ue[ie].state:null}function Ze(ie,Me,je){if(ft&&je&&Ae[ie.type].getCurrentRepresentationInfo()&&Ae[ie.type].getCurrentRepresentationInfo().fragmentDuration){je/=1e3;var Je=Ae[ie.type].getCurrentRepresentationInfo().fragmentDuration;if(je>Je)return 0;Me*=1-je/Je}var nt=$e(ie);if(!nt||nt.length===0)return W;for(var gt=nt.length-1;gt>=0;gt--)if(1e3*Me>=nt[gt].bitrate)return gt;return 0}function $e(ie){if(!ie||!ie.bitrateList)return null;for(var Me=ie.bitrateList,je=ie.type,Je=[],nt=void 0,gt=0,wt=Me.length;gt<wt;gt++)nt=new I.default,nt.mediaType=je,nt.qualityIndex=gt,nt.bitrate=Me[gt].bandwidth,nt.width=Me[gt].width,nt.height=Me[gt].height,nt.scanType=Me[gt].scanType,Je.push(nt);return Je}function Ge(ie,Me){var je=It.getABRStrategy();if(je===g.default.ABR_STRATEGY_BOLA)return void(Pt[ie]=!0);if(je===g.default.ABR_STRATEGY_THROUGHPUT)return void(Pt[ie]=!1);var Je=It.getStableBufferTime(),nt=Je,gt=.5*Je,wt=Pt[ie],Mt=Me>(wt?gt:nt);Pt[ie]=Mt,Mt!==wt&&O(Mt?"AbrController ("+ie+") switching from throughput to buffer occupancy ABR rule (buffer: "+Me.toFixed(3)+").":"AbrController ("+ie+") switching from buffer occupancy to throughput ABR rule (buffer: "+Me.toFixed(3)+").")}function Le(ie){return Pt[ie]}function He(){return Nt}function at(ie){var Me=ie.type,je=ie.streamInfo.id,Je=ie.representationCount-1;return it(Me,je,Je),Je}function et(ie){var Me=ie.id,je=qe(g.default.AUDIO),Je=qe(g.default.VIDEO);return je===q(g.default.AUDIO,Me)&&Je===q(g.default.VIDEO,Me)}function qe(ie){if(ie&&Ae[ie]){var Me=Ae[ie].getStreamInfo(),je=Me?Me.id:null;if(je)return Re[je]=Re[je]||{},Re[je].hasOwnProperty(ie)||(Re[je][ie]=W),Re[je][ie]}return W}function Ye(ie,Me,je){Re[Me]=Re[Me]||{},Re[Me][ie]=je}function it(ie,Me,je){we[Me]=we[Me]||{},we[Me][ie]=je}function ct(ie,Me){var je=ie;if(!Ae[Me])return je;var Je=H(Me);Je!==void 0&&(je=Math.max(ie,Je));var nt=F(Me);return nt!==void 0&&(je=Math.min(je,nt)),je}function lt(ie,Me,je){var Je=Y(Me);return isNaN(Je)||Je>=1||Je<0?ie:Math.min(ie,Math.round(je*Je))}function J(ie){yt=ie}function De(){if(ht){var ie=dt&&window.hasOwnProperty("devicePixelRatio"),Me=ie?window.devicePixelRatio:1;Et=ht.getClientWidth()*Me,Tt=ht.getClientHeight()*Me}}function e(ie,Me){if(Me!==g.default.VIDEO||!st||!Ae[Me])return ie;yt||De();var je=_t.getValue(),Je=Ve.getAdaptationForType(je,0,Me).Representation,nt=ie;if(Et>0&&Tt>0){for(;nt>0&&Je[nt]&&Et<Je[nt].width&&Et-Je[nt-1].width<Je[nt].width-Et;)nt-=1;Je.length-2>=nt&&Je[nt].width===Je[nt+1].width&&(nt=Math.min(ie,nt+1))}return nt}function i(ie){var Me=ie.request.mediaType;if(xe(Me)){var je=Ae[Me];if(!je)return;var Je=(0,G.default)(n).create({abrController:T,streamProcessor:je,currentRequest:ie.request,useBufferOccupancyABR:Le(Me)}),nt=V.shouldAbandonFragment(Je);if(nt.quality>M.default.NO_CHANGE){var gt=je.getFragmentModel();gt.getRequests({state:D.default.FRAGMENT_MODEL_LOADING,index:ie.request.index})[0]&&(gt.abortRequests(),pt(Me,fe),Ct[Me].reset(),Ct[Me].push({oldValue:qe(Me,ee.getActiveStreamInfo()),newValue:nt.quality,confidence:1,reason:nt.reason}),Qe(Me,ee.getActiveStreamInfo(),nt.quality,nt.reason),clearTimeout(We),We=setTimeout(function(){pt(Me,re),We=null},It.getAbandonLoadTimeout()))}}}var n=this.context,r=(0,de.default)(n).getInstance(),c=(0,S.default)(n).getInstance(),T=void 0,O=void 0,V=void 0,ee=void 0,Ee=void 0,we=void 0,Re=void 0,Ne=void 0,be=void 0,Ae=void 0,Ue=void 0,We=void 0,st=void 0,dt=void 0,yt=void 0,Et=void 0,Tt=void 0,_t=void 0,Ve=void 0,ut=void 0,ht=void 0,It=void 0,bt=void 0,Dt=void 0,Ct=void 0,xt=void 0,Nt=void 0,Pt=void 0,Ft=void 0,Be=void 0,ft=void 0;return T={isPlayingAtTopQuality:et,updateTopQualityIndex:at,getThroughputHistory:He,getBitrateList:$e,getQualityForBitrate:Ze,getMaxAllowedBitrateFor:oe,getMinAllowedBitrateFor:he,setMaxAllowedBitrateFor:d,setMinAllowedBitrateFor:C,getMaxAllowedIndexFor:F,getMinAllowedIndexFor:H,getMaxAllowedRepresentationRatioFor:Y,setMaxAllowedRepresentationRatioFor:ce,getInitialBitrateFor:P,setInitialBitrateFor:N,getInitialRepresentationRatioFor:Q,setInitialRepresentationRatioFor:z,setAutoSwitchBitrateFor:Se,getAutoSwitchBitrateFor:xe,getUseDeadTimeLatency:rt,setUseDeadTimeLatency:ke,setLimitBitrateByPortal:Oe,getLimitBitrateByPortal:Pe,getUsePixelRatioInLimitBitrateByPortal:Fe,setUsePixelRatioInLimitBitrateByPortal:Ke,getQualityFor:qe,getAbandonmentStateFor:mt,setPlaybackQuality:Qe,checkPlaybackQuality:Xe,getTopQualityIndexFor:q,setElementSize:De,setWindowResizeEventCalled:J,createAbrRulesCollection:ue,registerStreamType:Te,unRegisterStreamType:te,setConfig:se,reset:ye},me(),T}Object.defineProperty(o,"__esModule",{value:!0});var m=t(125),u=l(m),v=t(98),g=l(v),_=t(99),p=l(_),y=t(159),I=l(y),E=t(114),D=l(E),R=t(47),S=l(R),L=t(51),B=l(L),k=t(48),b=l(k),A=t(121),G=l(A),w=t(122),M=l(w),U=t(123),j=l(U),le=t(120),Z=l(le),ne=t(124),X=l(ne),pe=t(179),K=t(46),de=l(K),fe="abandonload",re="allowload",ge=1e3,_e=100,W=0;h.__dashjs_factory_name="AbrController";var ae=b.default.getSingletonFactory(h);ae.ABANDON_LOAD=fe,ae.QUALITY_DEFAULT=W,b.default.updateSingletonFactory(h.__dashjs_factory_name,ae),o.default=ae,f.exports=o.default},{114:114,120:120,121:121,122:122,123:123,124:124,125:125,159:159,179:179,46:46,47:47,48:48,51:51,98:98,99:99}],101:[function(t,f,o){"use strict";function l(k){return k&&k.__esModule?k:{default:k}}function h(){function k(de){pe.invalidateSelectedIndexes(de.entry)}function b(){pe=(0,u.default)(Z).create(),K=(0,g.default)(Z).create(),ne.on(B.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,j)}function A(de){de.baseURLTreeModel&&(pe=de.baseURLTreeModel),de.baseURLSelector&&(K=de.baseURLSelector),de.dashManifestModel&&(le=de.dashManifestModel)}function G(de){pe.update(de),K.chooseSelectorFromManifest(de)}function w(de){var fe=pe.getForPath(de),re=fe.reduce(function(ge,_e){var W=K.select(_e);return W?(X.isRelative(W.url)?ge.url=X.resolve(W.url,ge.url):(ge.url=W.url,ge.serviceLocation=W.serviceLocation),ge):new I.default},new I.default);if(!X.isRelative(re.url))return re}function M(){pe.reset(),K.reset()}function U(de){pe.setConfig({dashManifestModel:le}),K.setConfig({dashManifestModel:le}),G(de)}var j=void 0,le=void 0,Z=this.context,ne=(0,S.default)(Z).getInstance(),X=(0,p.default)(Z).getInstance(),pe=void 0,K=void 0;return j={reset:M,initialize:U,resolve:w,setConfig:A},b(),j}Object.defineProperty(o,"__esModule",{value:!0});var m=t(113),u=l(m),v=t(142),g=l(v),_=t(155),p=l(_),y=t(79),I=l(y),E=t(48),D=l(E),R=t(47),S=l(R),L=t(51),B=l(L);h.__dashjs_factory_name="BaseURLController",o.default=D.default.getSingletonFactory(h),f.exports=o.default},{113:113,142:142,155:155,47:47,48:48,51:51,79:79}],102:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_){function p(k){return!!(R.length&&k&&k.length)&&R.indexOf(k)!==-1}function y(k){R.indexOf(k)===-1&&(R.push(k),S.trigger(L,{entry:k}))}function I(k){y(k.entry)}function E(){B&&S.on(B,I,this)}function D(){R=[]}_=_||{};var R=[],S=(0,g.default)(this.context).getInstance(),L=_.updateEventName,B=_.addBlacklistEventName;return E(),{add:y,contains:p,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(47),g=l(v);h.__dashjs_factory_name="BlackListController",o.default=u.default.getClassFactory(h),f.exports=o.default},{47:47,48:48}],103:[function(t,f,o){"use strict";function l(W){return W&&W.__esModule?W:{default:W}}function h(W){function ae(){Ae=(0,j.default)(e).getInstance().log.bind(be),Dt=(0,Z.default)(e).getInstance(),J()}function me(){return ge}function Te(Be){et(Be),Ue=Ee.getQualityFor(Re,Ne.getStreamInfo()),i.on(b.default.DATA_UPDATE_COMPLETED,Qe,this),i.on(b.default.INIT_FRAGMENT_LOADED,ye,this),i.on(b.default.MEDIA_FRAGMENT_LOADED,Ie,this),i.on(b.default.QUALITY_CHANGE_REQUESTED,N,this),i.on(b.default.STREAM_COMPLETED,ze,this),i.on(b.default.PLAYBACK_PROGRESS,d,this),i.on(b.default.PLAYBACK_TIME_UPDATED,d,this),i.on(b.default.PLAYBACK_RATE_CHANGED,Ze,this),i.on(b.default.PLAYBACK_SEEKING,Q,this),i.on(b.default.WALLCLOCK_TIME_UPDATED,mt,this),i.on(b.default.CURRENT_TRACK_CHANGED,pt,this,B.default.EVENT_PRIORITY_HIGH),i.on(b.default.SOURCEBUFFER_REMOVE_COMPLETED,ke,this)}function te(Be){if(!Dt||!Be||!Ne)return null;if(yt)try{_t=(0,p.default)(e).create(yt,Be,P.bind(this)),typeof _t.getBuffer().initialize=="function"&&_t.getBuffer().initialize(Re,Ne)}catch(ft){Ae("Caught error on create SourceBuffer: "+ft),c.mediaSourceError("Error creating "+Re+" source buffer.")}else _t=(0,I.default)(e).create(P.bind(this));Xe(Ne.getRepresentationInfoForQuality(Ue).MSETimeOffset)}function ue(){if(_t&&Ve&&typeof Ve.discharge=="function"){var Be=Ve.getAllBufferRanges();if(Be.length>0){for(var ft="Beginning "+Re+"PreBuffer discharge, adding buffer for:",ie=0;ie<Be.length;ie++)ft+=" start: "+Be.start(ie)+", end: "+Be.end(ie)+";";Ae(ft)}else Ae("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var Me=Ve.discharge(),je=null,Je=0;Je<Me.length;Je++){var nt=Me[Je],gt=Dt.extract(nt.streamId,nt.representationId);gt&&(je!==gt&&(_t.append(gt),je=gt),_t.append(nt))}Ve.reset(),Ve=null}}function ve(){return!(!Ne||!T)&&Ne.getStreamInfo().id===T.getActiveStreamInfo().id}function ye(Be){Be.fragmentModel===Ne.getFragmentModel()&&(Ae("Init fragment finished loading saving to",Re+"'s init cache"),Dt.save(Be.chunk),Ae("Append Init fragment",Re," with representationId:",Be.chunk.representationId," and quality:",Be.chunk.quality),x(Be.chunk))}function se(Be,ft,ie){var Me=Dt.extract(Be,ft);Pt=ie===!0&&ie,Me?(Ae("Append Init fragment",Re," with representationId:",Me.representationId," and quality:",Me.quality),x(Me)):i.trigger(b.default.INIT_REQUESTED,{sender:be})}function Ie(Be){if(Be.fragmentModel===Ne.getFragmentModel()){var ft=Be.chunk,ie=ft.bytes,Me=ft.quality,je=Ne.getRepresentationInfoForQuality(Me),Je=V.getEventsFor(je.mediaInfo,Ne),nt=V.getEventsFor(je,Ne);if(Je&&Je.length>0||nt&&nt.length>0){var gt=Ne.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,quality:Me,index:ft.index})[0],wt=Pe(ie,gt,Je,nt);Ne.getEventController().addInbandEvents(wt)}if(Pt){Ft=ft;var Mt=_t&&_t.getAllBufferRanges();Mt&&Mt.length>0&&we.getTimeToStreamEnd()>K&&(Ae("Clearing buffer because track changed - "+(Mt.end(Mt.length-1)+de)),Ke([{start:0,end:Mt.end(Mt.length-1)+de,force:!0}]))}else x(ft)}}function x(Be){_t.append(Be),Be.mediaInfo.type===u.default.VIDEO&&i.trigger(b.default.VIDEO_CHUNK_RECEIVED,{chunk:Be})}function q(Be){if(Be&&Be.length>0)for(var ft=0,ie=Be.length;ft<ie;ft++)Ae("Buffered Range for type:",Re,":",Be.start(ft)," - ",Be.end(ft)," currentTime = ",we.getTime())}function P(Be){if(Be.error){if(Be.error.code===re&&(dt=.8*ct(),Ae("Quota exceeded for type: "+Re+", Critical Buffer: "+dt),dt>0)){var ft=Math.max(.2*dt,1),ie=dt-ft;r.setBufferToKeep(parseFloat(ft).toFixed(5)),r.setBufferAheadToKeep(parseFloat(ie).toFixed(5))}return void(Be.error.code!==re&&lt()||(Ae("Clearing playback buffer to overcome quota exceed situation for type: "+Re),i.trigger(b.default.QUOTA_EXCEEDED,{sender:be,criticalBufferLevel:dt}),z()))}(ht=Be.chunk)&&!isNaN(ht.index)&&(Et=Math.max(ht.index,Et),ce());var Me=_t.getAllBufferRanges();if(ht.segmentType===ne.HTTPRequest.MEDIA_SEGMENT_TYPE)q(Me),d();else if(Pt){var je=we.getTime();Ae("[BufferController][",Re,"] appendToBuffer seek target should be "+je),Ne.getScheduleController().setSeekTarget(je),V.setIndexHandlerTime(Ne,je)}Ae("[BufferController][",Re,"] onAppended chunk type = ",ht.segmentType," and index = ",ht.index),ht&&i.trigger(b.default.BYTES_APPENDED,{sender:be,quality:ht.quality,startTime:ht.start,index:ht.index,bufferedRanges:Me})}function N(Be){Ue!==Be.newQuality&&Re===Be.mediaType&&Ne.getStreamInfo().id===Be.streamInfo.id&&(Xe(Ne.getRepresentationInfoForQuality(Be.newQuality).MSETimeOffset),Ue=Be.newQuality)}function Q(){We&&(xt=!0,We=!1,Tt=Number.POSITIVE_INFINITY),Re!==u.default.FRAGMENTED_TEXT?z():d(),Ct=void 0}function z(){var Be=oe();Be&&Be.length!==0||d(),Ke(Be)}function oe(){var Be=[],ft=_t.getAllBufferRanges();if(!ft||ft.length===0)return Be;var ie=we.getTime(),Me=ft.end(ft.length-1)+de,je=Ne.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:ie,threshold:fe})[0];if(je){var Je={start:0,end:je.startTime-K},nt=Ne.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:je.startTime-je.duration/2,threshold:fe})[0];nt&&nt.startTime!=je.startTime&&(Je.end=nt.startTime),Je.start<Je.end&&Je.end>ft.start(0)&&Be.push(Je);var gt={start:je.startTime+je.duration+K,end:Me},wt=Ne.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:je.startTime+je.duration+K,threshold:fe})[0];wt&&wt.startTime!==je.startTime&&(gt.start=wt.startTime+wt.duration+K),gt.start<gt.end&&gt.start<Me&&Be.push(gt)}else Ae("getAllRangesWithSafetyFactor for",Re,"- No request found in current time position, removing full buffer 0 -",Me),Be.push({start:0,end:Me});return Be}function he(){var Be=we.getTime();if(Ct){var ft=_t.getAllBufferRanges();ft&&ft.length&&(Be=Math.max(ft.start(0),Ct))}return Be}function d(){Pt||(H(),Y())}function C(Be,ft){var ie=_t.getAllBufferRanges(),Me=0,je=0,Je=null,nt=null,gt=0,wt=void 0,Mt=void 0,Vt=ft||.15;if(ie!=null){for(Mt=0,wt=ie.length;Mt<wt;Mt++)if(Me=ie.start(Mt),je=ie.end(Mt),Je===null)gt=Math.abs(Me-Be),(Be>=Me&&Be<je||gt<=Vt)&&(Je=Me,nt=je);else{if(!((gt=Me-nt)<=Vt))break;nt=je}if(Je!==null)return{start:Je,end:nt}}return null}function F(Be,ft){var ie=void 0;return ie=C(Be,ft),ie===null?0:ie.end-Be}function H(){we&&(st=F(he()||0),i.trigger(b.default.BUFFER_LEVEL_UPDATED,{sender:be,bufferLevel:st}),xe())}function Y(){ve()&&(n.addBufferState(Re,ut,Ne.getScheduleController().getBufferTarget()),n.addBufferLevel(Re,new Date,1e3*st))}function ce(){Et>=Tt-1&&!We&&_t.discharge===void 0&&(We=!0,Ae("[BufferController]["+Re+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),i.trigger(b.default.BUFFERING_COMPLETED,{sender:be,streamInfo:Ne.getStreamInfo()}))}function xe(){Re!=="audio"&&Re!=="video"||(xt&&!We&&we&&we.getTimeToStreamEnd()-st<K&&(xt=!1,We=!0,Ae("[BufferController]["+Re+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),i.trigger(b.default.BUFFERING_COMPLETED,{sender:be,streamInfo:Ne.getStreamInfo()})),st<K&&!We?Se(pe):(We||st>=r.getStableBufferTime())&&Se(X))}function Se(Be){ut===Be||Re===u.default.FRAGMENTED_TEXT&&ee.getAllTracksAreDisabled()||(ut=Be,Y(),i.trigger(b.default.BUFFER_LEVEL_STATE_CHANGED,{sender:be,state:Be,mediaType:Re,streamInfo:Ne.getStreamInfo()}),i.trigger(Be===X?b.default.BUFFER_LOADED:b.default.BUFFER_EMPTY,{mediaType:Re}),Ae(Be===X?"Got enough buffer to start for "+Re:"Waiting for more buffer before starting playback for "+Re))}function Pe(Be,ft,ie,Me){for(var je=Math.max(isNaN(ft.startTime)?0:ft.startTime,0),Je=[],nt=[],gt=ie.concat(Me),wt=0,Mt=gt.length;wt<Mt;wt++)Je[gt[wt].schemeIdUri]=gt[wt];for(var Vt=(0,G.default)(e).getInstance().parse(Be),Lt=Vt.getBoxes("emsg"),wt=0,Mt=Lt.length;wt<Mt;wt++){var Ut=V.getEvent(Lt[wt],Je,je);Ut&&nt.push(Ut)}return nt}function Oe(){_t&&Re!==u.default.FRAGMENTED_TEXT&&(We||Ke(Fe()))}function Fe(){var Be=[],ft=_t.getAllBufferRanges();if(!ft||ft.length===0)return Be;var ie=we.getTime(),Me={start:Math.max(0,ie-r.getBufferToKeep()),end:ie+r.getBufferAheadToKeep()},je=Ne.getFragmentModel().getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:ie,threshold:fe})[0];if(je&&(Me.start=Math.min(je.startTime,Me.start),Me.end=Math.max(je.startTime+je.duration,Me.end)),Ae("getClearRanges for",Re,"- Remove buffer out of ",Me.start," - ",Me.end),ft.start(0)<=Me.start){for(var Je={start:0,end:Me.start},nt=0;nt<ft.length&&ft.end(nt)<=Me.start;nt++)Je.end=ft.end(nt);Je.start<Je.end&&Be.push(Je)}if(ft.end(ft.length-1)>=Me.end){var gt={start:Me.end,end:ft.end(ft.length-1)+fe};gt.start<gt.end&&Be.push(gt)}return Be}function Ke(Be){Be&&_t&&Be.length!==0&&(Nt.push.apply(Nt,Be),bt||rt())}function rt(){if(Nt.length!==0){var Be=Nt.shift();Ae("Removing",Re,"buffer from:",Be.start,"to",Be.end),bt=!0;var ft=we.getTime();ft<Be.end&&(We=!1,Et=0,Pt||(Ne.getScheduleController().setSeekTarget(ft),V.setIndexHandlerTime(Ne,ft))),_t.remove(Be.start,Be.end,Be.force)}}function ke(Be){_t===Be.buffer&&(Ae("[BufferController][",Re,"] onRemoved buffer from:",Be.from,"to",Be.to),q(_t.getAllBufferRanges()),Nt.length===0&&(bt=!1),bt?rt():(Pt?(Pt=!1,x(Ft)):(Ae("onRemoved : call updateBufferLevel"),H()),i.trigger(b.default.BUFFER_CLEARED,{sender:be,from:Be.from,to:Be.to,hasEnoughSpaceToAppend:lt()})))}function Xe(Be){var ft=_t&&_t.getBuffer?_t.getBuffer():null;ft&&ft.timestampOffset!==Be&&!isNaN(Be)&&(ft.timestampOffset=Be)}function Qe(Be){Be.sender.getStreamProcessor()!==Ne||Be.error||Xe(Be.currentRepresentation.MSETimeOffset)}function ze(Be){Be.fragmentModel===Ne.getFragmentModel()&&(Tt=Be.request.index,ce())}function pt(Be){var ft=_t&&_t.getAllBufferRanges();ft&&Be.newMediaInfo.type===Re&&Be.newMediaInfo.streamInfo.id===Ne.getStreamInfo().id&&(Ae("[BufferController]["+Re+"] track change asked"),O.getSwitchMode(Re)===S.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ft&&ft.length>0&&we.getTimeToStreamEnd()>K&&(We=!1,Tt=Number.POSITIVE_INFINITY,Ne.getFragmentModel().abortRequests()))}function mt(){++It*(r.getWallclockTimeUpdateInterval()/1e3)>=r.getBufferPruningInterval()&&(It=0,Oe())}function Ze(){xe()}function $e(){return Re}function Ge(){return Ne}function Le(Be){Ct=Be}function He(){return _t}function at(){return st}function et(Be,ft){yt=Be,_t&&ft&&typeof _t.discharge=="function"&&(Ve=_t,te(ft))}function qe(){return yt}function Ye(){return We}function it(){return bt}function ct(){var Be=_t.getAllBufferRanges(),ft=0,ie=void 0,Me=void 0;if(!Be)return ft;for(Me=0,ie=Be.length;Me<ie;Me++)ft+=Be.end(Me)-Be.start(Me);return ft}function lt(){return ct()<dt}function J(Be){dt=Number.POSITIVE_INFINITY,ut=pe,Ue=D.default.QUALITY_DEFAULT,Tt=Number.POSITIVE_INFINITY,Et=0,ht=null,We=!1,bt=!1,xt=!1,st=0,It=0,Nt=[],_t&&(Be||_t.abort(),_t.reset(),_t=null),Pt=!1}function De(Be){i.off(b.default.DATA_UPDATE_COMPLETED,Qe,this),i.off(b.default.QUALITY_CHANGE_REQUESTED,N,this),i.off(b.default.INIT_FRAGMENT_LOADED,ye,this),i.off(b.default.MEDIA_FRAGMENT_LOADED,Ie,this),i.off(b.default.STREAM_COMPLETED,ze,this),i.off(b.default.CURRENT_TRACK_CHANGED,pt,this),i.off(b.default.PLAYBACK_PROGRESS,d,this),i.off(b.default.PLAYBACK_TIME_UPDATED,d,this),i.off(b.default.PLAYBACK_RATE_CHANGED,Ze,this),i.off(b.default.PLAYBACK_SEEKING,Q,this),i.off(b.default.WALLCLOCK_TIME_UPDATED,mt,this),i.off(b.default.SOURCEBUFFER_REMOVE_COMPLETED,ke,this),J(Be)}W=W||{};var e=this.context,i=(0,B.default)(e).getInstance(),n=W.metricsModel,r=W.mediaPlayerModel,c=W.errHandler,T=W.streamController,O=W.mediaController,V=W.adapter,ee=W.textController,Ee=W.abrController,we=W.playbackController,Re=W.type,Ne=W.streamProcessor,be=void 0,Ae=void 0,Ue=void 0,We=void 0,st=void 0,dt=void 0,yt=void 0,Et=void 0,Tt=void 0,_t=void 0,Ve=void 0,ut=void 0,ht=void 0,It=void 0,bt=void 0,Dt=void 0,Ct=void 0,xt=void 0,Nt=void 0,Pt=void 0,Ft=void 0;return be={getBufferControllerType:me,initialize:Te,createBuffer:te,dischargePreBuffer:ue,getType:$e,getStreamProcessor:Ge,setSeekStartTime:Le,getBuffer:He,getBufferLevel:at,getRangeAt:C,setMediaSource:et,getMediaSource:qe,getIsBufferingCompleted:Ye,switchInitData:se,getIsPruningInProgress:it,reset:De},ae(),be}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(114),g=l(v),_=t(93),p=l(_),y=t(92),I=l(y),E=t(100),D=l(E),R=t(106),S=l(R),L=t(47),B=l(L),k=t(51),b=l(k),A=t(143),G=l(A),w=t(48),M=l(w),U=t(46),j=l(U),le=t(149),Z=l(le),ne=t(179),X="bufferLoaded",pe="bufferStalled",K=.5,de=.5,fe=.01,re=22,ge="BufferController";h.__dashjs_factory_name=ge;var _e=M.default.getClassFactory(h);_e.BUFFER_LOADED=X,_e.BUFFER_EMPTY=pe,M.default.updateClassFactory(h.__dashjs_factory_name,_e),o.default=_e,f.exports=o.default},{100:100,106:106,114:114,143:143,149:149,179:179,46:46,47:47,48:48,51:51,92:92,93:93,98:98}],104:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(){function E(){D()}function D(){te=!1,de={},fe={},re={},ge=null,_e=100,W=_e/1e3}function R(){if(!ae||!me||!Te)throw new Error("setConfig function has to be called previously")}function S(){ge!==null&&te&&(clearInterval(ge),ge=null,te=!1)}function L(){R(),X("Start Event Controller"),te||isNaN(_e)||(te=!0,ge=setInterval(G,_e))}function B(ue){if(R(),de={},ue)for(var ve=0;ve<ue.length;ve++){var ye=ue[ve];de[ye.id]=ye,X("Add inline event with id "+ye.id)}X("Added "+ue.length+" inline events")}function k(ue){R();for(var ve=0;ve<ue.length;ve++){var ye=ue[ve];ye.id in fe?X("Repeated event with id "+ye.id):(ye.eventStream.schemeIdUri===le&&fe[ye.id]===void 0&&b(ye),fe[ye.id]=ye,X("Add inband event with id "+ye.id))}}function b(ue){if(ue.eventStream.value==Z){var ve=ue.eventStream.timescale||1,ye=ue.presentationTime/ve,se=void 0;se=ue.presentationTime==4294967295?NaN:(ue.presentationTime+ue.duration)/ve,X("Manifest validity changed: Valid until: "+ye+"; remaining duration: "+se),pe.trigger(I.default.MANIFEST_VALIDITY_CHANGED,{id:ue.id,validUntil:ye,newDuration:se,newManifestValidAfter:NaN})}}function A(){if(re)for(var ue=Te.getTime(),ve=Object.keys(re),ye=0;ye<ve.length;ye++){var se=ve[ye],Ie=re[se];Ie!==null&&(Ie.duration+Ie.presentationTime)/Ie.eventStream.timescale<ue&&(X("Remove Event "+se+" at time "+ue),Ie=null,delete re[se])}}function G(){M(fe),M(de),A()}function w(){R(),me.refreshManifest()}function M(ue){var ve,ye=Te.getTime();if(ue)for(var se=Object.keys(ue),Ie=0;Ie<se.length;Ie++){var x=se[Ie],q=ue[x];q!==void 0&&((ve=q.presentationTime/q.eventStream.timescale)==0||ve<=ye&&ve+W>ye)&&(X("Start Event "+x+" at "+ye),q.duration>0&&(re[x]=q),q.eventStream.schemeIdUri==le&&q.eventStream.value==Z?q.duration===0&&q.presentationTimeDelta===0||w():pe.trigger(q.eventStream.schemeIdUri,{event:q}),delete ue[x])}}function U(ue){ue&&(ue.manifestModel&&(ae=ue.manifestModel),ue.manifestUpdater&&(me=ue.manifestUpdater),ue.playbackController&&(Te=ue.playbackController))}function j(){S(),D()}var le="urn:mpeg:dash:event:2012",Z=1,ne=this.context,X=(0,g.default)(ne).getInstance().log,pe=(0,p.default)(ne).getInstance(),K=void 0,de=void 0,fe=void 0,re=void 0,ge=void 0,_e=void 0,W=void 0,ae=void 0,me=void 0,Te=void 0,te=void 0;return K={addInlineEvents:B,addInbandEvents:k,stop:S,start:L,setConfig:U,reset:j},E(),K}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_=t(47),p=l(_),y=t(51),I=l(y);h.__dashjs_factory_name="EventController",o.default=u.default.getClassFactory(h),f.exports=o.default},{46:46,47:47,48:48,51:51}],105:[function(t,f,o){"use strict";function l(M){return M&&M.__esModule?M:{default:M}}function h(M){function U(){Z(),fe.on(k.default.FRAGMENT_LOADING_COMPLETED,pe,W)}function j(me){var Te=ae[me];return Te||(Te=(0,y.default)(K).create({metricsModel:_e,fragmentLoader:(0,E.default)(K).create({metricsModel:_e,mediaPlayerModel:ge,errHandler:re,requestModifier:(0,R.default)(K).getInstance()})}),ae[me]=Te),Te}function le(me){return me&&me.type&&me.type===v.HTTPRequest.INIT_SEGMENT_TYPE}function Z(){for(var me in ae)ae[me].reset();ae={}}function ne(){fe.off(k.default.FRAGMENT_LOADING_COMPLETED,pe,this),Z()}function X(me,Te,te){var ue=new _.default;return ue.streamId=te,ue.mediaInfo=Te.mediaInfo,ue.segmentType=Te.type,ue.start=Te.startTime,ue.duration=Te.duration,ue.end=ue.start+ue.duration,ue.bytes=me,ue.index=Te.index,ue.quality=Te.quality,ue.representationId=Te.representationId,ue}function pe(me){if(ae[me.request.mediaType]===me.sender){var Te=me.request,te=me.response,ue=le(Te),ve=Te.mediaInfo.streamInfo;if(me.error&&(me.request.mediaType!==u.default.AUDIO&&me.request.mediaType!==u.default.VIDEO||fe.trigger(k.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:me.request.serviceLocation})),!te||!ve)return void de("No "+Te.mediaType+" bytes to push or stream is inactive.");var ye=X(te,Te,ve.id);fe.trigger(ue?k.default.INIT_FRAGMENT_LOADED:k.default.MEDIA_FRAGMENT_LOADED,{chunk:ye,fragmentModel:me.sender})}}M=M||{};var K=this.context,de=(0,w.default)(K).getInstance().log,fe=(0,L.default)(K).getInstance(),re=M.errHandler,ge=M.mediaPlayerModel,_e=M.metricsModel,W=void 0,ae=void 0;return W={getModel:j,isInitializationRequest:le,reset:ne},U(),W}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(179),g=t(161),_=l(g),p=t(114),y=l(p),I=t(87),E=l(I),D=t(153),R=l(D),S=t(47),L=l(S),B=t(51),k=l(B),b=t(48),A=l(b),G=t(46),w=l(G);h.__dashjs_factory_name="FragmentController",o.default=A.default.getClassFactory(h),f.exports=o.default},{114:114,153:153,161:161,179:179,46:46,47:47,48:48,51:51,87:87,98:98}],106:[function(t,f,o){"use strict";function l(A){return A&&A.__esModule?A:{default:A}}function h(){function A(){_e()}function G(d,C){var F=ne(d),H=M(d,C),Y=[];if(d===u.default.FRAGMENTED_TEXT)return void le(H[0]);F||(F=z.getSavedMediaSettings(d),Z(d,F)),H&&H.length!==0&&(F&&H.forEach(function(ce){ae(F,ce)&&Y.push(ce)}),le(Y.length===0?te(H):Y.length>1?te(Y):Y[0]))}function w(d){var C=d?d.type:null,F=d?d.streamInfo.id:null,H=ne(C);if(d&&fe(C)){x[F]=x[F]||ue();for(var Y=x[F][C].list.length,ce=0;ce<Y;ce++)if(re(x[F][C].list[ce],d))return;x[F][C].list.push(d),H&&ae(H,d)&&!U(C,d.streamInfo)&&le(d)}}function M(d,C){if(!d||!C)return[];var F=C.id;return x[F]&&x[F][d]?x[F][d].list:[]}function U(d,C){return!d||!C||C&&!x[C.id]?null:x[C.id][d].current}function j(d){var C=d.type,F=d.streamInfo.id;return x[F]&&x[F][C]&&re(x[F][C].current,d)}function le(d){if(d){var C=d.type,F=d.streamInfo,H=F.id,Y=U(C,F);if(x[H]&&x[H][C]&&(!Y||!re(d,Y))){x[H][C].current=d,Y&&se.trigger(g.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Y,newMediaInfo:d,switchMode:N[C]});var ce=W(d);ce&&x[H][C].storeLastSettings&&(ce.roles&&(ce.role=ce.roles[0],delete ce.roles),ce.accessibility&&(ce.accessibility=ce.accessibility[0]),ce.audioChannelConfiguration&&(ce.audioChannelConfiguration=ce.audioChannelConfiguration[0]),z.setSavedMediaSettings(C,ce))}}}function Z(d,C){d&&C&&(q[d]=C)}function ne(d){return d?q[d]:null}function X(d,C){if(oe.indexOf(C)===-1)return void ye("track switch mode is not supported: "+C);N[d]=C}function pe(d){return N[d]}function K(d){if(he.indexOf(d)===-1)return void ye("track selection mode is not supported: "+d);P=d}function de(){return P||k}function fe(d){return d===u.default.AUDIO||d===u.default.VIDEO||d===u.default.TEXT||d===u.default.FRAGMENTED_TEXT||d===u.default.IMAGE}function re(d,C){var F=d.id===C.id,H=d.viewpoint===C.viewpoint,Y=d.lang===C.lang,ce=d.roles.toString()===C.roles.toString(),xe=d.accessibility.toString()===C.accessibility.toString(),Se=d.audioChannelConfiguration.toString()===C.audioChannelConfiguration.toString();return F&&H&&Y&&ce&&xe&&Se}function ge(d){d&&(d.errHandler&&(Q=d.errHandler),d.domStorage&&(z=d.domStorage))}function _e(){x={},Te(),me()}function W(d){var C={lang:d.lang,viewpoint:d.viewpoint,roles:d.roles,accessibility:d.accessibility,audioChannelConfiguration:d.audioChannelConfiguration};return C.lang||C.viewpoint||C.role&&C.role.length>0||C.accessibility&&C.accessibility.length>0||C.audioChannelConfiguration&&C.audioChannelConfiguration.length>0?C:null}function ae(d,C){var F=!d.lang||d.lang===C.lang,H=!d.viewpoint||d.viewpoint===C.viewpoint,Y=!d.role||!!C.roles.filter(function(Se){return Se===d.role})[0],ce=!d.accessibility||!!C.accessibility.filter(function(Se){return Se===d.accessibility})[0],xe=!d.audioChannelConfiguration||!!C.audioChannelConfiguration.filter(function(Se){return Se===d.audioChannelConfiguration})[0];return F&&H&&Y&&ce&&xe}function me(){N={audio:S,video:R}}function Te(){q={audio:null,video:null}}function te(d){var C=de(),F=[],H=function(ce){var xe=0,Se=[],Pe=void 0;return ce.forEach(function(Oe){Pe=Math.max.apply(Math,Oe.bitrateList.map(function(Fe){return Fe.bandwidth})),Pe>xe?(xe=Pe,Se=[Oe]):Pe===xe&&Se.push(Oe)}),Se},Y=function(ce){var xe=0,Se=[],Pe=void 0;return ce.forEach(function(Oe){Pe=Oe.representationCount,Pe>xe?(xe=Pe,Se=[Oe]):Pe===xe&&Se.push(Oe)}),Se};switch(C){case L:F=H(d),F.length>1&&(F=Y(F));break;case B:F=Y(d),F.length>1&&(F=H(d));break;default:ye("track selection mode is not supported: "+C)}return F[0]}function ue(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var ve=this.context,ye=(0,D.default)(ve).getInstance().log,se=(0,p.default)(ve).getInstance(),Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0,oe=[S,R],he=[L,B];return Ie={checkInitialMediaSettingsForType:G,addTrack:w,getTracksFor:M,getCurrentTrackFor:U,isCurrentTrack:j,setTrack:le,setInitialSettings:Z,getInitialSettings:ne,setSwitchMode:X,getSwitchMode:pe,setSelectionModeForInitialTrack:K,getSelectionModeForInitialTrack:de,isMultiTrackSupportedByType:fe,isTracksEqual:re,setConfig:ge,reset:_e},A(),Ie}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(51),g=l(v),_=t(47),p=l(_),y=t(48),I=l(y),E=t(46),D=l(E),R="neverReplace",S="alwaysReplace",L="highestBitrate",B="widestRange",k=L;h.__dashjs_factory_name="MediaController";var b=I.default.getSingletonFactory(h);b.TRACK_SWITCH_MODE_NEVER_REPLACE=R,b.TRACK_SWITCH_MODE_ALWAYS_REPLACE=S,b.TRACK_SELECTION_MODE_HIGHEST_BITRATE=L,b.TRACK_SELECTION_MODE_WIDEST_RANGE=B,b.DEFAULT_INIT_TRACK_SELECTION_MODE=k,I.default.updateSingletonFactory(h.__dashjs_factory_name,b),o.default=b,f.exports=o.default},{46:46,47:47,48:48,51:51,98:98}],107:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(){var E="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:E?new WebKitMediaSource:null}function g(E,D){var R=window.URL.createObjectURL(E);return D.setSource(R),R}function _(E){E.setSource(null)}function p(E,D){return E.duration!=D&&(E.duration=D),E.duration}function y(E,D,R){E&&typeof E.setLiveSeekableRange=="function"&&typeof E.clearLiveSeekableRange=="function"&&E.readyState==="open"&&D>=0&&D<R&&(E.clearLiveSeekableRange(),E.setLiveSeekableRange(D,R))}function I(E){var D=E.sourceBuffers,R=D.length;if(E.readyState==="open"){for(var S=0;S<R;S++)if(D[S].updating||D[S].buffered.length===0)return;E.endOfStream()}}return{createMediaSource:v,attachMediaSource:g,detachMediaSource:_,setDuration:p,setSeekable:y,signalEndOfStream:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="MediaSourceController",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],108:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(){function b(){ae()}function A(e){it=e,Oe(),ct=it.manifestInfo.isDynamic,He=it.start,ke.on(D.default.DATA_UPDATE_COMPLETED,Ie,this),ke.on(D.default.BYTES_APPENDED,Se,this),ke.on(D.default.BUFFER_LEVEL_STATE_CHANGED,Pe,this),ke.on(D.default.PERIOD_SWITCH_STARTED,G,this),J&&(J=!1,M())}function G(e){!ct&&e.fromStreamInfo&&et[e.fromStreamInfo.id]!==void 0&&(delete Ye[e.fromStreamInfo.id],delete et[e.fromStreamInfo.id])}function w(){var e=te(!0),i=ct?e-it.start:0;return parseFloat((e+(it.duration-i)-ne()).toFixed(5))}function M(){it&&Ge&&Ge.getElement()?Ge.play():J=!0}function U(){return it&&Ge?Ge.isPaused():null}function j(){it&&Ge&&Ge.pause()}function le(){return it&&Ge?Ge.isSeeking():null}function Z(e){it&&Ge&&(ke.trigger(D.default.PLAYBACK_SEEK_ASKED),rt("Requesting seek to time: "+e),Ge.setCurrentTime(e))}function ne(){return it&&Ge?Ge.getTime():null}function X(){return it&&Ge?Ge.getPlaybackRate():null}function pe(){return it&&Ge?Ge.getPlayedRanges():null}function K(){return it&&Ge?Ge.getEnded():null}function de(){return ct}function fe(){return Qe}function re(e){He=e}function ge(){return He}function _e(e,i){var n=Ze.getMpd(mt.getValue()),r=void 0,c=void 0;if(r=lt.getUseSuggestedPresentationDelay()&&n.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)?n.suggestedPresentationDelay:lt.getLiveDelay()?lt.getLiveDelay():isNaN(e)?2*it.manifestInfo.minBufferTime:e*lt.getLiveDelayFragmentCount(),i>0){var T=Math.max(i-10,i/2);c=Math.min(r,T)}else c=r;return qe=c,c}function W(){return qe}function ae(){Le=0,He=NaN,at=null,J=!1,et={},qe=0,Ye={},Ge&&(ke.off(D.default.DATA_UPDATE_COMPLETED,Ie,this),ke.off(D.default.BUFFER_LEVEL_STATE_CHANGED,Pe,this),ke.off(D.default.BYTES_APPENDED,Se,this),ke.off(D.default.PERIOD_SWITCH_STARTED,G,this),ye(),Fe()),Ge=null,it=null,ct=null}function me(e){e&&(e.streamController&&(Qe=e.streamController),e.metricsModel&&(ze=e.metricsModel),e.dashMetrics&&(pt=e.dashMetrics),e.manifestModel&&(mt=e.manifestModel),e.dashManifestModel&&(Ze=e.dashManifestModel),e.mediaPlayerModel&&(lt=e.mediaPlayerModel),e.adapter&&($e=e.adapter),e.videoModel&&(Ge=e.videoModel))}function Te(){var e=(0,p.default)(Ke).getInstance().getURIFragmentData(),i=void 0;if(e){i={};var n=parseInt(e.r,10);n>=0&&it&&n<it.manifestInfo.DVRWindowSize&&e.t===null&&(e.t=Math.floor(Date.now()/1e3)-it.manifestInfo.DVRWindowSize+n),i.fragS=parseInt(e.s,10),i.fragT=parseInt(e.t,10)}return i}function te(e,i){var n=void 0,r=NaN,c=Te();if(r=c?e?it.start:isNaN(c.fragS)?c.fragT:c.fragS:0,ct)isNaN(r)||((n=r-it.manifestInfo.availableFrom.getTime()/1e3)>He||n<(isNaN(i)?NaN:i-it.manifestInfo.DVRWindowSize))&&(n=null),n=n||He;else if(!isNaN(r)&&r<Math.max(it.manifestInfo.duration,it.duration)&&r>=0)n=r;else{var T=et[it.id];n=T!==void 0?Math.max(T.audio!==void 0?T.audio:0,T.video!==void 0?T.video:0,it.start):it.start}return n}function ue(e){var i=ze.getReadOnlyMetricsFor(u.default.VIDEO)||ze.getReadOnlyMetricsFor(u.default.AUDIO),n=pt.getCurrentDVRInfo(i),r=n?n.range:null,c=void 0;if(!r)return NaN;if(e>r.end)c=Math.max(r.end-2*it.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;c=r.start}return c}function ve(){if(at===null){var e=function(){ce()};at=setInterval(e,lt.getWallclockTimeUpdateInterval())}}function ye(){clearInterval(at),at=null}function se(){if(!U()&&ct&&Ge.getReadyState()!==0){var e=ne(),i=ue(e);!isNaN(i)&&i!==e&&Z(i)}}function Ie(e){if(!e.error){var i=$e.convertDataToRepresentationInfo(e.currentRepresentation),n=i.mediaInfo.streamInfo;it.id===n.id&&(it=n,se())}}function x(){ke.trigger(D.default.CAN_PLAY)}function q(){rt("Native video element event: play"),se(),ve(),ke.trigger(D.default.PLAYBACK_STARTED,{startTime:ne()})}function P(){rt("Native video element event: playing"),ke.trigger(D.default.PLAYBACK_PLAYING,{playingTime:ne()})}function N(){rt("Native video element event: pause"),ke.trigger(D.default.PLAYBACK_PAUSED,{ended:K()})}function Q(){var e=ne();rt("Seeking to: "+e),ve(),ke.trigger(D.default.PLAYBACK_SEEKING,{seekTime:e})}function z(){rt("Native video element event: seeked"),ke.trigger(D.default.PLAYBACK_SEEKED)}function oe(){var e=ne();Le=e,ke.trigger(D.default.PLAYBACK_TIME_UPDATED,{timeToEnd:w(),time:e})}function he(){var e=Date.now();(!De||e>De+k)&&(De=e,oe())}function d(){ke.trigger(D.default.PLAYBACK_PROGRESS)}function C(){var e=X();rt("Native video element event: ratechange: ",e),ke.trigger(D.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function F(){rt("Native video element event: loadedmetadata"),ke.trigger(D.default.PLAYBACK_METADATA_LOADED),ve()}function H(){rt("Native video element event: ended"),j(),ye(),ke.trigger(D.default.PLAYBACK_ENDED)}function Y(e){var i=e.target||e.srcElement;ke.trigger(D.default.PLAYBACK_ERROR,{error:i.error})}function ce(){ke.trigger(D.default.WALLCLOCK_TIME_UPDATED,{isDynamic:ct,time:new Date}),de()&&U()&&he()}function xe(e,i){if(i&&i.length>0){for(var n=0,r=i.length;n<r;n++)if(e>=i.start(n)&&e<i.end(n))return!0}return!1}function Se(e){var i=void 0,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!et[it.id]||et[it.id].started!==!0)){var c=e.sender.getType();Ye[it.id]===void 0&&(Ye[it.id]=[]),Ye[it.id][c]=r,et[it.id]===void 0&&(et[it.id]=[],et[it.id].started=!1),et[it.id][c]===void 0&&(et[it.id][c]=Math.max(r.start(0),it.start));var T=Qe.isVideoTrackPresent(),O=Qe.isAudioTrackPresent();n=te(!1),O&&T?isNaN(et[it.id].audio)||isNaN(et[it.id].video)||(et[it.id].audio<et[it.id].video?(i=et[it.id].video>n?et[it.id].video:n,r=Ye[it.id].audio):(i=et[it.id].audio>n?et[it.id].audio:n,r=Ye[it.id].video),xe(i,r)&&(le()||Z(i),et[it.id].started=!0)):et[it.id][c]&&(i=et[it.id][c]>n?et[it.id][c]:n,le()||Z(i),et[it.id].started=!0)}}function Pe(e){e.streamInfo.id===it.id&&Ge.setStallState(e.mediaType,e.state===g.default.BUFFER_EMPTY)}function Oe(){Ge.addEventListener("canplay",x),Ge.addEventListener("play",q),Ge.addEventListener("playing",P),Ge.addEventListener("pause",N),Ge.addEventListener("error",Y),Ge.addEventListener("seeking",Q),Ge.addEventListener("seeked",z),Ge.addEventListener("timeupdate",oe),Ge.addEventListener("progress",d),Ge.addEventListener("ratechange",C),Ge.addEventListener("loadedmetadata",F),Ge.addEventListener("ended",H)}function Fe(){Ge.removeEventListener("canplay",x),Ge.removeEventListener("play",q),Ge.removeEventListener("playing",P),Ge.removeEventListener("pause",N),Ge.removeEventListener("error",Y),Ge.removeEventListener("seeking",Q),Ge.removeEventListener("seeked",z),Ge.removeEventListener("timeupdate",oe),Ge.removeEventListener("progress",d),Ge.removeEventListener("ratechange",C),Ge.removeEventListener("loadedmetadata",F),Ge.removeEventListener("ended",H)}var Ke=this.context,rt=(0,B.default)(Ke).getInstance().log,ke=(0,I.default)(Ke).getInstance(),Xe=void 0,Qe=void 0,ze=void 0,pt=void 0,mt=void 0,Ze=void 0,$e=void 0,Ge=void 0,Le=void 0,He=void 0,at=void 0,et=void 0,qe=void 0,Ye=void 0,it=void 0,ct=void 0,lt=void 0,J=void 0,De=void 0;return Xe={initialize:A,setConfig:me,getStartTimeFromUriParameters:Te,getStreamStartTime:te,getTimeToStreamEnd:w,getTime:ne,getPlaybackRate:X,getPlayedRanges:pe,getEnded:K,getIsDynamic:de,getStreamController:fe,setLiveStartTime:re,getLiveStartTime:ge,computeLiveDelay:_e,getLiveDelay:W,play:M,isPaused:U,pause:j,isSeeking:le,seek:Z,reset:ae},b(),Xe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(103),g=l(v),_=t(118),p=l(_),y=t(47),I=l(y),E=t(51),D=l(E),R=t(48),S=l(R),L=t(46),B=l(L),k=500;h.__dashjs_factory_name="PlaybackController",o.default=S.default.getSingletonFactory(h),f.exports=o.default},{103:103,118:118,46:46,47:47,48:48,51:51,98:98}],109:[function(t,f,o){"use strict";function l(Z){return Z&&Z.__esModule?Z:{default:Z}}function h(Z){function ne(){i=(0,U.default)(mt).getInstance().log.bind(e),ze()}function X(){n=J.getFragmentModel(),Ue=et.getScheduleWhilePaused(),be=(0,E.default)(mt).create({abrController:qe,dashMetrics:Le,metricsModel:$e,mediaPlayerModel:et,textController:ct}),Ae=(0,R.default)(mt).create({adapter:Ge,textController:ct}),He.getIsTextTrack(lt)&&Ze.on(A.default.TIMED_TEXT_REQUESTED,F,this),Ze.on(A.default.QUALITY_CHANGE_REQUESTED,ue,this),Ze.on(A.default.DATA_UPDATE_STARTED,z,this),Ze.on(A.default.DATA_UPDATE_COMPLETED,ye,this),Ze.on(A.default.FRAGMENT_LOADING_COMPLETED,q,this),Ze.on(A.default.STREAM_COMPLETED,x,this),Ze.on(A.default.STREAM_INITIALIZED,se,this),Ze.on(A.default.BUFFER_LEVEL_STATE_CHANGED,he,this),Ze.on(A.default.BUFFER_CLEARED,oe,this),Ze.on(A.default.BYTES_APPENDED,N,this),Ze.on(A.default.INIT_REQUESTED,W,this),Ze.on(A.default.QUOTA_EXCEEDED,d,this),Ze.on(A.default.PLAYBACK_SEEKING,Y,this),Ze.on(A.default.PLAYBACK_STARTED,H,this),Ze.on(A.default.PLAYBACK_RATE_CHANGED,ce,this),Ze.on(A.default.PLAYBACK_TIME_UPDATED,P,this),Ze.on(A.default.URL_RESOLUTION_FAILED,C,this),Ze.on(A.default.FRAGMENT_LOADING_ABANDONED,Q,this)}function pe(){return T===!1}function K(){if(!r||J.isBufferingCompleted())return void i("[ScheduleController][",lt,"] start denied");i("[ScheduleController][",lt,"] start"),Qe(),T=!1,c&&(c=!1),_e(0)}function de(){T||(i("[ScheduleController][",lt,"] stop"),T=!0,clearTimeout(Re))}function fe(Ve,ut){st[ut]=st[ut]||{};var ht=qe.getTopQualityIndexFor(Ve,ut);return st[ut][Ve]!=ht&&(i("Top quality "+Ve+" index has changed from "+st[ut][Ve]+" to "+ht),st[ut][Ve]=ht,!0)}function re(){if(T||Ee||!J.getBufferController()||Ye.isPaused()&&!Ue)return void i("[ScheduleController][",lt,"] - schedule stop!");ge();var Ve=yt.length>0,ut=J.getStreamInfo();if(Tt||isNaN(dt)||Et||Ve||fe(r.mediaInfo.type,ut.id)||be.execute(J,lt,it.isVideoTrackPresent())){var ht=function(){var It=J.getFragmentController();if(r.quality!==dt)i("ScheduleController - "+lt+" - quality has changed, get init request for representationid = "+r.id),dt=r.quality,J.switchInitData(r.id);else if(Et)i("ScheduleController - "+lt+" - switch track has been asked, get init request for "+lt+" with representationid = "+r.id),Tt=De.getSwitchMode(lt)===le.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,J.switchInitData(r.id,Tt),dt=r.quality,Et=!1;else{var bt=yt.shift();if(It.isInitializationRequest(bt))J.switchInitData(bt.representationId);else{var Dt=void 0;J.getBufferController().getIsPruningInProgress()||!(Dt=Ae.execute(J,bt))&&ut.manifestInfo&&ut.manifestInfo.isDynamic&&i("getNextFragment - "+lt+" - Playing at the bleeding live edge and frag is not available yet"),Dt?(i("ScheduleController - "+lt+" - getNextFragment - request is "+Dt.url),n.executeRequest(Dt)):(ae(!1),_e(500))}}};ae(!0),Ve||Et||qe.checkPlaybackQuality(lt),ht()}else _e(500)}function ge(){var Ve=1.5*r.fragmentDuration,ut=n.getRequests({state:L.default.FRAGMENT_MODEL_EXECUTED,time:Ye.getTime()+Ve,threshold:0})[0];if(ut&&yt.indexOf(ut)===-1&&!He.getIsTextTrack(lt)){var ht=et.getFastSwitchEnabled(),It=J.getBufferLevel(),bt=qe.getAbandonmentStateFor(lt);ht&&ut.quality<r.quality&&It>=Ve&&bt!==_.default.ABANDON_LOAD?(te(ut),i("Reloading outdated fragment at index: ",ut.index)):ut.quality>r.quality&&Se(Ye.getTime()+J.getBufferLevel())}}function _e(Ve){clearTimeout(Re),Re=setTimeout(re,Ve)}function W(Ve){Ve.sender&&Ve.sender.getStreamProcessor()===J&&me(r.quality)}function ae(Ve){Ee!==Ve?Ee=Ve:i("[ScheduleController][",lt,"] isFragmentProcessingInProgress is already equal to",Ve)}function me(Ve){var ut=Ge.getInitRequest(J,Ve);ut&&(ae(!0),n.executeRequest(ut))}function Te(){Et=!0}function te(Ve){yt.push(Ve)}function ue(Ve){if(lt===Ve.mediaType&&J.getStreamInfo().id===Ve.streamInfo.id){if((r=J.getRepresentationInfoForQuality(Ve.newQuality))===null||r===void 0)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");Xe(new Date,v.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Qe()}}function ve(Ve){if(Ye&&n){var ut=n.getRequests({state:L.default.FRAGMENT_MODEL_EXECUTED,time:Ye.getTime(),threshold:0})[0];ut&&Ye.getTime()>=ut.startTime&&((!We.mediaInfo||ut.mediaInfo.type===We.mediaInfo.type&&ut.mediaInfo.id!==We.mediaInfo.id)&&Ve&&Ze.trigger(A.default.TRACK_CHANGE_RENDERED,{mediaType:lt,oldMediaInfo:We.mediaInfo,newMediaInfo:ut.mediaInfo}),ut.quality===We.quality&&ut.adaptationIndex===We.adaptationIndex||!Ve||Ze.trigger(A.default.QUALITY_CHANGE_RENDERED,{mediaType:lt,oldQuality:We.quality,newQuality:ut.quality}),We={mediaInfo:ut.mediaInfo,quality:ut.quality,adaptationIndex:ut.adaptationIndex})}}function ye(Ve){Ve.error||Ve.sender.getStreamProcessor()!==J||(r=Ge.convertDataToRepresentationInfo(Ve.currentRepresentation))}function se(Ve){Ve.error||J.getStreamInfo().id!==Ve.streamInfo.id||(r=J.getCurrentRepresentationInfo(),c&&(Ye.getIsDynamic()?(at.setTimeSyncCompleted(!0),Ie()):(Ne=Ye.getStreamStartTime(!1),J.getBufferController().setSeekStartTime(Ne))),T&&K())}function Ie(){var Ve=J.getLiveEdgeFinder();if(Ve){var ut=Ve.getLiveEdge(),ht=r.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,It=ut-Ye.computeLiveDelay(r.fragmentDuration,ht),bt=Ge.getFragmentRequestForTime(J,r,It,{ignoreIsFinished:!0});Ye.setLiveStartTime(bt.startTime),Ne=Ye.getStreamStartTime(!1,ut),Ne>r.mediaInfo.streamInfo.start+r.mediaInfo.streamInfo.duration&&Ye.seek(Ne);var Dt=Le.getCurrentManifestUpdate($e.getMetricsFor(u.default.STREAM));$e.updateManifestUpdateInfo(Dt,{currentTime:Ne,presentationStartTime:ut,latency:ut-Ne,clientTimeOffset:at.getClientTimeOffset()})}}function x(Ve){Ve.fragmentModel===n&&(de(),ae(!1),i("[ScheduleController] Stream is complete"))}function q(Ve){Ve.sender===n&&(i("[ScheduleController][",lt,"] - onFragmentLoadingCompleted"),He.getIsTextTrack(lt)&&ae(!1),Ve.error&&Ve.request.serviceLocation&&!T&&(te(Ve.request),ae(!1),_e(0)),Tt&&(_t=Ve.request))}function P(){ve(!0)}function N(Ve){Ve.sender.getStreamProcessor()===J&&(Tt&&!isNaN(Ve.startTime)&&(Tt=!1,n.addExecutedRequest(_t)),ae(!1),_e(0))}function Q(Ve){Ve.streamProcessor===J&&(i("[ScheduleController][onFragmentLoadingAbandoned] for "+lt+", request: "+Ve.request.url+" has been aborted"),Ye.isSeeking()||(i("[ScheduleController][onFragmentLoadingAbandoned] for "+lt+", request: "+Ve.request.url+" has to be downloaded again, origin is not seeking process"),te(Ve.request)),ae(!1),_e(0))}function z(Ve){Ve.sender.getStreamProcessor()===J&&de()}function oe(Ve){Ve.sender.getStreamProcessor()===J&&(J.getFragmentModel().syncExecutedRequestsWithBufferedRange(J.getBufferController().getBuffer().getAllBufferRanges(),J.getStreamInfo().duration),Ve.hasEnoughSpaceToAppend&&T&&K())}function he(Ve){Ve.sender.getStreamProcessor()!==J||Ve.state!==y.default.BUFFER_EMPTY||Ye.isSeeking()||(i("[ScheduleController][",lt,"] - Buffer is empty! Stalling!"),Xe(new Date,v.PlayListTrace.REBUFFERING_REASON))}function d(Ve){Ve.sender.getStreamProcessor()===J&&(de(),ae(!1))}function C(){n.abortRequests(),de()}function F(Ve){Ve.sender.getStreamProcessor()===J&&me(Ve.index)}function H(){!T&&Ue||K()}function Y(Ve){Ne=Ve.seekTime,Pe(0),T&&K();var ut=Le.getCurrentManifestUpdate($e.getMetricsFor(u.default.STREAM)),ht=r.DVRWindow&&Ye?r.DVRWindow.end-Ye.getTime():NaN;$e.updateManifestUpdateInfo(ut,{latency:ht}),Ee?(i("[ScheduleController][onPlaybackSeeking] for "+lt+", call fragmentModel.abortRequests in order to seek quicker"),n.abortRequests()):_e(0)}function ce(Ve){V&&(V.playbackspeed=Ve.playbackRate.toString())}function xe(){return Ne}function Se(Ve){Ne=Ve}function Pe(Ve){we=Ve}function Oe(){return we}function Fe(){return be.getBufferTarget(J,lt,it.isVideoTrackPresent())}function Ke(){return lt}function rt(Ve){O=Ve}function ke(Ve,ut){Xe(Ve,ut),O=null}function Xe(Ve,ut){if(O&&ee===!1){var ht=V.start,It=Ve.getTime()-ht.getTime();V.duration=It,V.stopreason=ut,O.trace.push(V),ee=!0}}function Qe(){O&&ee===!0&&r&&(ee=!1,V=new v.PlayListTrace,V.representationid=r.id,V.start=new Date,V.mstart=1e3*Ye.getTime(),V.playbackspeed=Ye.getPlaybackRate().toString())}function ze(){Ee=!1,we=0,Ne=NaN,O=null,V=null,ee=!0,c=!0,dt=NaN,We={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},st={},yt=[],T=!0,Et=!1,Tt=!1,_t=null}function pt(){Ze.off(A.default.DATA_UPDATE_STARTED,z,this),Ze.off(A.default.DATA_UPDATE_COMPLETED,ye,this),Ze.off(A.default.BUFFER_LEVEL_STATE_CHANGED,he,this),Ze.off(A.default.QUALITY_CHANGE_REQUESTED,ue,this),Ze.off(A.default.FRAGMENT_LOADING_COMPLETED,q,this),Ze.off(A.default.STREAM_COMPLETED,x,this),Ze.off(A.default.STREAM_INITIALIZED,se,this),Ze.off(A.default.QUOTA_EXCEEDED,d,this),Ze.off(A.default.BYTES_APPENDED,N,this),Ze.off(A.default.BUFFER_CLEARED,oe,this),Ze.off(A.default.INIT_REQUESTED,W,this),Ze.off(A.default.PLAYBACK_RATE_CHANGED,ce,this),Ze.off(A.default.PLAYBACK_SEEKING,Y,this),Ze.off(A.default.PLAYBACK_STARTED,H,this),Ze.off(A.default.PLAYBACK_TIME_UPDATED,P,this),Ze.off(A.default.URL_RESOLUTION_FAILED,C,this),Ze.off(A.default.FRAGMENT_LOADING_ABANDONED,Q,this),He.getIsTextTrack(lt)&&Ze.off(A.default.TIMED_TEXT_REQUESTED,F,this),de(),ve(!1),ze()}Z=Z||{};var mt=this.context,Ze=(0,k.default)(mt).getInstance(),$e=Z.metricsModel,Ge=Z.adapter,Le=Z.dashMetrics,He=Z.dashManifestModel,at=Z.timelineConverter,et=Z.mediaPlayerModel,qe=Z.abrController,Ye=Z.playbackController,it=Z.streamController,ct=Z.textController,lt=Z.type,J=Z.streamProcessor,De=Z.mediaController,e=void 0,i=void 0,n=void 0,r=void 0,c=void 0,T=void 0,O=void 0,V=void 0,ee=void 0,Ee=void 0,we=void 0,Re=void 0,Ne=void 0,be=void 0,Ae=void 0,Ue=void 0,We=void 0,st=void 0,dt=void 0,yt=void 0,Et=void 0,Tt=void 0,_t=void 0;return e={initialize:X,getType:Ke,getSeekTarget:xe,setSeekTarget:Se,setTimeToLoadDelay:Pe,getTimeToLoadDelay:Oe,replaceRequest:te,switchTrackAsked:Te,isStarted:pe,start:K,stop:de,reset:pt,setPlayList:rt,getBufferTarget:Fe,finalisePlayList:ke},ne(),e}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(181),g=t(100),_=l(g),p=t(103),y=l(p),I=t(132),E=l(I),D=t(133),R=l(D),S=t(114),L=l(S),B=t(47),k=l(B),b=t(51),A=l(b),G=t(48),w=l(G),M=t(46),U=l(M),j=t(106),le=l(j);h.__dashjs_factory_name="ScheduleController",o.default=w.default.getClassFactory(h),f.exports=o.default},{100:100,103:103,106:106,114:114,132:132,133:133,181:181,46:46,47:47,48:48,51:51,98:98}],110:[function(t,f,o){"use strict";function l(ge){return ge&&ge.__esModule?ge:{default:ge}}function h(){function ge(){T=(0,pe.default)(et).getInstance(),O=(0,de.default)(et).getInstance(),c=(0,re.default)(et).getInstance(),Re=(0,U.default)(et).getInstance(),Ne=(0,le.default)(et).getInstance(),Ge()}function _e(ie,Me){Xe(),yt=ie,dt=Me,Ae.initialize(),lt=(0,I.default)(et).create(),lt.setConfig({manifestModel:De,dashManifestModel:e,mediaPlayerModel:It,manifestLoader:J}),lt.initialize(),O.setConfig({dashManifestModel:e}),Ye.on(S.default.TIME_SYNCHRONIZATION_COMPLETED,Y,this),Ye.on(S.default.PLAYBACK_SEEKING,Te,this),Ye.on(S.default.PLAYBACK_TIME_UPDATED,W,this),Ye.on(S.default.PLAYBACK_ENDED,P,this),Ye.on(S.default.PLAYBACK_ERROR,Ke,this),Ye.on(S.default.PLAYBACK_STARTED,te,this),Ye.on(S.default.PLAYBACK_PAUSED,ue,this),Ye.on(S.default.MANIFEST_UPDATED,ce,this),Ye.on(S.default.STREAM_BUFFERING_COMPLETED,se,this),Ye.on(S.default.MANIFEST_VALIDITY_CHANGED,mt,this),Ye.on(S.default.WALLCLOCK_TIME_UPDATED,ae,this),Ye.on(ne.default.METRIC_ADDED,He,this)}function W(){if(Se()){var ie=ut.getPlaybackQuality();ie&&n.addDroppedFrames(u.default.VIDEO,ie)}}function ae(){if(!(!It.getJumpGaps()||!We||We.getProcessors().length===0||ht.isSeeking()||bt||Et||Tt||_t)&&++Be>=at){var ie=ht.getTime();ft===ie?me(ie):ft=ie,Be=0}}function me(ie){for(var Me=We.getProcessors(),je=It.getSmallGapLimit(),Je=void 0,nt=0;nt<Me.length;nt++){var gt=Me[nt].getBuffer(),wt=gt.getAllBufferRanges(),Mt=void 0;if(wt&&!(wt.length<=1)){for(var Vt=0;Vt<wt.length;Vt++)if(ie<wt.start(Vt)){Mt=wt.start(Vt);break}if(Mt>0){var Lt=Mt-ie;Lt>0&&Lt<=je&&(Je===void 0||Mt>Je)&&(Je=Mt)}}}var Ut=ht.getTimeToStreamEnd();Je===void 0&&!isNaN(Ut)&&Ut<je&&(Je=ie+Ut),Je>0&&(!isNaN(Ut)&&Je>=ie+Ut?(qe("Jumping media gap (discontinuity) at time ",ie,". Jumping to end of the stream"),Ye.trigger(S.default.PLAYBACK_ENDED)):(qe("Jumping media gap (discontinuity) at time ",ie,". Jumping to time position",Je),ht.seek(Je)))}function Te(ie){var Me=Ie(ie.seekTime);Ft&&(ve(),Pt=!1),Me&&Me!==We?(Oe(A.PlayListTrace.END_OF_PERIOD_STOP_REASON),Q(We,Me,ie.seekTime)):Oe(A.PlayListTrace.USER_REQUEST_STOP_REASON),Fe(A.PlayList.SEEK_START_REASON)}function te(){qe("[StreamController][onPlaybackStarted]"),Dt?(Dt=!1,Fe(A.PlayList.INITIAL_PLAYOUT_START_REASON)):bt&&(bt=!1,Fe(A.PlayList.RESUME_FROM_PAUSE_START_REASON),ye())}function ue(ie){qe("[StreamController][onPlaybackPaused]"),ie.ended||(bt=!0,Oe(A.PlayListTrace.USER_REQUEST_STOP_REASON),ye())}function ve(){qe("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(Ft),Ft=void 0}function ye(){if(Pt)if(Ft)ve();else{var ie=ht.getTimeToStreamEnd(),Me=ie>0?1e3*ie:0;qe("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+Me+" milliseconds"),Ft=setTimeout(function(){Ye.trigger(S.default.PLAYBACK_ENDED)},Me)}}function se(){var ie=rt().isLast;Ve&&ie?(qe("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),c.signalEndOfStream(Ve)):Ve&&Ft===void 0&&(qe("[StreamController][onStreamBufferingCompleted] end of period detected"),Pt=!0,bt===!1&&ye())}function Ie(ie){var Me=0,je=null,Je=Ue.length;Je>0&&(Me+=Ue[0].getStartTime());for(var nt=0;nt<Je;nt++)if(je=Ue[nt],Me=parseFloat((Me+je.getDuration()).toFixed(5)),ie<Me)return je;return null}function x(ie,Me){for(var je=null,Je=0,nt=0,gt=null,wt=Ue.length,Mt=0;Mt<wt;Mt++){if(je=Ue[Mt],nt=je.getStartTime(),gt=je.getDuration(),Number.isFinite(nt)&&(Je=nt),je.getId()===Me)return ie-Je;Number.isFinite(gt)&&(Je+=gt)}return null}function q(){return We?We.getProcessors():[]}function P(){var ie=N();ie?(Nt=void 0,xt=void 0,Q(We,ie,NaN)):qe("StreamController no next stream found"),Oe(ie?A.PlayListTrace.END_OF_PERIOD_STOP_REASON:A.PlayListTrace.END_OF_CONTENT_STOP_REASON),Ft=void 0,Pt=!1}function N(){if(We){var ie=function(){var Me=We.getStreamInfo().start,je=We.getStreamInfo().duration;return{v:Ue.filter(function(Je){return Je.getStreamInfo().start===parseFloat((Me+je).toFixed(5))})[0]}}();if(typeof ie=="object")return ie.v}}function Q(ie,Me,je){!Et&&Me&&ie!==Me&&(Et=!0,Ye.trigger(S.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:ie?ie.getStreamInfo():null,toStreamInfo:Me.getStreamInfo()}),ie&&(ie.stopEventController(),ie.deactivate()),We=Me,ht.initialize(We.getStreamInfo()),ut.getElement()?he(je,ie,!1):z(je))}function z(ie){d(ie)}function oe(ie){ht.initialize(We.getStreamInfo()),he(ie,null,!0)}function he(ie,Me,je){function Je(){qe("MediaSource is open!"),window.URL.revokeObjectURL(nt),Ve.removeEventListener("sourceopen",Je),Ve.removeEventListener("webkitsourceopen",Je),C(),Me||Ye.trigger(S.default.SOURCE_INITIALIZED),je?We.setMediaSource(Ve):d(ie)}var nt=void 0;Ve?c.detachMediaSource(ut):Ve=c.createMediaSource(),Ve.addEventListener("sourceopen",Je,!1),Ve.addEventListener("webkitsourceopen",Je,!1),nt=c.attachMediaSource(Ve,ut),qe("MediaSource attached to element.  Waiting on open...")}function d(ie){We.activate(Ve),Nt=Pe(u.default.AUDIO),xt=Pe(u.default.VIDEO),Dt||(isNaN(ie)?function(){var Me=ht.getStreamStartTime(!0);We.getProcessors().forEach(function(je){i.setIndexHandlerTime(je,Me)})}():ht.seek(ie)),We.startEventController(),!yt&&Dt||ht.play(),Et=!1,Ye.trigger(S.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:We.getStreamInfo()})}function C(){var ie=We.getStreamInfo().manifestInfo.duration,Me=c.setDuration(Ve,ie);qe("Duration successfully set to: "+Me)}function F(ie){for(var Me=0,je=Ue.length;Me<je;Me++)if(Ue[Me].getId()===ie.id)return Ue[Me];return null}function H(){try{var ie=i.getStreamsInfo();if(ie.length===0)throw new Error("There are no streams");var Me=r.getCurrentManifestUpdate(n.getMetricsFor(u.default.STREAM));n.updateManifestUpdateInfo(Me,{currentTime:ht.getTime(),buffered:ut.getBufferRange(),presentationStartTime:ie[0].start,clientTimeOffset:Ae.getClientTimeOffset()});for(var je=0,Je=ie.length;je<Je;je++){var nt=ie[je],gt=F(nt);gt?gt.updateData(nt):(gt=(0,p.default)(et).create({manifestModel:De,dashManifestModel:e,mediaPlayerModel:It,metricsModel:n,dashMetrics:r,manifestUpdater:lt,adapter:i,timelineConverter:Ae,capabilities:ct,errHandler:be,baseURLController:O,domStorage:V,abrController:ee,playbackController:ht,mediaController:Ee,textController:we,videoModel:ut,streamController:it}),Ue.push(gt),gt.initialize(nt,st)),n.addManifestUpdateStreamInfo(Me,nt.id,nt.index,nt.start,nt.duration)}if(!We){var wt=ht.getStartTimeFromUriParameters(),Mt=null;wt&&(Mt=Ie(isNaN(wt.fragS)?wt.fragT:wt.fragS)),Q(null,Mt!==null?Mt:Ue[0],NaN)}Ye.trigger(S.default.STREAMS_COMPOSED)}catch(Vt){be.manifestError(Vt.message,"nostreamscomposed",De.getValue()),_t=!0,Le()}}function Y(){var ie=De.getValue();st&&(Ye.trigger(S.default.PROTECTION_CREATED,{controller:st,manifest:ie}),st.setMediaElement(ut.getElement()),dt&&st.setProtectionData(dt)),H()}function ce(ie){ie.error?(_t=!0,Le()):function(){var Me=ie.manifest;i.updatePeriods(Me);var je=i.getStreamsInfo(Me)[0],Je=i.getMediaInfoForType(je,u.default.VIDEO)||i.getMediaInfoForType(je,u.default.AUDIO),nt=void 0,gt=void 0;Je&&(nt=i.getDataForMedia(Je),(gt=e.getRepresentationsForAdaptation(nt)[0].useCalculatedLiveEdgeTime)&&(qe("SegmentTimeline detected using calculated Live Edge Time"),It.setUseManifestDateHeaderTimeSource(!1)));var wt=e.getUTCTimingSources(ie.manifest),Mt=!e.getIsDynamic(Me)||gt?wt:wt.concat(It.getUTCTimingSources()),Vt=Ne.isHTTPS(ie.manifest.url);Mt.forEach(function(Lt){Lt.value.replace(/.*?:\/\//g,"")===B.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(Lt.value=Lt.value.replace(Vt?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Vt?"https://":"http://"),qe("Matching default timing source protocol to manifest protocol: ",Lt.value))}),O.initialize(Me),T.setConfig({metricsModel:n,dashMetrics:r,baseURLController:O}),T.initialize(Mt,It.getUseManifestDateHeaderTimeSource())}()}function xe(){return Nt}function Se(){return xt}function Pe(ie){var Me=!1;return We&&We.getProcessors().forEach(function(je){je.getMediaInfo().type===ie&&(Me=!0)}),Me}function Oe(ie,Me){Me=Me||new Date,Ct&&(We&&We.getProcessors().forEach(function(je){var Je=je.getScheduleController();Je&&Je.finalisePlayList(Me,ie)}),n.addPlayList(Ct),Ct=null)}function Fe(ie){Ct=new A.PlayList,Ct.start=new Date,Ct.mstart=1e3*ht.getTime(),Ct.starttype=ie,We&&We.getProcessors().forEach(function(Me){var je=Me.getScheduleController();je&&je.setPlayList(Ct)})}function Ke(ie){if(ie.error){var Me="";switch(ie.error.code){case 1:Me="MEDIA_ERR_ABORTED";break;case 2:Me="MEDIA_ERR_NETWORK";break;case 3:Me="MEDIA_ERR_DECODE";break;case 4:Me="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Me="MEDIA_ERR_ENCRYPTED";break;default:Me="UNKNOWN"}Tt=!0,ie.error.message&&(Me+=" ("+ie.error.message+")"),ie.error.msExtendedCode&&(Me+=" (0x"+(ie.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),qe("Video Element Error: "+Me),ie.error&&qe(ie.error),be.mediaSourceError(Me),Le()}}function rt(){return We?We.getStreamInfo():null}function ke(ie){return Ue.filter(function(Me){return Me.getId()===ie})[0]}function Xe(){if(!(J&&J.hasOwnProperty("load")&&Ae&&Ae.hasOwnProperty("initialize")&&Ae.hasOwnProperty("reset")&&Ae.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function Qe(){if(!lt||!lt.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function ze(ie){Xe(),J.load(ie)}function pt(ie){Qe(),lt.setManifest(ie)}function mt(ie){isNaN(ie.newDuration)||C(ie.newDuration)}function Ze(ie){ie&&(ie.capabilities&&(ct=ie.capabilities),ie.manifestLoader&&(J=ie.manifestLoader),ie.manifestModel&&(De=ie.manifestModel),ie.dashManifestModel&&(e=ie.dashManifestModel),ie.mediaPlayerModel&&(It=ie.mediaPlayerModel),ie.protectionController&&(st=ie.protectionController),ie.adapter&&(i=ie.adapter),ie.metricsModel&&(n=ie.metricsModel),ie.dashMetrics&&(r=ie.dashMetrics),ie.errHandler&&(be=ie.errHandler),ie.timelineConverter&&(Ae=ie.timelineConverter),ie.videoModel&&(ut=ie.videoModel),ie.playbackController&&(ht=ie.playbackController),ie.domStorage&&(V=ie.domStorage),ie.abrController&&(ee=ie.abrController),ie.mediaController&&(Ee=ie.mediaController),ie.textController&&(we=ie.textController))}function $e(ie){dt=ie}function Ge(){Ue=[],st=null,Et=!1,We=null,Tt=!1,_t=!1,xt=void 0,Nt=void 0,Dt=!0,bt=!1,yt=!0,Ct=null,Ft=void 0,Pt=!1,Be=0}function Le(){Xe(),T.reset(),Oe(Tt||_t?A.PlayListTrace.FAILURE_STOP_REASON:A.PlayListTrace.USER_REQUEST_STOP_REASON);for(var ie=0,Me=Ue?Ue.length:0;ie<Me;ie++)Ue[ie].reset(Tt);Ye.off(S.default.PLAYBACK_TIME_UPDATED,W,this),Ye.off(S.default.PLAYBACK_SEEKING,Te,this),Ye.off(S.default.PLAYBACK_ERROR,Ke,this),Ye.off(S.default.PLAYBACK_STARTED,te,this),Ye.off(S.default.PLAYBACK_PAUSED,ue,this),Ye.off(S.default.PLAYBACK_ENDED,P,this),Ye.off(S.default.MANIFEST_UPDATED,ce,this),Ye.off(S.default.STREAM_BUFFERING_COMPLETED,se,this),Ye.off(ne.default.METRIC_ADDED,He,this),Ye.off(S.default.MANIFEST_VALIDITY_CHANGED,mt,this),O.reset(),lt.reset(),n.clearAllCurrentMetrics(),De.setValue(null),J.reset(),Ae.reset(),Re.reset(),Ve&&(c.detachMediaSource(ut),Ve=null),ut=null,st&&(st.setMediaElement(null),st=null,dt=null,De.getValue()&&Ye.trigger(S.default.PROTECTION_DESTROYED,{data:De.getValue().url})),Ye.trigger(S.default.STREAM_TEARDOWN_COMPLETE),Ge()}function He(ie){ie.metric===g.default.DVR_INFO&&ie.mediaType===u.default.AUDIO&&c.setSeekable(Ve,ie.value.range.start,ie.value.range.end)}var at=40,et=this.context,qe=(0,w.default)(et).getInstance().log,Ye=(0,D.default)(et).getInstance(),it=void 0,ct=void 0,lt=void 0,J=void 0,De=void 0,e=void 0,i=void 0,n=void 0,r=void 0,c=void 0,T=void 0,O=void 0,V=void 0,ee=void 0,Ee=void 0,we=void 0,Re=void 0,Ne=void 0,be=void 0,Ae=void 0,Ue=void 0,We=void 0,st=void 0,dt=void 0,yt=void 0,Et=void 0,Tt=void 0,_t=void 0,Ve=void 0,ut=void 0,ht=void 0,It=void 0,bt=void 0,Dt=void 0,Ct=void 0,xt=void 0,Nt=void 0,Pt=void 0,Ft=void 0,Be=void 0,ft=void 0;return it={initialize:_e,getActiveStreamInfo:rt,isVideoTrackPresent:Se,isAudioTrackPresent:xe,switchToVideoElement:oe,getStreamById:ke,getStreamForTime:Ie,getTimeRelativeToStreamId:x,load:ze,loadWithManifest:pt,getActiveStreamProcessors:q,setConfig:Ze,setProtectionData:$e,reset:Le},ge(),it}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(99),g=l(v),_=t(94),p=l(_),y=t(89),I=l(y),E=t(47),D=l(E),R=t(51),S=l(R),L=t(116),B=l(L),k=t(48),b=l(k),A=t(181),G=t(46),w=l(G),M=t(149),U=l(M),j=t(155),le=l(j),Z=t(91),ne=l(Z),X=t(111),pe=l(X),K=t(101),de=l(K),fe=t(107),re=l(fe);h.__dashjs_factory_name="StreamController",o.default=b.default.getSingletonFactory(h),f.exports=o.default},{101:101,107:107,111:111,116:116,149:149,155:155,181:181,46:46,47:47,48:48,51:51,89:89,91:91,94:94,98:98,99:99}],111:[function(t,f,o){"use strict";function l(w){return w&&w.__esModule?w:{default:w}}function h(){function w(he,d){P=d,Ie=0,x=!1,q=!1,N={"urn:mpeg:dash:utc:http-head:2014":W,"urn:mpeg:dash:utc:http-xsdate:2014":_e.bind(null,K),"urn:mpeg:dash:utc:http-iso:2014":_e.bind(null,de),"urn:mpeg:dash:utc:direct:2014":ge,"urn:mpeg:dash:utc:http-head:2012":W,"urn:mpeg:dash:utc:http-xsdate:2012":_e.bind(null,K),"urn:mpeg:dash:utc:http-iso:2012":_e.bind(null,de),"urn:mpeg:dash:utc:direct:2012":ge,"urn:mpeg:dash:utc:http-ntp:2014":re,"urn:mpeg:dash:utc:ntp:2014":re,"urn:mpeg:dash:utc:sntp:2014":re},le()||(Te(he),Z(!0))}function M(he){he&&(he.metricsModel&&(Q=he.metricsModel),he.dashMetrics&&(z=he.dashMetrics),he.baseURLController&&(oe=he.baseURLController))}function U(){return X()}function j(he){x=he}function le(){return x}function Z(he){q=he}function ne(he){Ie=he}function X(){return Ie}function pe(he){var d=1e3,C=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,F=void 0,H=void 0,Y=C.exec(he);return F=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&(parseInt(Y[6],10)||0),Y[7]&&parseFloat(Y[7])*d||0),Y[9]&&Y[10]&&(H=60*parseInt(Y[9],10)+parseInt(Y[10],10),F+=(Y[8]==="+"?-1:1)*H*60*d),new Date(F).getTime()}function K(he){var d=Date.parse(he);return isNaN(d)&&(d=pe(he)),d}function de(he){return Date.parse(he)}function fe(he){return Date.parse(he)}function re(he,d,C){C()}function ge(he,d,C){var F=K(he);if(!isNaN(F))return void d(F);C()}function _e(he,d,C,F,H){var Y=void 0,ce=void 0,xe=!1,Se=new XMLHttpRequest,Pe=H?_.HTTPRequest.HEAD:_.HTTPRequest.GET,Oe=d.match(/\S+/g);if(d=Oe.shift(),Y=function(){xe||(xe=!0,Oe.length?_e(he,Oe.join(" "),C,F,H):F())},ce=function(){var Ke=void 0,rt=void 0;Se.status===200&&(Ke=H?Se.getResponseHeader("Date"):Se.response,rt=he(Ke),isNaN(rt)||(C(rt),xe=!0))},se.isRelative(d)){var Fe=oe.resolve();Fe&&(d=se.resolve(d,Fe.url))}Se.open(Pe,d),Se.timeout=A||0,Se.onload=ce,Se.onloadend=Y,Se.send()}function W(he,d,C){_e(fe,he,d,C,!0)}function ae(){var he=Q.getReadOnlyMetricsFor(u.default.STREAM),d=z.getLatestMPDRequestHeaderValueByID(he,"Date"),C=d!==null?new Date(d).getTime():Number.NaN;isNaN(C)?me(!0):(ne(C-new Date().getTime()),me(!1,C/1e3,Ie))}function me(he,d,C){j(!1),ye.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED,{time:d,offset:C,error:he?new g.default(b):null})}function Te(he,d){var C=d||0,F=he[C],H=function(Y,ce){var xe=!Y||!ce;xe&&P?ae():me(xe,Y,ce)};j(!0),F?N.hasOwnProperty(F.schemeIdUri)?N[F.schemeIdUri](F.value,function(Y){var ce=new Date().getTime(),xe=Y-ce;ne(xe),ve("Local time:      "+new Date(ce)),ve("Server time:     "+new Date(Y)),ve("Difference (ms): "+xe),H(Y,xe)},function(){Te(he,C+1)}):Te(he,C+1):(ne(0),H())}function te(){Z(!1),j(!1)}var ue=this.context,ve=(0,L.default)(ue).getInstance().log,ye=(0,y.default)(ue).getInstance(),se=(0,k.default)(ue).getInstance(),Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0,oe=void 0;return{initialize:w,getOffsetToDeviceTimeMs:U,setConfig:M,reset:te}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(160),g=l(v),_=t(179),p=t(47),y=l(p),I=t(51),E=l(I),D=t(48),R=l(D),S=t(46),L=l(S),B=t(155),k=l(B),b=1,A=5e3;h.__dashjs_factory_name="TimeSyncController";var G=R.default.getSingletonFactory(h);G.TIME_SYNC_FAILED_ERROR_CODE=b,G.HTTP_TIMEOUT_MS=A,R.default.updateSingletonFactory(h.__dashjs_factory_name,G),o.default=G,f.exports=o.default},{155:155,160:160,179:179,46:46,47:47,48:48,51:51,98:98}],112:[function(t,f,o){"use strict";function l(w){return w&&w.__esModule?w:{default:w}}function h(w){function M(){W.on(p.default.XLINK_ELEMENT_LOADED,X,me),ye=(0,u.default)(_e).create({errHandler:w.errHandler,metricsModel:w.metricsModel,mediaPlayerModel:w.mediaPlayerModel,requestModifier:w.requestModifier})}function U(se){se&&(Te=se)}function j(se){se&&(te=se)}function le(se){var Ie=void 0;ve=new D.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:Te}),ue=se,Ie=K(ue.Period_asArray,ue,k,L),ne(Ie,k,L)}function Z(){W.off(p.default.XLINK_ELEMENT_LOADED,X,me),ye&&(ye.reset(),ye=null)}function ne(se,Ie,x){var q={},P=void 0,N=void 0;q.elements=se,q.type=Ie,q.resolveType=x,q.elements.length===0&&pe(q);for(var Q=0;Q<q.elements.length;Q++)P=q.elements[Q],N=ae.isHTTPURL(P.url)?P.url:P.originalContent.BaseURL+P.url,ye.load(N,P,q)}function X(se){var Ie=void 0,x=void 0,q="";if(Ie=se.element,x=se.resolveObject,Ie.resolvedContent){var P=0;Ie.resolvedContent.indexOf("<?xml")===0&&(P=Ie.resolvedContent.indexOf("?>")+2),q=Ie.resolvedContent.substr(0,P)+"<response>"+Ie.resolvedContent.substr(P)+"</response>",Ie.resolvedContent=ve.xml_str2json(q)}re(x)&&pe(x)}function pe(se){var Ie=[],x=void 0,q=void 0;if(de(se),se.resolveType===B&&W.trigger(p.default.XLINK_READY,{manifest:ue}),se.resolveType===L)switch(se.type){case k:for(x=0;x<ue[k+"_asArray"].length;x++)q=ue[k+"_asArray"][x],q.hasOwnProperty(b+"_asArray")&&(Ie=Ie.concat(K(q[b+"_asArray"],q,b,L))),q.hasOwnProperty(A+"_asArray")&&(Ie=Ie.concat(K(q[A+"_asArray"],q,A,L)));ne(Ie,b,L);break;case b:W.trigger(p.default.XLINK_READY,{manifest:ue})}}function K(se,Ie,x,q){var P=[],N=void 0,Q=void 0,z=void 0;for(Q=se.length-1;Q>=0;Q--)N=se[Q],N.hasOwnProperty("xlink:href")&&N["xlink:href"]===G&&se.splice(Q,1);for(Q=0;Q<se.length;Q++)N=se[Q],N.hasOwnProperty("xlink:href")&&N.hasOwnProperty("xlink:actuate")&&N["xlink:actuate"]===q&&(z=fe(N["xlink:href"],Ie,x,Q,q,N),P.push(z));return P}function de(se){var Ie=[],x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0;for(N=se.elements.length-1;N>=0;N--){if(x=se.elements[N],q=x.type+"_asArray",!x.resolvedContent||ge())delete x.originalContent["xlink:actuate"],delete x.originalContent["xlink:href"],Ie.push(x.originalContent);else if(x.resolvedContent)for(Q=0;Q<x.resolvedContent[q].length;Q++)P=x.resolvedContent[q][Q],Ie.push(P);for(x.parentElement[q].splice(x.index,1),z=0;z<Ie.length;z++)x.parentElement[q].splice(x.index+z,0,Ie[z]);Ie=[]}se.elements.length>0&&te.run(ue)}function fe(se,Ie,x,q,P,N){return{url:se,parentElement:Ie,type:x,index:q,resolveType:P,originalContent:N,resolvedContent:null,resolved:!1}}function re(se){var Ie=void 0,x=void 0;for(Ie=0;Ie<se.elements.length;Ie++)if(x=se.elements[Ie],x.resolved===!1)return!1;return!0}function ge(){return!1}w=w||{};var _e=this.context,W=(0,g.default)(_e).getInstance(),ae=(0,S.default)(_e).getInstance(),me=void 0,Te=void 0,te=void 0,ue=void 0,ve=void 0,ye=void 0;return me={resolveManifestOnLoad:le,setMatchers:U,setIron:j,reset:Z},M(),me}Object.defineProperty(o,"__esModule",{value:!0});var m=t(97),u=l(m),v=t(47),g=l(v),_=t(51),p=l(_),y=t(48),I=l(y),E=t(4),D=l(E),R=t(155),S=l(R),L="onLoad",B="onActuate",k="Period",b="AdaptationSet",A="EventStream",G="urn:mpeg:dash:resolve-to-zero:2013";h.__dashjs_factory_name="XlinkController",o.default=I.default.getClassFactory(h),f.exports=o.default},{155:155,4:4,47:47,48:48,51:51,97:97}],113:[function(t,f,o){"use strict";function l(I){return I&&I.__esModule?I:{default:I}}function h(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function m(){function I(){k()}function E(j){j.dashManifestModel&&(w=j.dashManifestModel)}function D(j,le,Z){var ne=w.getBaseURLsFromElement(Z);j[le]?U.areEqual(ne,j[le].data.baseUrls)||(j[le].data.baseUrls=ne,j[le].data.selectedIdx=p):j[le]=new y(ne)}function R(j){var le=w.getBaseURLsFromElement(j);U.areEqual(le,G.data.baseUrls)||(G.data.baseUrls=le,G.data.selectedIdx=p),j.Period_asArray&&j.Period_asArray.forEach(function(Z,ne){D(G.children,ne,Z),Z.AdaptationSet_asArray&&Z.AdaptationSet_asArray.forEach(function(X,pe){D(G.children[ne].children,pe,X),X.Representation_asArray&&X.Representation_asArray.sort(w.getRepresentationSortFunction()).forEach(function(K,de){D(G.children[ne].children[pe].children,de,K)})})})}function S(j,le){var Z=le||G;j(Z.data),Z.children&&Z.children.forEach(function(ne){return S(j,ne)})}function L(j){S(function(le){isNaN(le.selectedIdx)||j===le.baseUrls[le.selectedIdx].serviceLocation&&(le.selectedIdx=p)})}function B(j){R(j)}function k(){G=new y}function b(j){var le=G,Z=[le.data];return j&&j.forEach(function(ne){(le=le.children[ne])&&Z.push(le.data)}),Z.filter(function(ne){return ne.baseUrls.length})}var A=void 0,G=void 0,w=void 0,M=this.context,U=(0,v.default)(M).getInstance();return A={reset:k,update:B,getForPath:b,invalidateSelectedIndexes:L,setConfig:E},I(),A}Object.defineProperty(o,"__esModule",{value:!0});var u=t(152),v=l(u),g=t(48),_=l(g),p=NaN,y=function I(E,D){h(this,I),this.data={baseUrls:E||null,selectedIdx:D||p},this.children=[]};m.__dashjs_factory_name="BaseURLTreeModel",o.default=_.default.getClassFactory(m),f.exports=o.default},{152:152,48:48}],114:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(b){function A(){me(),ye.on(g.default.LOADING_COMPLETED,W,x),ye.on(g.default.LOADING_ABANDONED,ae,x)}function G(Q){q=Q}function w(){return q}function M(Q){var z=function(F,H){return F.url===H.url},oe=function(F,H){return F.action===I.default.ACTION_COMPLETE&&F.action===H.action},he=function(F,H){return!isNaN(F.index)&&F.startTime===H.startTime&&F.adaptationIndex===H.adaptationIndex},d=function(F,H){return isNaN(F.index)&&isNaN(H.index)&&F.quality===H.quality},C=function(F){var H=!1;return F.some(function(Y){if(z(Q,Y)&&(he(Q,Y)||d(Q,Y)||oe(Q,Y)))return H=!0}),H};return!!Q&&C(P)}function U(Q){var z=!1,oe=0,he=void 0;if(!(z=M(Q)))for(oe=0;oe<N.length;oe++)he=N[oe],Q.url===he.url&&Q.startTime===he.startTime&&(z=!0);return z}function j(Q){var z=Q?Q.state instanceof Array?Q.state:[Q.state]:[],oe=[];return z.forEach(function(he){var d=ge(he);oe=oe.concat(re(d,Q))}),oe}function le(Q){return isNaN(Q.duration)?.25:Q.duration/8}function Z(Q){P=P.filter(function(z){var oe=le(z);return!(!isNaN(z.startTime)&&Q===void 0)&&z.startTime>=Q-oe})}function ne(Q,z){z<=Q+.5||(P=P.filter(function(oe){var he=le(oe);return isNaN(oe.startTime)||oe.startTime>=z-he||isNaN(oe.duration)||oe.startTime+oe.duration<=Q+he}))}function X(Q,z){if(!Q||Q.length===0)return void(P=[]);for(var oe=0,he=0,d=Q.length;he<d;he++)ne(oe,Q.start(he)),oe=Q.end(he);z>0&&ne(oe,z)}function pe(){Ie.abort(),N=[]}function K(Q){switch(Q.action){case I.default.ACTION_COMPLETE:P.push(Q),_e(Q,S),ve("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),ye.trigger(g.default.STREAM_COMPLETED,{request:Q,fragmentModel:this});break;case I.default.ACTION_DOWNLOAD:_e(Q,R),N.push(Q),de(Q);break;default:ve("Unknown request action.")}}function de(Q){ye.trigger(g.default.FRAGMENT_LOADING_STARTED,{sender:x,request:Q}),Ie.load(Q)}function fe(Q,z,oe){for(var he=Q.length-1,d=he;d>=0;d--){var C=Q[d],F=C.startTime,H=F+C.duration;if(oe=isNaN(oe)?le(C):oe,!isNaN(F)&&!isNaN(H)&&z+oe>=F&&z-oe<H||isNaN(F)&&isNaN(z))return C}return null}function re(Q,z){return z.hasOwnProperty("time")?[fe(Q,z.time,z.threshold)]:Q.filter(function(oe){for(var he in z)if(he!=="state"&&z.hasOwnProperty(he)&&oe[he]!=z[he])return!1;return!0})}function ge(Q){var z=void 0;switch(Q){case R:z=N;break;case S:z=P;break;default:z=[]}return z}function _e(Q,z){se.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,z),se.addRequestsQueue(Q.mediaType,N,P)}function W(Q){Q.sender===Ie&&(N.splice(N.indexOf(Q.request),1),Q.response&&!Q.error&&P.push(Q.request),_e(Q.request,Q.error?B:S),ye.trigger(g.default.FRAGMENT_LOADING_COMPLETED,{request:Q.request,response:Q.response,error:Q.error,sender:this}))}function ae(Q){Q.sender===Ie&&ye.trigger(g.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:Q.request,mediaType:Q.mediaType})}function me(){P=[],N=[]}function Te(){ye.off(g.default.LOADING_COMPLETED,W,this),ye.off(g.default.LOADING_ABANDONED,ae,this),Ie&&Ie.reset(),me()}function te(Q){P.push(Q)}b=b||{};var ue=this.context,ve=(0,D.default)(ue).getInstance().log,ye=(0,u.default)(ue).getInstance(),se=b.metricsModel,Ie=b.fragmentLoader,x=void 0,q=void 0,P=void 0,N=void 0;return x={setStreamProcessor:G,getStreamProcessor:w,getRequests:j,isFragmentLoaded:M,isFragmentLoadedOrPending:U,removeExecutedRequestsBeforeTime:Z,syncExecutedRequestsWithBufferedRange:X,abortRequests:pe,executeRequest:K,reset:Te,addExecutedRequest:te},A(),x}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_),y=t(162),I=l(y),E=t(46),D=l(E),R="loading",S="executed",L="canceled",B="failed";h.__dashjs_factory_name="FragmentModel";var k=p.default.getClassFactory(h);k.FRAGMENT_MODEL_LOADING=R,k.FRAGMENT_MODEL_EXECUTED=S,k.FRAGMENT_MODEL_CANCELED=L,k.FRAGMENT_MODEL_FAILED=B,p.default.updateClassFactory(h.__dashjs_factory_name,k),o.default=k,f.exports=o.default},{162:162,46:46,47:47,48:48,51:51}],115:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(){return R}function I(S){R=S,S&&D.trigger(g.default.MANIFEST_LOADED,{data:S})}var E=this.context,D=(0,u.default)(E).getInstance(),R=void 0;return{getValue:y,setValue:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_);h.__dashjs_factory_name="ManifestModel",o.default=p.default.getSingletonFactory(h),f.exports=o.default},{47:47,48:48,51:51}],116:[function(t,f,o){"use strict";function l(W){return W&&W.__esModule?W:{default:W}}function h(W,ae,me){return ae in W?Object.defineProperty(W,ae,{value:me,enumerable:!0,configurable:!0,writable:!0}):W[ae]=me,W}function m(){function W(){var tt,At;ht=[],ut=!1,Ve=!0,Dt=!0,Vt=p.default.ABR_STRATEGY_DYNAMIC,Lt=!0,Ci=!1,Pt={enabled:!0,ttl:E},Ft={enabled:!0,ttl:D},It=I,bt=void 0,Ct=L,xt=B,Nt=k,Be=NaN,ft=G,ie=w,Me=M,je=U,Je=R,nt=S,Mt=re,ai=!1,ni=j,Ut={default:ge},ii=[],pi=p.default.MOVING_AVERAGE_SLIDING_WINDOW,tt={},h(tt,g.HTTPRequest.MPD_TYPE,pe),h(tt,g.HTTPRequest.XLINK_EXPANSION_TYPE,de),h(tt,g.HTTPRequest.MEDIA_SEGMENT_TYPE,ne),h(tt,g.HTTPRequest.INIT_SEGMENT_TYPE,ne),h(tt,g.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,ne),h(tt,g.HTTPRequest.INDEX_SEGMENT_TYPE,ne),h(tt,g.HTTPRequest.OTHER_TYPE,ne),gt=tt,At={},h(At,g.HTTPRequest.MPD_TYPE,K),h(At,g.HTTPRequest.XLINK_EXPANSION_TYPE,fe),h(At,g.HTTPRequest.MEDIA_SEGMENT_TYPE,X),h(At,g.HTTPRequest.INIT_SEGMENT_TYPE,X),h(At,g.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,X),h(At,g.HTTPRequest.INDEX_SEGMENT_TYPE,X),h(At,g.HTTPRequest.OTHER_TYPE,X),wt=At,ri={},ri[p.default.VIDEO]=le,ri[p.default.AUDIO]=Z}function ae(tt){Vt=tt}function me(){return Vt}function Te(tt){Lt=tt}function te(){return Lt}function ue(tt){var At=void 0;for(At=0;At<ii.length;At++)if(ii[At].rulename===tt)return At;return-1}function ve(){return ii}function ye(tt,At,Wi){var Zi=ue(At);Zi===-1?ii.push({type:tt,rulename:At,rule:Wi}):(ii[Zi].type=tt,ii[Zi].rule=Wi)}function se(tt){var At=ue(tt);At!==-1&&ii.splice(At,1)}function Ie(){ii=[]}function x(tt){Je=tt}function q(){return Je}function P(tt){nt=tt}function N(){return nt}function Q(tt){Be=tt}function z(){return isNaN(Be)?Ci?A:b:Be}function oe(tt){ft=tt}function he(){return ft}function d(tt){ie=tt}function C(){return ie}function F(tt){Me=tt}function H(){return Me}function Y(tt){je=tt}function ce(){return je}function xe(tt,At){ri[tt]=At}function Se(tt){return ri[tt]}function Pe(tt){Ct=tt}function Oe(){return Ct}function Fe(tt){xt=tt}function Ke(){return xt}function rt(tt,At){Pt.enabled=tt,At===void 0||isNaN(At)||typeof At!="number"||(Pt.ttl=At)}function ke(){return Pt}function Xe(tt,At){Ft.enabled=tt,At===void 0||isNaN(At)||typeof At!="number"||(Ft.ttl=At)}function Qe(){return Ft}function ze(tt){Nt=tt}function pt(){return Nt}function mt(tt){gt[g.HTTPRequest.MEDIA_SEGMENT_TYPE]=tt}function Ze(tt){gt[g.HTTPRequest.MPD_TYPE]=tt}function $e(tt,At){gt[tt]=At}function Ge(){return gt[g.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Le(){return gt[g.HTTPRequest.MPD_TYPE]}function He(tt){return gt[tt]}function at(tt){wt[g.HTTPRequest.MEDIA_SEGMENT_TYPE]=tt}function et(tt){wt[g.HTTPRequest.MPD_TYPE]=tt}function qe(tt,At){wt[tt]=At}function Ye(){return wt[g.HTTPRequest.MEDIA_SEGMENT_TYPE]}function it(){return wt[g.HTTPRequest.MPD_TYPE]}function ct(tt){return wt[tt]}function lt(tt){Mt=tt}function J(){return Mt}function De(tt){Dt=tt}function e(){return Dt}function i(tt){It=tt}function n(tt){bt=tt}function r(){return It}function c(){return bt}function T(tt){Ve=tt}function O(){return Ve}function V(tt){ut=tt}function ee(){return ut}function Ee(tt){ht=tt}function we(){return ht}function Re(tt,At){tt?Ut[tt]=!!At:Object.keys(Ut).forEach(function(Wi){Re(Wi,At)})}function Ne(tt){var At=Ut[tt];return At===void 0?Ut.default:At}function be(){return Ci}function Ae(tt){Ci=tt}function Ue(tt){pi=tt}function We(){return pi}function st(tt){ai=tt}function dt(){return ai}function yt(tt){ni=tt}function Et(){return ni}function Tt(){}var _t=void 0,Ve=void 0,ut=void 0,ht=void 0,It=void 0,bt=void 0,Dt=void 0,Ct=void 0,xt=void 0,Nt=void 0,Pt=void 0,Ft=void 0,Be=void 0,ft=void 0,ie=void 0,Me=void 0,je=void 0,Je=void 0,nt=void 0,gt=void 0,wt=void 0,Mt=void 0,Vt=void 0,Lt=void 0,Ut=void 0,Ci=void 0,ii=void 0,pi=void 0,ri=void 0,ai=void 0,ni=void 0;return _t={setABRStrategy:ae,getABRStrategy:me,setUseDefaultABRRules:Te,getUseDefaultABRRules:te,getABRCustomRules:ve,addABRCustomRule:ye,removeABRCustomRule:se,removeAllABRCustomRule:Ie,setBandwidthSafetyFactor:x,getBandwidthSafetyFactor:q,setAbandonLoadTimeout:P,getAbandonLoadTimeout:N,setLastBitrateCachingInfo:rt,getLastBitrateCachingInfo:ke,setLastMediaSettingsCachingInfo:Xe,getLastMediaSettingsCachingInfo:Qe,setStableBufferTime:Q,getStableBufferTime:z,setBufferTimeAtTopQuality:oe,getBufferTimeAtTopQuality:he,setBufferTimeAtTopQualityLongForm:d,getBufferTimeAtTopQualityLongForm:C,setLongFormContentDurationThreshold:F,getLongFormContentDurationThreshold:H,setSegmentOverlapToleranceTime:Y,getSegmentOverlapToleranceTime:ce,getCacheLoadThresholdForType:Se,setCacheLoadThresholdForType:xe,setBufferToKeep:Pe,getBufferToKeep:Oe,setBufferAheadToKeep:Fe,getBufferAheadToKeep:Ke,setBufferPruningInterval:ze,getBufferPruningInterval:pt,setFragmentRetryAttempts:mt,getFragmentRetryAttempts:Ge,setManifestRetryAttempts:Ze,getManifestRetryAttempts:Le,setRetryAttemptsForType:$e,getRetryAttemptsForType:He,setFragmentRetryInterval:at,getFragmentRetryInterval:Ye,setManifestRetryInterval:et,getManifestRetryInterval:it,setRetryIntervalForType:qe,getRetryIntervalForType:ct,setWallclockTimeUpdateInterval:lt,getWallclockTimeUpdateInterval:J,setScheduleWhilePaused:De,getScheduleWhilePaused:e,getUseSuggestedPresentationDelay:ee,setUseSuggestedPresentationDelay:V,setLiveDelayFragmentCount:i,getLiveDelayFragmentCount:r,getLiveDelay:c,setLiveDelay:n,setUseManifestDateHeaderTimeSource:T,getUseManifestDateHeaderTimeSource:O,setUTCTimingSources:Ee,getUTCTimingSources:we,setXHRWithCredentialsForType:Re,getXHRWithCredentialsForType:Ne,setFastSwitchEnabled:Ae,getFastSwitchEnabled:be,setMovingAverageMethod:Ue,getMovingAverageMethod:We,setJumpGaps:st,getJumpGaps:dt,setSmallGapLimit:yt,getSmallGapLimit:Et,reset:Tt},W(),_t}Object.defineProperty(o,"__esModule",{value:!0});var u=t(48),v=l(u),g=t(179),_=t(98),p=l(_),y={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},I=4,E=36e4,D=36e4,R=.9,S=1e4,L=20,B=80,k=10,b=12,A=20,G=30,w=60,M=600,U=.05,j=.8,le=50,Z=5,ne=3,X=1e3,pe=3,K=500,de=1,fe=500,re=50,ge=!1;m.__dashjs_factory_name="MediaPlayerModel";var _e=v.default.getSingletonFactory(m);_e.DEFAULT_UTC_TIMING_SOURCE=y,v.default.updateSingletonFactory(m.__dashjs_factory_name,_e),o.default=_e,f.exports=o.default},{179:179,48:48,98:98}],117:[function(t,f,o){"use strict";function l(re){return re&&re.__esModule?re:{default:re}}function h(){function re(){rt={}}function ge(ke){ke&&ke.adapter&&(Ke=ke.adapter)}function _e(){Oe.trigger(K.default.METRICS_CHANGED)}function W(ke){Oe.trigger(K.default.METRIC_CHANGED,{mediaType:ke}),_e()}function ae(ke,Xe,Qe){Oe.trigger(K.default.METRIC_UPDATED,{mediaType:ke,metric:Xe,value:Qe}),W(ke)}function me(ke,Xe,Qe){Oe.trigger(K.default.METRIC_ADDED,{mediaType:ke,metric:Xe,value:Qe}),W(ke)}function Te(ke){delete rt[ke],W(ke)}function te(){rt={},_e()}function ue(ke){return rt.hasOwnProperty(ke)?rt[ke]:null}function ve(ke){var Xe=void 0;return rt.hasOwnProperty(ke)?Xe=rt[ke]:(Xe=new p.default,rt[ke]=Xe),Xe}function ye(ke,Xe,Qe){var ze=ve(ke);ze[Xe].push(Qe),ze[Xe].length>Se&&ze[Xe].shift()}function se(ke,Xe,Qe,ze,pt,mt){var Ze=new I.default;return Ze.tcpid=Xe,Ze.dest=Qe,Ze.topen=ze,Ze.tclose=pt,Ze.tconnect=mt,P(ke,g.default.TCP_CONNECTION,Ze),Ze}function Ie(ke,Xe,Qe,ze){var pt=new E.HTTPRequestTrace;return pt.s=Xe,pt.d=Qe,pt.b=ze,ke.trace.push(pt),ke.interval||(ke.interval=0),ke.interval+=Qe,pt}function x(ke,Xe,Qe,ze,pt,mt,Ze,$e,Ge,Le,He,at,et,qe){var Ye=new E.HTTPRequest;return pt&&pt!==ze&&(x(ke,null,Qe,ze,null,null,Ze,$e,null,null,null,at,null,null),Ye.actualurl=pt),Ye.tcpid=Xe,Ye.type=Qe,Ye.url=ze,Ye.range=Ze,Ye.trequest=$e,Ye.tresponse=Ge,Ye.responsecode=He,Ye._tfinish=Le,Ye._stream=ke,Ye._mediaduration=at,Ye._responseHeaders=et,Ye._serviceLocation=mt,qe?qe.forEach(function(it){Ie(Ye,it.s,it.d,it.b)}):(delete Ye.interval,delete Ye.trace),P(ke,g.default.HTTP_REQUEST,Ye),Ye}function q(ke,Xe,Qe,ze,pt){var mt=new R.default;return mt.t=Xe,mt.mt=Qe,mt.to=ze,pt?mt.lto=pt:delete mt.lto,P(ke,g.default.TRACK_SWITCH,mt),mt}function P(ke,Xe,Qe){ye(ke,Xe,Qe),me(ke,Xe,Qe)}function N(ke,Xe,Qe){var ze=new L.default;return ze.t=Xe,ze.level=Qe,P(ke,g.default.BUFFER_LEVEL,ze),ze}function Q(ke,Xe,Qe){var ze=new k.default;return ze.target=Qe,ze.state=Xe,P(ke,g.default.BUFFER_STATE,ze),ze}function z(ke,Xe,Qe,ze){var pt=new A.default;return pt.time=Xe,pt.range=ze,pt.manifestInfo=Qe,P(ke,g.default.DVR_INFO,pt),pt}function oe(ke,Xe){var Qe=new w.default,ze=ve(ke).DroppedFrames;return Qe.time=Xe.creationTime,Qe.droppedFrames=Xe.droppedVideoFrames,ze.length>0&&ze[ze.length-1]==Qe?ze[ze.length-1]:(P(ke,g.default.DROPPED_FRAMES,Qe),Qe)}function he(ke,Xe,Qe,ze,pt,mt,Ze,$e,Ge){var Le=new j.default;return Le.mediaType=ke,Le.t=Xe,Le.type=Qe,Le.startTime=ze,Le.availabilityStartTime=pt,Le.duration=mt,Le.quality=Ze,Le.range=$e,Le.state=Ge,P(ke,g.default.SCHEDULING_INFO,Le),Le}function d(ke,Xe,Qe){var ze=new X.default;ze.loadingRequests=Xe,ze.executedRequests=Qe,ve(ke).RequestsQueue=ze,me(ke,g.default.REQUESTS_QUEUE,ze)}function C(ke,Xe,Qe,ze,pt,mt,Ze,$e,Ge,Le){var He=new M.ManifestUpdate;return He.mediaType=ke,He.type=Xe,He.requestTime=Qe,He.fetchTime=ze,He.availabilityStartTime=pt,He.presentationStartTime=mt,He.clientTimeOffset=Ze,He.currentTime=$e,He.buffered=Ge,He.latency=Le,ye(u.default.STREAM,g.default.MANIFEST_UPDATE,He),me(ke,g.default.MANIFEST_UPDATE,He),He}function F(ke,Xe){if(ke){for(var Qe in Xe)ke[Qe]=Xe[Qe];ae(ke.mediaType,g.default.MANIFEST_UPDATE,ke)}}function H(ke,Xe,Qe,ze,pt){if(ke){var mt=new M.ManifestUpdateStreamInfo;return mt.id=Xe,mt.index=Qe,mt.start=ze,mt.duration=pt,ke.streamInfo.push(mt),ae(ke.mediaType,g.default.MANIFEST_UPDATE_STREAM_INFO,ke),mt}return null}function Y(ke,Xe,Qe,ze,pt,mt,Ze,$e){if(ke){var Ge=new M.ManifestUpdateRepresentationInfo;return Ge.id=Xe,Ge.index=Qe,Ge.streamIndex=ze,Ge.mediaType=pt,Ge.startNumber=Ze,Ge.fragmentInfoType=$e,Ge.presentationTimeOffset=mt,ke.representationInfo.push(Ge),ae(ke.mediaType,g.default.MANIFEST_UPDATE_TRACK_INFO,ke),Ge}return null}function ce(ke){var Xe=u.default.STREAM;return ke.trace&&Array.isArray(ke.trace)?ke.trace.forEach(function(Qe){Qe.hasOwnProperty("subreplevel")&&!Qe.subreplevel&&delete Qe.subreplevel}):delete ke.trace,P(Xe,g.default.PLAY_LIST,ke),ke}function xe(ke){return P(u.default.STREAM,g.default.DVB_ERRORS,ke),ke}var Se=1e3,Pe=this.context,Oe=(0,Z.default)(Pe).getInstance(),Fe=void 0,Ke=void 0,rt=void 0;return Fe={clearCurrentMetricsForType:Te,clearAllCurrentMetrics:te,getReadOnlyMetricsFor:ue,getMetricsFor:ve,addTcpConnection:se,addHttpRequest:x,addRepresentationSwitch:q,addBufferLevel:N,addBufferState:Q,addDVRInfo:z,addDroppedFrames:oe,addSchedulingInfo:he,addRequestsQueue:d,addManifestUpdate:C,updateManifestUpdateInfo:F,addManifestUpdateStreamInfo:H,addManifestUpdateRepresentationInfo:Y,addPlayList:ce,addDVBErrors:xe,setConfig:ge},re(),Fe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(99),g=l(v),_=t(167),p=l(_),y=t(185),I=l(y),E=t(179),D=t(182),R=l(D),S=t(175),L=l(S),B=t(176),k=l(B),b=t(177),A=l(b),G=t(178),w=l(G),M=t(180),U=t(184),j=l(U),le=t(47),Z=l(le),ne=t(183),X=l(ne),pe=t(51),K=l(pe),de=t(48),fe=l(de);h.__dashjs_factory_name="MetricsModel",o.default=fe.default.getSingletonFactory(h),f.exports=o.default},{167:167,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,47:47,48:48,51:51,98:98,99:99}],118:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(){function _(){D=new u.default,R=[],S=!1}function p(){return D}function y(){return R}function I(){return S}function E(L){function B(j,le,Z,ne){var X=ne[0].split(/[=]/);return ne.push({key:X[0],value:X[1]}),ne.shift(),ne}function k(j,le,Z){return le>0&&(M&&R.length===0?R=Z[le].split(/[&]/):U&&(b=Z[le].split(/[&]/))),Z}if(!L)return null;var b=[],A=new RegExp(/[?]/),G=new RegExp(/[#]/),w=new RegExp(/^(https:)?\/\//i),M=A.test(L),U=G.test(L);return S=w.test(L),L.split(/[?#]/).map(k),R.length>0&&(R=R.reduce(B,null)),b.length>0&&(b=b.reduce(B,null),b.forEach(function(j){D[j.key]=j.value})),L}var D=void 0,R=void 0,S=void 0;return{initialize:_,parseURI:E,getURIFragmentData:p,getURIQueryData:y,isManifestHTTPS:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(174),u=l(m),v=t(48),g=l(v);h.__dashjs_factory_name="URIQueryAndFragmentModel",o.default=g.default.getSingletonFactory(h),f.exports=o.default},{174:174,48:48}],119:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(){function E(){xe.on(p.default.PLAYBACK_PLAYING,pe,this)}function D(){xe.off(p.default.PLAYBACK_PLAYING,pe,this)}function R(){d&&(d.playbackRate=H||1,d.removeEventListener("canplay",R))}function S(Pe){d&&(d.readyState<=2&&Pe>0?d.addEventListener("canplay",R):d.playbackRate=Pe)}function L(Pe){if(d){if(d.currentTime==Pe)return;try{d.currentTime=Pe}catch(Oe){d.readyState===0&&Oe.code===Oe.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=Pe},400)}}}function B(){return d}function k(Pe){d=Pe,d.preload="auto"}function b(Pe){d&&(Pe?d.src=Pe:(d.removeAttribute("src"),d.load()))}function A(){return d?d.src:null}function G(){return F}function w(Pe){F=Pe}function M(){return C}function U(Pe){C=Pe,C.style.position="absolute",C.style.display="flex",C.style.overflow="hidden",C.style.pointerEvents="none",C.style.top=0,C.style.left=0}function j(Pe,Oe){X(Pe,Oe)}function le(){return Se.length>0}function Z(Pe){var Oe=void 0;Pe===null||d.seeking||Se.indexOf(Pe)!==-1||(Se.push(Pe),d&&Se.length===1&&(Oe=document.createEvent("Event"),Oe.initEvent("waiting",!0,!1),H=d.playbackRate,S(0),d.dispatchEvent(Oe)))}function ne(Pe){var Oe=Se.indexOf(Pe),Fe=void 0;Pe!==null&&(Oe!==-1&&Se.splice(Oe,1),d&&le()===!1&&d.playbackRate===0&&(S(H||1),d.paused||(Fe=document.createEvent("Event"),Fe.initEvent("playing",!0,!1),d.dispatchEvent(Fe))))}function X(Pe,Oe){Oe?Z(Pe):ne(Pe)}function pe(){if(d&&le()&&d.playbackRate===0){var Pe=document.createEvent("Event");Pe.initEvent("waiting",!0,!1),d.dispatchEvent(Pe)}}function K(){if(!d)return null;var Pe="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Oe="getVideoPlaybackQuality"in d,Fe=null;return Oe?Fe=d.getVideoPlaybackQuality():Pe&&(Fe={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),Fe}function de(){if(d){d.autoplay=!0;var Pe=d.play();Pe&&typeof Promise!="undefined"&&Pe instanceof Promise&&Pe.catch(function(Oe){Oe.name==="NotAllowedError"&&xe.trigger(p.default.PLAYBACK_NOT_ALLOWED),ce("Caught pending play exception - continuing ("+Oe+")")})}}function fe(){return d?d.paused:null}function re(){d&&(d.pause(),d.autoplay=!1)}function ge(){return d?d.seeking:null}function _e(){return d?d.currentTime:null}function W(){return d?d.playbackRate:null}function ae(){return d?d.played:null}function me(){return d?d.ended:null}function Te(Pe,Oe){d&&d.addEventListener(Pe,Oe)}function te(Pe,Oe){d&&d.removeEventListener(Pe,Oe)}function ue(){return d?d.readyState:NaN}function ve(){return d?d.buffered:null}function ye(){return d?d.clientWidth:NaN}function se(){return d?d.clientHeight:NaN}function Ie(){return d?d.videoWidth:NaN}function x(){return d?d.videoHeight:NaN}function q(){return d&&d.parentNode?d.getBoundingClientRect().top-d.parentNode.getBoundingClientRect().top:NaN}function P(){return d&&d.parentNode?d.getBoundingClientRect().left-d.parentNode.getBoundingClientRect().left:NaN}function N(){return d?d.textTracks:[]}function Q(Pe,Oe,Fe,Ke,rt){if(d){for(var ke=0;ke<d.textTracks.length;ke++)if(d.textTracks[ke].kind===Pe&&(!Oe||d.textTracks[ke].label==Oe)&&d.textTracks[ke].language===Fe&&d.textTracks[ke].isTTML===Ke&&d.textTracks[ke].isEmbedded===rt)return d.textTracks[ke]}return null}function z(Pe,Oe,Fe){return d?d.addTextTrack(Pe,Oe,Fe):null}function oe(Pe){d&&(d.appendChild(Pe),Pe.isTTML!==void 0&&(d.textTracks[d.textTracks.length-1].isTTML=Pe.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Pe.isEmbedded))}function he(Pe){d&&d.removeChild(Pe)}var d=void 0,C=void 0,F=void 0,H=void 0,Y=this.context,ce=(0,I.default)(Y).getInstance().log,xe=(0,g.default)(Y).getInstance(),Se=[];return{initialize:E,setCurrentTime:L,play:de,isPaused:fe,pause:re,isSeeking:ge,getTime:_e,getPlaybackRate:W,getPlayedRanges:ae,getEnded:me,setStallState:j,getElement:B,setElement:k,setSource:b,getSource:A,getVideoContainer:G,setVideoContainer:w,getTTMLRenderingDiv:M,setTTMLRenderingDiv:U,getPlaybackQuality:K,addEventListener:Te,removeEventListener:te,getReadyState:ue,getBufferRange:ve,getClientWidth:ye,getClientHeight:se,getTextTracks:N,getTextTrack:Q,addTextTrack:z,appendChild:oe,removeChild:he,getVideoWidth:Ie,getVideoHeight:x,getVideoRelativeOffsetTop:q,getVideoRelativeOffsetLeft:P,reset:D}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(47),g=l(v),_=t(51),p=l(_),y=t(46),I=l(y);h.__dashjs_factory_name="VideoModel",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{46:46,47:47,48:48,51:51}],120:[function(t,f,o){"use strict";function l(g){return g&&g.__esModule?g:{default:g}}function h(){function g(D,R){var S=R.droppedVideoFrames-I;I=R.droppedVideoFrames;var L=R.totalVideoFrames-E;E=R.totalVideoFrames,isNaN(D)||(y[D]?(y[D].droppedVideoFrames+=S,y[D].totalVideoFrames+=L):y[D]={droppedVideoFrames:S,totalVideoFrames:L})}function _(){return y}function p(D){y=[],I=D.droppedVideoFrames,E=D.totalVideoFrames}var y=[],I=0,E=0;return{push:g,getFrameHistory:_,reset:p}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="DroppedFramesHistory";var v=u.default.getClassFactory(h);o.default=v,f.exports=o.default},{48:48}],121:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(v){function g(){return b.mediaInfo.type}function _(){return b.mediaInfo.streamInfo}function p(){return b.mediaInfo}function y(){return b}function I(){return k}function E(){return B}function D(){return A}function R(){return G}function S(){return w}function L(){return M}v=v||{};var B=v.abrController,k=v.streamProcessor,b=v.streamProcessor.getCurrentRepresentationInfo(),A=v.switchHistory,G=v.droppedFramesHistory,w=v.currentRequest,M=v.useBufferOccupancyABR;return{getMediaType:g,getMediaInfo:p,getDroppedFramesHistory:R,getCurrentRequest:S,getSwitchHistory:D,getStreamInfo:_,getStreamProcessor:I,getAbrController:E,getRepresentationInfo:y,useBufferOccupancyABR:L}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="RulesContext",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],122:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(p,y,I){function E(L){var B=g.DEFAULT;return L!==g.DEFAULT&&L!==g.STRONG&&L!==g.WEAK||(B=L),B}var D=void 0,R=void 0,S=void 0;return D=p===void 0?v:p,R=E(I),S=y===void 0?null:y,{quality:D,reason:S,priority:R}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=-1,g={DEFAULT:.5,STRONG:1,WEAK:0};h.__dashjs_factory_name="SwitchRequest";var _=u.default.getClassFactory(h);_.NO_CHANGE=v,_.PRIORITY=g,u.default.updateClassFactory(h.__dashjs_factory_name,_),o.default=_,f.exports=o.default},{48:48}],123:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(S){S.newValue===g.default.NO_CHANGE&&(S.newValue=S.oldValue),D[S.oldValue]||(D[S.oldValue]={noDrops:0,drops:0,dropSize:0});var L=S.newValue-S.oldValue,B=L<0?1:0,k=B?-L:0,b=B?0:1;if(D[S.oldValue].drops+=B,D[S.oldValue].dropSize+=k,D[S.oldValue].noDrops+=b,R.push({idx:S.oldValue,noDrop:b,drop:B,dropSize:k}),R.length>_){var A=R.shift();D[A.idx].drops-=A.drop,D[A.idx].dropSize-=A.dropSize,D[A.idx].noDrops-=A.noDrop}}function I(){return D}function E(){D=[],R=[]}var D=[],R=[];return{push:y,getSwitchRequests:I,reset:E}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(122),g=l(v),_=8;h.__dashjs_factory_name="SwitchRequestHistory";var p=u.default.getClassFactory(h);o.default=p,f.exports=o.default},{122:122,48:48}],124:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_){function p(){ae={throughputHalfLife:{fast:pe,slow:X},latencyHalfLife:{fast:de,slow:K}},w()}function y(Te,te,ue){return Te===u.default.VIDEO?ue<fe.getCacheLoadThresholdForType(u.default.VIDEO):Te===u.default.AUDIO?ue<fe.getCacheLoadThresholdForType(u.default.AUDIO):void 0}function I(Te,te,ue){if(te.trace&&te.trace.length){var ve=te.tresponse.getTime()-te.trequest.getTime()||1,ye=te._tfinish.getTime()-te.tresponse.getTime()||1,se=te.trace.reduce(function(q,P){return q+P.b[0]},0),Ie=ue?ye:ve+ye,x=Math.round(8*se/Ie);if(A(Te),y(Te,ve,ye)){if(re[Te].length>0&&!re[Te].hasCachedEntries)return;re[Te].hasCachedEntries=!0}else re[Te]&&re[Te].hasCachedEntries&&G(Te);re[Te].push(x),re[Te].length>M&&re[Te].shift(),ge[Te].push(ve),ge[Te].length>M&&ge[Te].shift(),E(_e[Te],x,.001*ye,ae.throughputHalfLife),E(W[Te],ve,1,ae.latencyHalfLife)}}function E(Te,te,ue,ve){var ye=Math.pow(.5,ue/ve.fast);Te.fastEstimate=(1-ye)*te+ye*Te.fastEstimate;var se=Math.pow(.5,ue/ve.slow);Te.slowEstimate=(1-se)*te+se*Te.slowEstimate,Te.totalWeight+=ue}function D(Te,te,ue){var ve=void 0,ye=void 0;if(Te?(ve=re[te],ye=ue?U:j):(ve=ge[te],ye=le),ve){if(ye>=ve.length)ye=ve.length;else if(Te)for(var se=1;se<ye;++se){var Ie=ve[-se]/ve[-se-1];if((Ie>=ne||Ie<=1/Z)&&(ye+=1)===ve.length)break}}else ye=0;return ye}function R(Te,te,ue){return fe.getMovingAverageMethod()!==u.default.MOVING_AVERAGE_SLIDING_WINDOW?L(Te,te):S(Te,te,ue)}function S(Te,te,ue){var ve=D(Te,te,ue),ye=Te?re:ge,se=ye[te];return ve!==0&&se&&se.length!==0?(se=se.slice(-ve),se.reduce(function(Ie,x){return Ie+x})/se.length):NaN}function L(Te,te){var ue=Te?ae.throughputHalfLife:ae.latencyHalfLife,ve=Te?_e[te]:W[te];if(!ve||ve.totalWeight<=0)return NaN;var ye=ve.fastEstimate/(1-Math.pow(.5,ve.totalWeight/ue.fast)),se=ve.slowEstimate/(1-Math.pow(.5,ve.totalWeight/ue.slow));return Te?Math.min(ye,se):Math.max(ye,se)}function B(Te,te){return R(!0,Te,te)}function k(Te,te){var ue=B(Te,te);return isNaN(ue)||(ue*=fe.getBandwidthSafetyFactor()),ue}function b(Te){return R(!1,Te)}function A(Te){re[Te]=re[Te]||[],ge[Te]=ge[Te]||[],_e[Te]=_e[Te]||{fastEstimate:0,slowEstimate:0,totalWeight:0},W[Te]=W[Te]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function G(Te){delete re[Te],delete ge[Te],delete _e[Te],delete W[Te],A(Te)}function w(){re={},ge={},_e={},W={}}_=_||{};var M=20,U=3,j=4,le=4,Z=1.3,ne=1.3,X=8,pe=3,K=2,de=1,fe=_.mediaPlayerModel,re=void 0,ge=void 0,_e=void 0,W=void 0,ae=void 0,me={push:I,getAverageThroughput:B,getSafeAverageThroughput:k,getAverageLatency:b,reset:w};return p(),me}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(48),g=l(v);h.__dashjs_factory_name="ThroughputHistory",o.default=g.default.getClassFactory(h),f.exports=o.default},{48:48,98:98}],125:[function(t,f,o){"use strict";function l(M){return M&&M.__esModule?M:{default:M}}function h(M){function U(){re=[],ge=[],K.getUseDefaultABRRules()&&(re.push((0,S.default)(pe).create({metricsModel:de,dashMetrics:fe,mediaPlayerModel:K})),re.push((0,u.default)(pe).create({metricsModel:de,dashMetrics:fe})),re.push((0,g.default)(pe).create({metricsModel:de,dashMetrics:fe})),re.push((0,D.default)(pe).create()),re.push((0,I.default)(pe).create()),ge.push((0,p.default)(pe).create({metricsModel:de,dashMetrics:fe,mediaPlayerModel:K}))),K.getABRCustomRules().forEach(function(_e){_e.type===A&&re.push(_e.rule(pe).create()),_e.type===G&&ge.push(_e.rule(pe).create())})}function j(_e){return _e.filter(function(W){return W.quality>b.default.NO_CHANGE})}function le(_e){var W={},ae=void 0,me=void 0,Te=void 0,te=void 0,ue=void 0;if(_e.length!==0){for(W[b.default.PRIORITY.STRONG]=b.default.NO_CHANGE,W[b.default.PRIORITY.WEAK]=b.default.NO_CHANGE,W[b.default.PRIORITY.DEFAULT]=b.default.NO_CHANGE,ae=0,me=_e.length;ae<me;ae+=1)Te=_e[ae],Te.quality!==b.default.NO_CHANGE&&(W[Te.priority]=W[Te.priority]>b.default.NO_CHANGE?Math.min(W[Te.priority],Te.quality):Te.quality);return W[b.default.PRIORITY.WEAK]!==b.default.NO_CHANGE&&(te=W[b.default.PRIORITY.WEAK]),W[b.default.PRIORITY.DEFAULT]!==b.default.NO_CHANGE&&(te=W[b.default.PRIORITY.DEFAULT]),W[b.default.PRIORITY.STRONG]!==b.default.NO_CHANGE&&(te=W[b.default.PRIORITY.STRONG]),te!==b.default.NO_CHANGE&&(ue=te),(0,b.default)(pe).create(ue)}}function Z(_e){return le(j(re.map(function(W){return W.getMaxIndex(_e)})))||(0,b.default)(pe).create()}function ne(_e){return le(j(ge.map(function(W){return W.shouldAbandon(_e)})))||(0,b.default)(pe).create()}function X(){[re,ge].forEach(function(_e){_e&&_e.length&&_e.forEach(function(W){return W.reset&&W.reset()})}),re=[],ge=[]}M=M||{};var pe=this.context,K=M.mediaPlayerModel,de=M.metricsModel,fe=M.dashMetrics,re=void 0,ge=void 0;return{initialize:U,reset:X,getMaxQuality:Z,shouldAbandonFragment:ne}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(131),u=l(m),v=t(129),g=l(v),_=t(126),p=l(_),y=t(128),I=l(y),E=t(130),D=l(E),R=t(127),S=l(R),L=t(48),B=l(L),k=t(122),b=l(k),A="qualitySwitchRules",G="abandonFragmentRules";h.__dashjs_factory_name="ABRRulesCollection";var w=B.default.getClassFactory(h);w.QUALITY_SWITCH_RULES=A,w.ABANDON_FRAGMENT_RULES=G,B.default.updateSingletonFactory(h.__dashjs_factory_name,w),o.default=w,f.exports=o.default},{122:122,126:126,127:127,128:128,129:129,130:130,131:131,48:48}],126:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(y){function I(){S()}function E(ne,X){U[ne]=U[ne]||{},U[ne][X]=U[ne][X]||{}}function D(ne,X){le[ne]=le[ne]||[],le[ne].push(X)}function R(ne){var X=(0,u.default)(b).create(u.default.NO_CHANGE,{name:h.__dashjs_factory_name});if(!(ne&&ne.hasOwnProperty("getMediaInfo")&&ne.hasOwnProperty("getMediaType")&&ne.hasOwnProperty("getCurrentRequest")&&ne.hasOwnProperty("getRepresentationInfo")&&ne.hasOwnProperty("getAbrController")))return X;var pe=ne.getMediaInfo(),K=ne.getMediaType(),de=ne.getCurrentRequest();if(!isNaN(de.index)){E(K,de.index);var fe=G.getStableBufferTime();if(M.getCurrentBufferLevel(w.getReadOnlyMetricsFor(K))>fe)return X;var re=U[K][de.index];if(re===null||de.firstByteDate===null||j.hasOwnProperty(re.id))return X;if(re.firstByteTime===void 0&&(le[K]=[],re.firstByteTime=de.firstByteDate.getTime(),re.segmentDuration=de.duration,re.bytesTotal=de.bytesTotal,re.id=de.index),re.bytesLoaded=de.bytesLoaded,re.elapsedTime=new Date().getTime()-re.firstByteTime,re.bytesLoaded>0&&re.elapsedTime>0&&D(K,Math.round(8*re.bytesLoaded/re.elapsedTime)),le[K].length>=k&&re.elapsedTime>B&&re.bytesLoaded<re.bytesTotal){var ge=le[K].reduce(function(Te,te){return Te+te},0);if(re.measuredBandwidthInKbps=Math.round(ge/le[K].length),re.estimatedTimeOfDownload=+(8*re.bytesTotal/re.measuredBandwidthInKbps/1e3).toFixed(2),re.estimatedTimeOfDownload<re.segmentDuration*L||ne.getRepresentationInfo().quality===0)return X;if(!j.hasOwnProperty(re.id)){var _e=ne.getAbrController(),W=re.bytesTotal-re.bytesLoaded,ae=_e.getBitrateList(pe),me=_e.getQualityForBitrate(pe,re.measuredBandwidthInKbps*G.getBandwidthSafetyFactor());W>re.bytesTotal*ae[me].bitrate/ae[_e.getQualityFor(K,pe.streamInfo)].bitrate&&(X.quality=me,X.reason.throughput=re.measuredBandwidthInKbps,X.reason.fragmentID=re.id,j[re.id]=re,A("AbandonRequestsRule ( ",K,"frag id",re.id,") is asking to abandon and switch to quality to ",me," measured bandwidth was",re.measuredBandwidthInKbps),delete U[K][re.id])}}else re.bytesLoaded===re.bytesTotal&&delete U[K][re.id]}return X}function S(){U={},j={},le=[]}y=y||{};var L=1.8,B=500,k=5,b=this.context,A=(0,p.default)(b).getInstance().log,G=y.mediaPlayerModel,w=y.metricsModel,M=y.dashMetrics,U=void 0,j=void 0,le=void 0,Z={shouldAbandon:R,reset:S};return I(),Z}Object.defineProperty(o,"__esModule",{value:!0});var m=t(122),u=l(m),v=t(48),g=l(v),_=t(46),p=l(_);h.__dashjs_factory_name="AbandonRequestsRule",o.default=g.default.getClassFactory(h),f.exports=o.default},{122:122,46:46,48:48}],127:[function(t,f,o){"use strict";function l(M){return M&&M.__esModule?M:{default:M}}function h(M){function U(){ye(),Q.on(R.default.BUFFER_EMPTY,ge,z),Q.on(R.default.PLAYBACK_SEEKING,_e,z),Q.on(R.default.PERIOD_SWITCH_STARTED,W,z),Q.on(R.default.MEDIA_FRAGMENT_LOADED,ae,z),Q.on(R.default.METRIC_ADDED,me,z),Q.on(R.default.QUALITY_CHANGE_REQUESTED,te,z),Q.on(R.default.FRAGMENT_LOADING_ABANDONED,ue,z)}function j(he){return he.map(function(d){return Math.log(d)})}function le(he,d,C){var F=C.reduce(function(ce,xe,Se){return xe>C[ce]?Se:ce},0);if(F===0)return null;var H=Math.max(he,A+G*d.length),Y=(C[F]-1)/(H/A-1);return{gp:Y,Vp:A/Y}}function Z(he){var d={},C=he.getMediaInfo(),F=C.bitrateList.map(function(xe){return xe.bandwidth}),H=j(F);H=H.map(function(xe){return xe-H[0]+1});var Y=N.getStableBufferTime(),ce=le(Y,F,H);return ce?(d.state=k,d.bitrates=F,d.utilities=H,d.stableBufferTime=Y,d.Vp=ce.Vp,d.gp=ce.gp,d.lastQuality=0,ne(d)):d.state=B,d}function ne(he){he.placeholderBuffer=0,he.mostAdvancedSegmentStart=NaN,he.lastSegmentWasReplacement=!1,he.lastSegmentStart=NaN,he.lastSegmentDurationS=NaN,he.lastSegmentRequestTimeMs=NaN,he.lastSegmentFinishTimeMs=NaN}function X(he,d){var C=N.getStableBufferTime();if(he.stableBufferTime!==C){var F=le(C,he.bitrates,he.utilities);if(F.Vp!==he.Vp||F.gp!==he.gp){var H=q.getCurrentBufferLevel(P.getReadOnlyMetricsFor(d)),Y=H+he.placeholderBuffer;Y-=A,Y*=F.Vp/he.Vp,Y+=A,he.stableBufferTime=C,he.Vp=F.Vp,he.gp=F.gp,he.placeholderBuffer=Math.max(0,Y-H)}}}function pe(he){var d=he.getMediaType(),C=oe[d];return C?C.state!==B&&X(C,d):(C=Z(he),oe[d]=C),C}function K(he,d){for(var C=he.bitrates.length,F=NaN,H=NaN,Y=0;Y<C;++Y){var ce=(he.Vp*(he.utilities[Y]+he.gp)-d)/he.bitrates[Y];(isNaN(H)||ce>=H)&&(H=ce,F=Y)}return F}function de(he,d){return he.Vp*(he.utilities[d]+he.gp)}function fe(he,d){for(var C=he.bitrates[d],F=he.utilities[d],H=0,Y=d-1;Y>=0;--Y)if(he.utilities[Y]<he.utilities[d]){var ce=he.bitrates[Y],xe=he.utilities[Y],Se=he.Vp*(he.gp+(C*xe-ce*F)/(C-ce));H=Math.max(H,Se)}return H}function re(he,d){var C=Date.now();if(isNaN(he.lastSegmentFinishTimeMs)){if(!isNaN(he.lastCallTimeMs)){var F=.001*(C-he.lastCallTimeMs);he.placeholderBuffer+=Math.max(0,F)}}else{var F=.001*(C-he.lastSegmentFinishTimeMs);he.placeholderBuffer+=Math.max(0,F)}he.lastCallTimeMs=C,he.lastSegmentStart=NaN,he.lastSegmentRequestTimeMs=NaN,he.lastSegmentFinishTimeMs=NaN,X(he,d)}function ge(){for(var he in oe)oe.hasOwnProperty(he)&&oe[he].state===b&&(oe[he].placeholderBuffer=0)}function _e(){for(var he in oe)if(oe.hasOwnProperty(he)){var d=oe[he];d.state!==B&&(d.state=k,ne(d))}}function W(){}function ae(he){if(he&&he.chunk&&he.chunk.mediaInfo){var d=oe[he.chunk.mediaInfo.type];if(d&&d.state!==B){var C=he.chunk.start;isNaN(d.mostAdvancedSegmentStart)||C>d.mostAdvancedSegmentStart?(d.mostAdvancedSegmentStart=C,d.lastSegmentWasReplacement=!1):d.lastSegmentWasReplacement=!0,d.lastSegmentStart=C,d.lastSegmentDurationS=he.chunk.duration,d.lastQuality=he.chunk.quality,Te(d,he.chunk.mediaInfo.type)}}}function me(he){if(he&&he.metric===u.default.HTTP_REQUEST&&he.value&&he.value.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&he.value.trace&&he.value.trace.length){var d=oe[he.mediaType];d&&d.state!==B&&(d.lastSegmentRequestTimeMs=he.value.trequest.getTime(),d.lastSegmentFinishTimeMs=he.value._tfinish.getTime(),Te(d,he.mediaType))}}function Te(he,d){if(!isNaN(he.lastSegmentStart)&&!isNaN(he.lastSegmentRequestTimeMs)&&!isNaN(he.placeholderBuffer)){if(he.placeholderBuffer*=w,!isNaN(he.lastSegmentFinishTimeMs)){var C=q.getCurrentBufferLevel(P.getReadOnlyMetricsFor(d)),F=C+.001*(he.lastSegmentFinishTimeMs-he.lastSegmentRequestTimeMs),H=de(he,he.lastQuality),Y=Math.max(0,H-F);he.placeholderBuffer=Math.min(Y,he.placeholderBuffer)}he.lastSegmentWasReplacement&&!isNaN(he.lastSegmentDurationS)&&(he.placeholderBuffer+=he.lastSegmentDurationS),he.lastSegmentStart=NaN,he.lastSegmentRequestTimeMs=NaN}}function te(he){if(he){var d=oe[he.mediaType];d&&d.state!==B&&(d.abrQuality=he.newQuality)}}function ue(he){if(he){var d=oe[he.mediaType];if(d&&d.state!==B){var C=q.getCurrentBufferLevel(P.getReadOnlyMetricsFor(he.mediaType)),F=void 0;F=d.abrQuality>0?fe(d,d.abrQuality):A;var H=Math.max(0,F-C);d.placeholderBuffer=Math.min(d.placeholderBuffer,H)}}}function ve(he){var d=he.getMediaInfo(),C=he.getMediaType(),F=P.getReadOnlyMetricsFor(C),H=he.getStreamProcessor(),Y=he.getStreamInfo(),ce=he.getAbrController(),xe=ce.getThroughputHistory(),Se=Y?Y.id:null,Pe=Y&&Y.manifestInfo&&Y.manifestInfo.isDynamic,Oe=he.useBufferOccupancyABR(),Fe=(0,g.default)(Ie).create();if(Fe.reason=Fe.reason||{},!Oe)return Fe;H.getScheduleController().setTimeToLoadDelay(0);var Ke=pe(he);if(Ke.state===B)return x("BOLA ABR rule invoked for media type '"+C+"' with only one bitrate."),Fe;var rt=q.getCurrentBufferLevel(F),ke=xe.getAverageThroughput(C,Pe),Xe=xe.getSafeAverageThroughput(C,Pe),Qe=xe.getAverageLatency(C),ze=void 0;if(Fe.reason.state=Ke.state,Fe.reason.throughput=ke,Fe.reason.latency=Qe,isNaN(ke))return Fe;switch(Ke.state){case k:ze=ce.getQualityForBitrate(d,Xe,Qe),Fe.quality=ze,Fe.reason.throughput=Xe,Ke.placeholderBuffer=Math.max(0,fe(Ke,ze)-rt),Ke.lastQuality=ze,!isNaN(Ke.lastSegmentDurationS)&&rt>=Ke.lastSegmentDurationS&&(Ke.state=b);break;case b:re(Ke,C),ze=K(Ke,rt+Ke.placeholderBuffer);var pt=ce.getQualityForBitrate(d,Xe,Qe);ze>Ke.lastQuality&&ze>pt&&(ze=Math.max(pt,Ke.lastQuality));var mt=Math.max(0,rt+Ke.placeholderBuffer-de(Ke,ze));mt<=Ke.placeholderBuffer?(Ke.placeholderBuffer-=mt,mt=0):(mt-=Ke.placeholderBuffer,Ke.placeholderBuffer=0,ze<ce.getTopQualityIndexFor(C,Se)?H.getScheduleController().setTimeToLoadDelay(1e3*mt):mt=0),Fe.quality=ze,Fe.reason.throughput=ke,Fe.reason.latency=Qe,Fe.reason.bufferLevel=rt,Fe.reason.placeholderBuffer=Ke.placeholderBuffer,Fe.reason.delay=mt,Ke.lastQuality=ze;break;default:x("BOLA ABR rule invoked in bad state."),Fe.quality=ce.getQualityForBitrate(d,Xe,Qe),Fe.reason.state=Ke.state,Fe.reason.throughput=Xe,Fe.reason.latency=Qe,Ke.state=k,ne(Ke)}return Fe}function ye(){oe={}}function se(){ye(),Q.off(R.default.BUFFER_EMPTY,ge,z),Q.off(R.default.PLAYBACK_SEEKING,_e,z),Q.off(R.default.PERIOD_SWITCH_STARTED,W,z),Q.off(R.default.MEDIA_FRAGMENT_LOADED,ae,z),Q.off(R.default.METRIC_ADDED,me,z),Q.off(R.default.QUALITY_CHANGE_REQUESTED,te,z),Q.off(R.default.FRAGMENT_LOADING_ABANDONED,ue,z)}M=M||{};var Ie=this.context,x=(0,L.default)(Ie).getInstance().log,q=M.dashMetrics,P=M.metricsModel,N=M.mediaPlayerModel,Q=(0,E.default)(Ie).getInstance(),z=void 0,oe=void 0;return z={getMaxIndex:ve,reset:se},U(),z}Object.defineProperty(o,"__esModule",{value:!0});var m=t(99),u=l(m),v=t(122),g=l(v),_=t(48),p=l(_),y=t(179),I=t(47),E=l(I),D=t(51),R=l(D),S=t(46),L=l(S),B=0,k=1,b=2,A=10,G=2,w=.99;h.__dashjs_factory_name="BolaRule",o.default=p.default.getClassFactory(h),f.exports=o.default},{122:122,179:179,46:46,47:47,48:48,51:51,99:99}],128:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(S){var L=S.getDroppedFramesHistory();if(L){for(var B=L.getFrameHistory(),k=0,b=0,A=g.default.NO_CHANGE,G=1;G<B.length;G++)if(B[G]&&(k=B[G].droppedVideoFrames,(b=B[G].totalVideoFrames)>R&&k/b>D)){A=G-1,E("DroppedFramesRule, index: "+A+" Dropped Frames: "+k+" Total Frames: "+b);break}return(0,g.default)(I).create(A,{droppedFrames:k})}return(0,g.default)(I).create()}var I=this.context,E=(0,p.default)(I).getInstance().log,D=.15,R=375;return{getMaxIndex:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(122),g=l(v),_=t(46),p=l(_);h.__dashjs_factory_name="DroppedFramesRule",o.default=u.default.getClassFactory(h),f.exports=o.default},{122:122,46:46,48:48}],129:[function(t,f,o){"use strict";function l(L){return L&&L.__esModule?L:{default:L}}function h(L){function B(){G(),Z.on(p.default.PLAYBACK_SEEKING,w,pe)}function k(){if(!(ne&&ne.hasOwnProperty("getReadOnlyMetricsFor")&&X&&X.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}function b(de){var fe=(0,S.default)(j).create();if(!de||!de.hasOwnProperty("getMediaType"))return fe;k();var re=de.getMediaType(),ge=ne.getReadOnlyMetricsFor(re),_e=ge.BufferState.length>0?ge.BufferState[ge.BufferState.length-1]:null,W=de.getRepresentationInfo(),ae=W.fragmentDuration;if(!_e||!A(re,_e)||!ae)return fe;if(_e.state===u.default.BUFFER_EMPTY)le("Switch to index 0; buffer is empty."),fe.quality=0,fe.reason="InsufficientBufferRule: Buffer is empty";else{var me=de.getMediaInfo(),Te=de.getAbrController(),te=Te.getThroughputHistory(),ue=X.getCurrentBufferLevel(ge),ve=te.getAverageThroughput(re),ye=te.getAverageLatency(re),se=ve*(ue/ae)*U;fe.quality=Te.getQualityForBitrate(me,se,ye),fe.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return fe}function A(de,fe){K[de]=K[de]||{};var re=!1;return K[de].firstBufferLoadedEvent?re=!0:fe&&fe.state===u.default.BUFFER_LOADED&&(K[de].firstBufferLoadedEvent=!0,re=!0),re}function G(){K={}}function w(){G()}function M(){G(),Z.off(p.default.PLAYBACK_SEEKING,w,pe)}L=L||{};var U=.5,j=this.context,le=(0,D.default)(j).getInstance().log,Z=(0,g.default)(j).getInstance(),ne=L.metricsModel,X=L.dashMetrics,pe=void 0,K=void 0;return pe={getMaxIndex:b,reset:M},B(),pe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(103),u=l(m),v=t(47),g=l(v),_=t(51),p=l(_),y=t(48),I=l(y),E=t(46),D=l(E),R=t(122),S=l(R);h.__dashjs_factory_name="InsufficientBufferRule",o.default=I.default.getClassFactory(h),f.exports=o.default},{103:103,122:122,46:46,47:47,48:48,51:51}],130:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(S){for(var L=S?S.getSwitchHistory():null,B=L?L.getSwitchRequests():[],k=0,b=0,A=0,G=(0,p.default)(I).create(),w=0;w<B.length;w++)if(B[w]!==void 0&&(k+=B[w].drops,b+=B[w].noDrops,A+=B[w].dropSize,k+b>=R&&k/b>D)){G.quality=w>0&&B[w].drops>0?w-1:w,G.reason={index:G.quality,drops:k,noDrops:b,dropSize:A},E("Switch history rule index: "+G.quality+" samples: "+(k+b)+" drops: "+k);break}return G}var I=this.context,E=(0,g.default)(I).getInstance().log,D=.075,R=6;return{getMaxIndex:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_=t(122),p=l(_);h.__dashjs_factory_name="SwitchHistoryRule",o.default=u.default.getClassFactory(h),f.exports=o.default},{122:122,46:46,48:48}],131:[function(t,f,o){"use strict";function l(R){return R&&R.__esModule?R:{default:R}}function h(R){function S(){if(!A||!A.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}function L(G){var w=(0,D.default)(k).create();if(!(G&&G.hasOwnProperty("getMediaInfo")&&G.hasOwnProperty("getMediaType")&&G.hasOwnProperty("useBufferOccupancyABR")&&G.hasOwnProperty("getAbrController")&&G.hasOwnProperty("getStreamProcessor")))return w;S();var M=G.getMediaInfo(),U=G.getMediaType(),j=A.getReadOnlyMetricsFor(U),le=G.getStreamProcessor(),Z=G.getAbrController(),ne=G.getStreamInfo(),X=ne&&ne.manifestInfo?ne.manifestInfo.isDynamic:null,pe=Z.getThroughputHistory(),K=pe.getSafeAverageThroughput(U,X),de=pe.getAverageLatency(U),fe=j.BufferState.length>0?j.BufferState[j.BufferState.length-1]:null,re=G.useBufferOccupancyABR();return!j||isNaN(K)||!fe||re||Z.getAbandonmentStateFor(U)!==g.default.ABANDON_LOAD&&(fe.state===u.default.BUFFER_LOADED||X)&&(w.quality=Z.getQualityForBitrate(M,K,de),le.getScheduleController().setTimeToLoadDelay(0),b("ThroughputRule requesting switch to index: ",w.quality,"type: ",U,"Average throughput",Math.round(K),"kbps"),w.reason={throughput:K,latency:de}),w}function B(){}R=R||{};var k=this.context,b=(0,I.default)(k).getInstance().log,A=R.metricsModel;return{getMaxIndex:L,reset:B}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(103),u=l(m),v=t(100),g=l(v),_=t(48),p=l(_),y=t(46),I=l(y),E=t(122),D=l(E);h.__dashjs_factory_name="ThroughputRule",o.default=p.default.getClassFactory(h),f.exports=o.default},{100:100,103:103,122:122,46:46,48:48}],132:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(_){function p(){}function y(k,b,A){return E.getCurrentBufferLevel(D.getReadOnlyMetricsFor(b))<I(k,b,A)}function I(k,b,A){var G=NaN,w=k.getCurrentRepresentationInfo();if(b===u.default.FRAGMENTED_TEXT)G=S.getAllTracksAreDisabled()?0:w.fragmentDuration;else if(b===u.default.AUDIO&&A){var M=E.getCurrentBufferLevel(D.getReadOnlyMetricsFor(u.default.VIDEO));G=isNaN(w.fragmentDuration)?M:Math.max(M,w.fragmentDuration)}else{var U=w.mediaInfo.streamInfo;if(L.isPlayingAtTopQuality(U)){var j=U.manifestInfo.duration>=R.getLongFormContentDurationThreshold();G=j?R.getBufferTimeAtTopQualityLongForm():R.getBufferTimeAtTopQuality()}else G=R.getStableBufferTime()}return G}_=_||{};var E=_.dashMetrics,D=_.metricsModel,R=_.mediaPlayerModel,S=_.textController,L=_.abrController,B={execute:y,getBufferTarget:I};return p(),B}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(48),g=l(v);h.__dashjs_factory_name="BufferLevelRule",o.default=g.default.getClassFactory(h),f.exports=o.default},{48:48,98:98}],133:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(E){function D(k,b){var A=k.getCurrentRepresentationInfo(),G=A.mediaInfo,w=G.type,M=k.getScheduleController(),U=M.getSeekTarget(),j=!isNaN(U),le=k.getBufferController(),Z=j?U:L.getIndexHandlerTime(k);if(isNaN(Z)||w===u.default.FRAGMENTED_TEXT&&B.getAllTracksAreDisabled())return null;if(j&&M.setSeekTarget(NaN),le){var ne=le.getRangeAt(Z);ne===null||j||(S("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",w,".",Z,"was changed to",ne.end),Z=ne.end)}var X=void 0;if(b)Z=b.startTime+b.duration/2,X=L.getFragmentRequestForTime(k,A,Z,{timeThreshold:0,ignoreIsFinished:!0});else{for(X=L.getFragmentRequestForTime(k,A,Z,{keepIdx:!j});X&&X.action!==I.default.ACTION_COMPLETE&&k.getFragmentModel().isFragmentLoaded(X);)X=L.getNextFragmentRequest(k,A);X&&(isNaN(X.startTime+X.duration)||L.setIndexHandlerTime(k,X.startTime+X.duration),X.delayLoadingTime=new Date().getTime()+M.getTimeToLoadDelay(),M.setTimeToLoadDelay(0))}return X}E=E||{};var R=this.context,S=(0,g.default)(R).getInstance().log,L=E.adapter,B=E.textController;return{execute:D}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(46),g=l(v),_=t(48),p=l(_),y=t(162),I=l(y);h.__dashjs_factory_name="NextFragmentRequestRule",o.default=p.default.getClassFactory(h),f.exports=o.default},{162:162,46:46,48:48,98:98}],134:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(R){for(var S="",L=0;L<R.length;++L)S+=R[L].uchar;return S.length-S.replace(/^\s+/,"").length}function g(R){return"left: "+3.125*R.x+"%; top: "+6.66*R.y1+"%; width: "+(100-3.125*R.x)+"%; height: "+6.66*Math.max(R.y2-1-R.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function _(R){return R==="red"?"rgb(255, 0, 0)":R==="green"?"rgb(0, 255, 0)":R==="blue"?"rgb(0, 0, 255)":R==="cyan"?"rgb(0, 255, 255)":R==="magenta"?"rgb(255, 0, 255)":R==="yellow"?"rgb(255, 255, 0)":R==="white"?"rgb(255, 255, 255)":R==="black"?"rgb(0, 0, 0)":R}function p(R,S){var L=R.videoHeight/15;return S?"font-size: "+L+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(S.foreground?_(S.foreground):"rgb(255, 255, 255)")+"; font-style: "+(S.italics?"italic":"normal")+"; text-decoration: "+(S.underline?"underline":"none")+"; white-space: pre; background-color: "+(S.background?_(S.background):"transparent")+";":"font-size: "+L+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function y(R){return R.replace(/^\s+/g,"")}function I(R){return R.replace(/\s+$/g,"")}function E(R,S,L,B){var k=null,b=null,A=!1,G=-1,w={start:S,end:L,spans:[]},M="style_cea608_white_black",U={},j={},le=[],Z=void 0,ne=void 0;for(Z=0;Z<15;++Z){var X=B.rows[Z],pe="",K=null;if(X.isEmpty()===!1){var de=v(X.chars);k===null&&(k={x:de,y1:Z,y2:Z+1,p:[]}),de!==G&&A&&(k.p.push(w),w={start:S,end:L,spans:[]},k.y2=Z,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,U.hasOwnProperty(k.name)===!1?(le.push(k),U[k.name]=k):(b=U[k.name],b.p.contat(k.p)),k={x:de,y1:Z,y2:Z+1,p:[]});for(var fe=0;fe<X.chars.length;++fe){var re=X.chars[fe],ge=re.penState;if(K===null||!ge.equals(K)){pe.trim().length>0&&(w.spans.push({name:M,line:pe,row:Z}),pe="");var _e="style_cea608_"+ge.foreground+"_"+ge.background;ge.underline&&(_e+="_underline"),ge.italics&&(_e+="_italics"),j.hasOwnProperty(_e)||(j[_e]=JSON.parse(JSON.stringify(ge))),K=ge,M=_e}pe+=re.uchar}pe.trim().length>0&&w.spans.push({name:M,line:pe,row:Z}),A=!0,G=de}else A=!1,G=-1,k&&(k.p.push(w),w={start:S,end:L,spans:[]},k.y2=Z,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,U.hasOwnProperty(k.name)===!1?(le.push(k),U[k.name]=k):(b=U[k.name],b.p.contat(k.p)),k=null)}k&&(k.p.push(w),k.y2=Z+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,U.hasOwnProperty(k.name)===!1?(le.push(k),U[k.name]=k):(b=U[k.name],b.p.contat(k.p)),k=null);var W=[];for(Z=0;Z<le.length;++Z){var ae=le[Z],me="sub_cea608_"+D++,Te=document.createElement("div");Te.id=me;var te=g(ae);Te.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+te;var ue=document.createElement("div");ue.className="paragraph bodyStyle",ue.style.cssText=p(R);var ve=document.createElement("div");ve.className="cueUniWrapper",ve.style.cssText="unicode-bidi: normal; direction: ltr;";for(var ye=0;ye<ae.p.length;++ye){var se=ae.p[ye],Ie=0;for(ne=0;ne<se.spans.length;++ne){var x=se.spans[ne];if(x.line.length>0){if(ne!==0&&Ie!=x.row){var q=document.createElement("br");q.className="lineBreak",ve.appendChild(q)}var P=!1;Ie===x.row&&(P=!0),Ie=x.row;var N=j[x.name],Q=document.createElement("span");Q.className="spanPadding "+x.name+" customSpanColor",Q.style.cssText=p(R,N),ne!==0&&P?ne===se.spans.length-1?Q.textContent=I(x.line):Q.textContent=x.line:se.spans.length>1&&ne<se.spans.length-1&&x.row===se.spans[ne+1].row?Q.textContent=y(x.line):Q.textContent=x.line.trim(),ve.appendChild(Q)}}}ue.appendChild(ve),Te.appendChild(ue);var z={bodyStyle:["%",90]};for(ne in j)j.hasOwnProperty(ne)&&(z[ne]=["%",90]);W.push({type:"html",start:S,end:L,cueHTMLElement:Te,cueID:me,cellResolution:[32,15],isFromCEA608:!0,regions:le,regionID:ae.name,videoHeight:R.videoHeight,videoWidth:R.videoWidth,fontSize:z,lineHeight:{},linePadding:{}})}return W}var D=0;return{createHTMLCaptionsFromScreen:E}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="EmbeddedTextHtmlRender",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],135:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(b){function A(){x=!1,q=null,N=null,Ie=!1,Te.on(p.default.DATA_UPDATE_COMPLETED,ge,se),Te.on(p.default.INIT_FRAGMENT_LOADED,_e,se)}function G(){return k}function w(z){le(z),N=ye.getRepresentationController(),Q=(0,D.default)(me).getInstance()}function M(z){try{if(P=(0,S.default)(me).create(q,z),!x){var oe=P.getBuffer();oe.hasOwnProperty(u.default.INITIALIZE)&&oe.initialize(ve,ye),x=!0}}catch{if(z.isText||z.codec.indexOf('codecs="stpp')!==-1||z.codec.indexOf('codecs="wvtt')!==-1)try{P=te.getTextSourceBuffer()}catch{ue.mediaSourceError("Error creating "+ve+" source buffer.")}else ue.mediaSourceError("Error creating "+ve+" source buffer.")}}function U(){return ve}function j(){return P}function le(z){q=z}function Z(){return q}function ne(){return ye}function X(){return!1}function pe(){}function K(){}function de(){return 0}function fe(){return Ie}function re(z){Te.off(p.default.DATA_UPDATE_COMPLETED,ge,se),Te.off(p.default.INIT_FRAGMENT_LOADED,_e,se),!z&&P&&(P.abort(),P.reset(),P=null)}function ge(z){z.sender.getStreamProcessor()===ye&&Te.trigger(p.default.TIMED_TEXT_REQUESTED,{index:0,sender:z.sender})}function _e(z){z.fragmentModel===ye.getFragmentModel()&&z.chunk.bytes&&(Q.save(z.chunk),P.append(z.chunk))}function W(z,oe){var he=Q.extract(z,oe);he?P.append(he):Te.trigger(p.default.INIT_REQUESTED,{sender:se})}function ae(){return null}b=b||{};var me=this.context,Te=(0,g.default)(me).getInstance(),te=(0,B.default)(me).getInstance(),ue=b.errHandler,ve=b.type,ye=b.streamProcessor,se=void 0,Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0;return se={getBufferControllerType:G,initialize:w,createBuffer:M,getType:U,getStreamProcessor:ne,setSeekStartTime:K,getBuffer:j,getBufferLevel:de,setMediaSource:le,getMediaSource:Z,getIsBufferingCompleted:fe,getIsPruningInProgress:X,dischargePreBuffer:pe,switchInitData:W,getRangeAt:ae,reset:re},A(),se}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(47),g=l(v),_=t(51),p=l(_),y=t(48),I=l(y),E=t(149),D=l(E),R=t(93),S=l(R),L=t(137),B=l(L),k="NotFragmentedTextBufferController";h.__dashjs_factory_name=k,o.default=I.default.getClassFactory(h),f.exports=o.default},{137:137,149:149,47:47,48:48,51:51,93:93,98:98}],136:[function(t,f,o){"use strict";function l(E){return E&&E.__esModule?E:{default:E}}function h(E){function D(){de=E.type===u.default.FRAGMENTED_TEXT?(0,p.default)(K).create({type:E.type,metricsModel:E.metricsModel,mediaPlayerModel:E.mediaPlayerModel,manifestModel:E.manifestModel,errHandler:E.errHandler,streamController:E.streamController,mediaController:E.mediaController,adapter:E.adapter,textController:E.textController,abrController:E.abrController,playbackController:E.playbackController,streamProcessor:E.streamProcessor}):(0,I.default)(K).create({type:E.type,errHandler:E.errHandler,streamProcessor:E.streamProcessor})}function R(){return de.getBufferControllerType()}function S(re,ge){return de.initialize(re,ge)}function L(re){return de.createBuffer(re)}function B(){return de.getType()}function k(){return de.getBuffer()}function b(re){de.setBuffer(re)}function A(){return de.getMediaSource()}function G(re){de.setMediaSource(re)}function w(){de.getStreamProcessor()}function M(re){de.setSeekStartTime(re)}function U(){return de.getBufferLevel()}function j(re){de.reset(re)}function le(){return de.getIsBufferingCompleted()}function Z(re,ge){de.switchInitData(re,ge)}function ne(){return de.getIsPruningInProgress()}function X(){return de.dischargePreBuffer()}function pe(re){return de.getRangeAt(re)}E=E||{};var K=this.context,de=void 0,fe=void 0;return fe={getBufferControllerType:R,initialize:S,createBuffer:L,getType:B,getStreamProcessor:w,setSeekStartTime:M,getBuffer:k,setBuffer:b,getBufferLevel:U,setMediaSource:G,getMediaSource:A,getIsBufferingCompleted:le,getIsPruningInProgress:ne,dischargePreBuffer:X,switchInitData:Z,getRangeAt:pe,reset:j},D(),fe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(48),g=l(v),_=t(103),p=l(_),y=t(135),I=l(y);h.__dashjs_factory_name="TextBufferController",o.default=g.default.getClassFactory(h),f.exports=o.default},{103:103,135:135,48:48,98:98}],137:[function(t,f,o){"use strict";function l(A){return A&&A.__esModule?A:{default:A}}function h(){function A(){P="",N=-1,Q=!0,se=(0,I.default)(_e).getInstance(),Ie=(0,D.default)(_e).getInstance(),x=(0,S.default)(_e).getInstance(),ae=(0,p.default)(_e).getInstance(),q=(0,B.default)(_e).getInstance(),se.initialize(),q.on(b.default.TEXT_TRACKS_QUEUE_INITIALIZED,Z,W),re()}function G(oe){oe&&(oe.errHandler&&(me=oe.errHandler),oe.dashManifestModel&&(Te=oe.dashManifestModel),oe.manifestModel&&(te=oe.manifestModel),oe.mediaController&&(ue=oe.mediaController),oe.videoModel&&(ve=oe.videoModel),oe.streamController&&(ye=oe.streamController),oe.textTracks&&(se=oe.textTracks),oe.vttParser&&(Ie=oe.vttParser),oe.ttmlParser&&(x=oe.ttmlParser),ae.setConfig({errHandler:me,dashManifestModel:Te,manifestModel:te,mediaController:ue,videoModel:ve,streamController:ye,textTracks:se,vttParser:Ie,ttmlParser:x}))}function w(){return ae}function M(){return z}function U(oe){ae.addEmbeddedTrack(oe)}function j(oe){typeof oe=="string"&&(P=oe)}function le(){return P}function Z(oe){var he=oe.tracks,d=oe.index,C=he.findIndex(function(F){return F.lang===P});C!==-1&&(this.setTextTrack(C),d=C),Q||this.setTextTrack(-1),N=d,q.trigger(b.default.TEXT_TRACKS_ADDED,{enabled:!z,index:d,tracks:he})}function ne(oe){typeof oe=="boolean"&&(Q=oe)}function X(){return Q}function pe(oe){typeof oe=="boolean"&&!z!==oe&&(oe&&this.setTextTrack(N),oe||(N=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function K(){return!z}function de(oe){var he=ae.getConfig(),d=he.fragmentModel,C=he.fragmentedTracks,F=se.getCurrentTrackIdx();if(F!==oe){se.setModeForTrackIdx(F,u.default.TEXT_HIDDEN),se.setCurrentTrackIdx(oe),se.setModeForTrackIdx(oe,u.default.TEXT_SHOWING);var H=se.getCurrentTrackInfo();if(H&&H.isFragmented&&!H.isEmbedded)for(var Y=0;Y<C.length;Y++){var ce=C[Y];if(H.lang===ce.lang&&H.index===ce.index&&(!H.label||H.label===ce.id)){var xe=ue.getCurrentTrackFor(u.default.FRAGMENTED_TEXT,ye.getActiveStreamInfo());ce!==xe&&(d.abortRequests(),d.removeExecutedRequestsBeforeTime(),ae.remove(),se.deleteCuesFromTrackIdx(F),ue.setTrack(ce),ae.setCurrentFragmentedTrackIdx(Y))}}}z=oe===-1}function fe(){return se.getCurrentTrackIdx()}function re(){z=!1}function ge(){re(),ae.resetEmbedded()}var _e=this.context,W=void 0,ae=void 0,me=void 0,Te=void 0,te=void 0,ue=void 0,ve=void 0,ye=void 0,se=void 0,Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0;return W={setConfig:G,getTextSourceBuffer:w,getAllTracksAreDisabled:M,addEmbeddedTrack:U,getTextDefaultLanguage:le,setTextDefaultLanguage:j,setTextDefaultEnabled:ne,getTextDefaultEnabled:X,enableText:pe,isTextEnabled:K,setTextTrack:de,getCurrentTrackIdx:fe,reset:ge},A(),W}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(48),g=l(v),_=t(138),p=l(_),y=t(139),I=l(y),E=t(156),D=l(E),R=t(154),S=l(R),L=t(47),B=l(L),k=t(51),b=l(k);h.__dashjs_factory_name="TextController",o.default=g.default.getSingletonFactory(h),f.exports=o.default},{138:138,139:139,154:154,156:156,47:47,48:48,51:51,98:98}],138:[function(t,f,o){"use strict";function l(K){return K&&K.__esModule?K:{default:K}}function h(){function K(Ge,Le){if(he=null,xe=null,Se=!1,Pe=NaN,Oe=[],rt=null,q||re(),H=Le.getMediaInfoArr(),Y.setConfig({videoModel:Fe}),Y.initialize(),ce=!Q.getIsTextTrack(Ge),P=(0,E.default)(se).getInstance(),F=(0,y.default)(se).getInstance(),F.setConfig({boxParser:P}),ce){xe=Le.getFragmentModel(),this.buffered=(0,R.default)(se).create(),Oe=oe.getTracksFor(u.default.FRAGMENTED_TEXT,Ke.getActiveStreamInfo());for(var He=oe.getCurrentTrackFor(u.default.FRAGMENTED_TEXT,Ke.getActiveStreamInfo()),at=0;at<Oe.length;at++)if(Oe[at]===He){ke=at;break}}}function de(){Y.deleteAllTextTracks(),he=null,F=null,H=null,Y=null,ce=!1,xe=null,Se=!1,Pe=NaN,Oe=[],Fe=null,Ke=null,q=!1,Xe=null}function fe(Ge){var Le=Ge.chunk;Le.mediaInfo.embeddedCaptions&&Te(Le.bytes,Le)}function re(){Xe=[],H=[],Y=(0,A.default)(se).getInstance(),Y.setConfig({videoModel:Fe}),Y.initialize(),P=(0,E.default)(se).getInstance(),F=(0,y.default)(se).getInstance(),F.setConfig({boxParser:P}),ce=!1,ke=null,Qe=!1,ze=0,Ze=[],mt=[],pt=null,q=!0,$e=(0,w.default)(se).getInstance(),x.on(pe.default.VIDEO_CHUNK_RECEIVED,fe,this)}function ge(){x.off(pe.default.VIDEO_CHUNK_RECEIVED,fe,this),Y&&Y.deleteAllTextTracks(),q=!1,Xe=[],Ze=[null,null],mt=[],pt=null}function _e(Ge){q||re(),Ge.id===u.default.CC1||Ge.id===u.default.CC3?Xe.push(Ge):Ie("Warning: Embedded track "+Ge.id+" not supported!")}function W(Ge){Ge&&(Ge.errHandler&&(N=Ge.errHandler),Ge.dashManifestModel&&(Q=Ge.dashManifestModel),Ge.manifestModel&&(z=Ge.manifestModel),Ge.mediaController&&(oe=Ge.mediaController),Ge.videoModel&&(Fe=Ge.videoModel),Ge.streamController&&(Ke=Ge.streamController),Ge.textTracks&&(Y=Ge.textTracks),Ge.vttParser&&(d=Ge.vttParser),Ge.ttmlParser&&(C=Ge.ttmlParser))}function ae(){return{errHandler:N,dashManifestModel:Q,mediaController:oe,videoModel:Fe,fragmentModel:xe,streamController:Ke,textTracks:Y,isFragmented:ce,embeddedTracks:Xe,fragmentedTracks:Oe}}function me(Ge){ke=Ge}function Te(Ge,Le){function He(Dt,Ct){var xt=new _.default,Nt={subtitle:"subtitles",caption:"captions"},Pt=function(){var ft=Ct.roles.length>0?Nt[Ct.roles[0]]:Nt.caption;return ft=ft===Nt.caption||ft===Nt.subtitle?ft:Nt.caption},Ft=function(){var ft=!1;return Ct.codec&&Ct.codec.search(u.default.STPP)>=0&&(ft=!0),Ct.mimeType&&Ct.mimeType.search(u.default.TTML)>=0&&(ft=!0),ft};xt.captionData=Dt,xt.lang=Ct.lang,xt.label=Ct.id,xt.index=Ct.index,xt.isTTML=Ft(),xt.defaultTrack=ue(Ct),xt.isFragmented=ce,xt.isEmbedded=!!Ct.isEmbedded,xt.kind=Pt(),xt.roles=Ct.roles;var Be=(H?H.length:0)+Xe.length;Y.addTextTrack(xt,Be)}var at=void 0,et=void 0,qe=void 0,Ye=void 0,it=void 0,ct=void 0,lt=void 0,J=Le.mediaInfo,De=J.type,e=J.mimeType,i=J.codec||e;if(!i)return void Ie("No text type defined");if(De===u.default.FRAGMENTED_TEXT)if(Se)if(ct=F.getSamplesInfo(Ge),et=ct.sampleList,!rt&&et.length>0&&(rt=et[0].cts-Le.start*Pe),i.search(u.default.STPP)>=0)for(he=he!==null?he:ve(i),qe=0;qe<et.length;qe++){var n=et[qe],r=n.cts,c=r-rt;this.buffered.add(c/Pe,(c+n.duration)/Pe);var T=new DataView(Ge,n.offset,n.subSizes[0]);lt=U.default.Utils.dataViewToString(T,u.default.UTF8);var O=[],V=n.offset+n.subSizes[0];for(Ye=1;Ye<n.subSizes.length;Ye++){var ee=new Uint8Array(Ge,V,n.subSizes[Ye]),Ee=String.fromCharCode.apply(null,ee);O.push(Ee),V+=n.subSizes[Ye]}try{var we=z.getValue(),Re=we.ttmlTimeIsRelative?r/Pe:0;at=he.parse(lt,Re,r/Pe,(r+n.duration)/Pe,O),Y.addCaptions(ke,rt/Pe,at)}catch(Dt){Ie("TTML parser error: "+Dt.message)}}else{var Ne=[];for(qe=0;qe<et.length;qe++){var n=et[qe];n.cts-=rt,this.buffered.add(n.cts/Pe,(n.cts+n.duration)/Pe);var be=Ge.slice(n.offset,n.offset+n.size),Ae=U.default.parseBuffer(be);for(Ye=0;Ye<Ae.boxes.length;Ye++){var Ue=Ae.boxes[Ye];if(Ie("VTT box1: "+Ue.type),Ue.type!=="vtte"&&Ue.type==="vttc")for(Ie("VTT vttc boxes.length = "+Ue.boxes.length),it=0;it<Ue.boxes.length;it++){var We=Ue.boxes[it];if(Ie("VTT box2: "+We.type),We.type==="payl"){var st=We.cue_text;Ie("VTT cue_text = "+st);var dt=n.cts/Pe,yt=(n.cts+n.duration)/Pe;Ne.push({start:dt,end:yt,data:st,styles:{}}),Ie("VTT "+dt+"-"+yt+" : "+st)}}}}Ne.length>0&&Y.addCaptions(ke,0,Ne)}else{for(Se=!0,qe=0;qe<H.length;qe++)He(null,H[qe]);Pe=F.getMediaTimescaleFromMoov(Ge)}else if(De===u.default.TEXT){var T=new DataView(Ge,0,Ge.byteLength);lt=U.default.Utils.dataViewToString(T,u.default.UTF8);try{at=ve(i).parse(lt,0),He(at,J)}catch(Ct){N.timedTextError(Ct,"parse",lt)}}else if(De===u.default.VIDEO)if(Le.segmentType===v.HTTPRequest.INIT_SEGMENT_TYPE){if(ze===0)for(ze=F.getMediaTimescaleFromMoov(Ge),qe=0;qe<Xe.length;qe++)He(null,Xe[qe])}else{if(ze===0)return void Ie("CEA-608: No timescale for embeddedTextTrack yet");var Et=function(Dt,Ct){function xt(Nt,Pt,Ft){var Be=null;Fe.getTTMLRenderingDiv()?Be=$e.createHTMLCaptionsFromScreen(Fe.getElement(),Nt,Pt,Ft):Be=[{start:Nt,end:Pt,data:Ft.getDisplayText(),styles:{}}],Be&&Y.addCaptions(Ct,0,Be)}return xt};ct=F.getSamplesInfo(Ge);var Tt=ct.lastSequenceNumber;if(!Ze[0]&&!Ze[1]){var _t=void 0,Ve=void 0;for(qe=0;qe<Xe.length;qe++){if(Xe[qe].id===u.default.CC1?Ve=Y.getTrackIdxForId(u.default.CC1):Xe[qe].id===u.default.CC3&&(Ve=Y.getTrackIdxForId(u.default.CC3)),Ve===-1)return void Ie("CEA-608: data before track is ready.");_t=Et(this,Ve),Ze[qe]=new le.default.Cea608Parser(qe,{newCue:_t},null)}}if(ze&&mt.indexOf(Tt)==-1){if(pt!==null&&Tt!==pt+ct.numSequences)for(qe=0;qe<Ze.length;qe++)Ze[qe]&&Ze[qe].reset();for(var ut=te(Ge,ct.sampleList),ht=0;ht<Ze.length;ht++){var It=ut.fields[ht],bt=Ze[ht];if(bt)for(qe=0;qe<It.length;qe++)bt.addData(It[qe][0]/ze,It[qe][1])}pt=Tt,mt.push(Tt)}}}function te(Ge,Le){if(Le.length===0)return null;for(var He={splits:[],fields:[[],[]]},at=new DataView(Ge),et=0;et<Le.length;et++)for(var qe=Le[et],Ye=le.default.findCea608Nalus(at,qe.offset,qe.size),it=null,ct=0,lt=0;lt<Ye.length;lt++)for(var J=le.default.extractCea608DataFromRange(at,Ye[lt]),De=0;De<2;De++)J[De].length>0&&(qe.cts!==it?ct=0:ct+=1,He.fields[De].push([qe.cts,J[De],ct]),it=qe.cts);return He.fields.forEach(function(e){e.sort(function(i,n){return i[0]===n[0]?i[2]-n[2]:i[0]-n[0]})}),He}function ue(Ge){var Le=!1;return Xe.length>1&&Ge.isEmbedded?Le=Ge.id&&Ge.id===u.default.CC1:Xe.length===1?Ge.id&&Ge.id.substring(0,2)==="CC"&&(Le=!0):Xe.length===0&&(Le=Ge.index===H[0].index),Le}function ve(Ge){var Le=void 0;return Ge.search(u.default.VTT)>=0?Le=d:(Ge.search(u.default.TTML)>=0||Ge.search(u.default.STPP)>=0)&&(Le=C),Le}function ye(Ge,Le){Ge===void 0&&Ge===Le&&(Ge=this.buffered.start(0),Le=this.buffered.end(this.buffered.length-1)),this.buffered.remove(Ge,Le)}var se=this.context,Ie=(0,k.default)(se).getInstance().log,x=(0,ne.default)(se).getInstance(),q=!1,P=void 0,N=void 0,Q=void 0,z=void 0,oe=void 0,he=void 0,d=void 0,C=void 0,F=void 0,H=void 0,Y=void 0,ce=void 0,xe=void 0,Se=void 0,Pe=void 0,Oe=void 0,Fe=void 0,Ke=void 0,rt=void 0,ke=void 0,Xe=void 0,Qe=void 0,ze=void 0,pt=void 0,mt=void 0,Ze=void 0,$e=void 0;return{initialize:K,append:Te,abort:de,addEmbeddedTrack:_e,resetEmbedded:ge,setConfig:W,getConfig:ae,setCurrentFragmentedTrackIdx:me,remove:ye}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(179),g=t(171),_=l(g),p=t(71),y=l(p),I=t(143),E=l(I),D=t(145),R=l(D),S=t(48),L=l(S),B=t(46),k=l(B),b=t(139),A=l(b),G=t(134),w=l(G),M=t(10),U=l(M),j=t(2),le=l(j),Z=t(47),ne=l(Z),X=t(51),pe=l(X);h.__dashjs_factory_name="TextSourceBuffer",o.default=L.default.getSingletonFactory(h),f.exports=o.default},{10:10,134:134,139:139,143:143,145:145,171:171,179:179,2:2,46:46,47:47,48:48,51:51,71:71,98:98}],139:[function(t,f,o){"use strict";function l(S){return S&&S.__esModule?S:{default:S}}function h(){function S(){typeof window!="undefined"&&typeof navigator!="undefined"&&(ue=window.VTTCue||window.TextTrackCue,ye=[],se=[],Ie=-1,x=0,q=0,P=0,N=0,Q=null,z=null,d=!1,F=2147483647,C=null,oe=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),document.fullscreenElement!==void 0?he="fullscreenElement":document.webkitIsFullScreen!==void 0?he="webkitIsFullScreen":document.msFullscreenElement?he="msFullscreenElement":document.mozFullScreen&&(he="mozFullScreen"))}function L(H){var Y=ye[H].kind,ce=ye[H].label!==void 0?ye[H].label:ye[H].lang,xe=ye[H].lang,Se=ye[H].isTTML,Pe=ye[H].isEmbedded,Oe=oe?document.createElement("track"):ve.addTextTrack(Y,ce,xe);return oe&&(Oe.kind=Y,Oe.label=ce,Oe.srclang=xe),Oe.isEmbedded=Pe,Oe.isTTML=Se,Oe}function B(H){d=H,Q&&!document[he]&&(Q.style.zIndex=H?F:null)}function k(H,Y){if(ye.length===Y)return void te("Trying to add too many tracks.");if(ye.push(H),ye.length===Y){ye.sort(function(Ke,rt){return Ke.index-rt.index}),Q=ve.getTTMLRenderingDiv();for(var ce=-1,xe=0;xe<ye.length;xe++){var Se=L.call(this,xe);se.push(Se),ye[xe].defaultTrack&&(Se.default=!0,ce=xe),oe&&ve.appendChild(Se);var Pe=U(xe);Pe&&(Pe.mode=u.default.TEXT_SHOWING,Q&&(ye[xe].isTTML||ye[xe].isEmbedded)?Pe.renderingType="html":Pe.renderingType="default"),this.addCaptions(xe,0,ye[xe].captionData),Te.trigger(p.default.TEXT_TRACK_ADDED)}if(Z.call(this,ce),ce>=0)for(var Oe=0;Oe<ye.length;Oe++){var Fe=U(Oe);Fe&&(Fe.mode=Oe===ce?u.default.TEXT_SHOWING:u.default.TEXT_HIDDEN)}Te.trigger(p.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Ie,tracks:ye})}}function b(H,Y,ce,xe,Se,Pe){var Oe=H/Y,Fe=ce/xe,Ke=0,rt=0;Oe>Fe?(rt=Y,Ke=rt/xe*ce):(Ke=H,rt=Ke/ce*xe);var ke=0,Xe=0,Qe=0,ze=0;return Ke/rt>Se?(ze=rt,Qe=rt*Se):(Qe=Ke,ze=Ke/Se),ke=(H-Qe)/2,Xe=(Y-ze)/2,Pe?{x:ke+.1*Qe,y:Xe+.1*ze,w:.8*Qe,h:.8*ze}:{x:ke,y:Xe,w:Qe,h:ze}}function A(H,Y){var ce=ve.getClientWidth(),xe=ve.getClientHeight(),Se=ve.getVideoWidth(),Pe=ve.getVideoHeight(),Oe=ve.getVideoRelativeOffsetTop(),Fe=ve.getVideoRelativeOffsetLeft(),Ke=Se/Pe,rt=!1;H.isFromCEA608&&(Ke=3.5/3,rt=!0);var ke=b.call(this,ce,xe,Se,Pe,Ke,rt),Xe=ke.w,Qe=ke.h,ze=ke.x,pt=ke.y;if(Xe!=P||Qe!=N||ze!=x||pt!=q||Y){x=ze+Fe,q=pt+Oe,P=Xe,N=Qe,Q.style.left=x+"px",Q.style.top=q+"px",Q.style.width=P+"px",Q.style.height=N+"px";for(var mt=0;H.activeCues&&mt<H.activeCues.length;++mt){var Ze=H.activeCues[mt];Ze.scaleCue(Ze)}he&&document[he]||d?Q.style.zIndex=F:Q.style.zIndex=null}}function G(H){var Y=P,ce=N,xe=void 0,Se=void 0,Pe=void 0,Oe=void 0,Fe=void 0;if(H.cellResolution){var Ke=[Y/H.cellResolution[0],ce/H.cellResolution[1]];if(H.linePadding){for(xe in H.linePadding)if(H.linePadding.hasOwnProperty(xe)){var rt=H.linePadding[xe];Se=(rt*Ke[0]).toString();for(var ke=document.getElementsByClassName("spanPadding"),Xe=0;Xe<ke.length;Xe++)ke[Xe].style.cssText=ke[Xe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Se),ke[Xe].style.cssText=ke[Xe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Se)}}if(H.fontSize){for(xe in H.fontSize)if(H.fontSize.hasOwnProperty(xe)){H.fontSize[xe][0]==="%"?Pe=H.fontSize[xe][1]/100:H.fontSize[xe][0]==="c"&&(Pe=H.fontSize[xe][1]),Se=(Pe*Ke[1]).toString(),Fe=xe!=="defaultFontSize"?document.getElementsByClassName(xe):document.getElementsByClassName("paragraph");for(var Qe=0;Qe<Fe.length;Qe++)Fe[Qe].style.cssText=Fe[Qe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Se)}if(H.lineHeight){for(xe in H.lineHeight)if(H.lineHeight.hasOwnProperty(xe)){H.lineHeight[xe][0]==="%"?Oe=H.lineHeight[xe][1]/100:H.fontSize[xe][0]==="c"&&(Oe=H.lineHeight[xe][1]),Se=(Oe*Ke[1]).toString(),Fe=document.getElementsByClassName(xe);for(var ze=0;ze<Fe.length;ze++)Fe[ze].style.cssText=Fe[ze].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Se)}}}}if(H.isd){var pt=document.getElementById(H.cueID);pt&&Q.removeChild(pt),w(H)}}function w(H){var Y=document.createElement("div");Q.appendChild(Y),C=(0,R.renderHTML)(H.isd,Y,function(ce){var xe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Se=/^#(.*)$/;if(xe.test(ce)){var Pe=xe.exec(ce),Oe=parseInt(Pe[4],10)-1,Fe=btoa(H.images[Oe]),Ke="data:image/png;base64,"+Fe;return Ke}if(Se.test(ce)){var Pe=Se.exec(ce),Oe=Pe[1],Ke="data:image/png;base64,"+H.embeddedImages[Oe];return Ke}return null},Q.clientHeight,Q.clientWidth,!1,function(ce){te("[TextTracks][renderCaption]",ce)},C,!0),Y.id=H.cueID}function M(H,Y,ce){var xe=U(H),Se=this;if(xe&&ce&&ce.length!==0)for(var Pe in ce){var Oe=void 0,Fe=ce[Pe];xe.cellResolution=Fe.cellResolution,xe.isFromCEA608=Fe.isFromCEA608,Fe.type==="html"?(Oe=new ue(Fe.start-Y,Fe.end-Y,""),Oe.cueHTMLElement=Fe.cueHTMLElement,Oe.isd=Fe.isd,Oe.images=Fe.images,Oe.embeddedImages=Fe.embeddedImages,Oe.cueID=Fe.cueID,Oe.scaleCue=G.bind(Se),Oe.cellResolution=Fe.cellResolution,Oe.lineHeight=Fe.lineHeight,Oe.linePadding=Fe.linePadding,Oe.fontSize=Fe.fontSize,Q.style.left=x+"px",Q.style.top=q+"px",Q.style.width=P+"px",Q.style.height=N+"px",Oe.onenter=function(){xe.mode===u.default.TEXT_SHOWING&&(this.isd?(w(this),te("Cue enter id:"+this.cueID)):(Q.appendChild(this.cueHTMLElement),G.call(Se,this)))},Oe.onexit=function(){for(var Ke=Q.childNodes,rt=0;rt<Ke.length;++rt)Ke[rt].id===this.cueID&&(te("Cue exit id:"+Ke[rt].id),Q.removeChild(Ke[rt]))}):(Oe=new ue(Fe.start-Y,Fe.end-Y,Fe.data),Fe.styles&&(Fe.styles.align!==void 0&&"align"in Oe&&(Oe.align=Fe.styles.align),Fe.styles.line!==void 0&&"line"in Oe&&(Oe.line=Fe.styles.line),Fe.styles.position!==void 0&&"position"in Oe&&(Oe.position=Fe.styles.position),Fe.styles.size!==void 0&&"size"in Oe&&(Oe.size=Fe.styles.size))),xe.addCue(Oe)}}function U(H){return H>=0&&ye[H]?ve.getTextTrack(ye[H].kind,ye[H].label,ye[H].lang,ye[H].isTTML,ye[H].isEmbedded):null}function j(){return Ie}function le(H){for(var Y=-1,ce=0;ce<ye.length;ce++)if(ye[ce].label===H){Y=ce;break}return Y}function Z(H){if(H!==Ie){Ie=H;var Y=U(Ie);ne.call(this,Y),z&&(clearInterval(z),z=null),Y&&Y.renderingType==="html"&&(A.call(this,Y,!0),z=setInterval(A.bind(this,Y),500))}}function ne(H){ge.call(this),H&&H.renderingType==="html"?fe.call(this):re.call(this)}function X(H){if(H.cues)for(var Y=H.cues,ce=Y.length-1,xe=ce;xe>=0;xe--)H.removeCue(Y[xe])}function pe(H){var Y=U(H);Y&&X(Y)}function K(){for(var H=se?se.length:0,Y=0;Y<H;Y++)if(oe)ve.removeChild(se[Y]);else{var ce=U(Y);ce&&(X.call(this,ce),ce.mode="disabled")}se=[],ye=[],z&&(clearInterval(z),z=null),Ie=-1,ge.call(this)}function de(H){ve.removeChild(se[H]),se.splice(H,1)}function fe(){if(oe){var H=document.getElementById("native-cue-style");if(!H){H=document.createElement("style"),H.id="native-cue-style",document.head.appendChild(H);var Y=H.sheet,ce=ve.getElement();ce&&(ce.id?Y.insertRule("#"+ce.id+"::cue {background: transparent}",0):ce.classList.length!==0?Y.insertRule("."+ce.className+"::cue {background: transparent}",0):Y.insertRule("video::cue {background: transparent}",0))}}}function re(){if(oe){var H=document.getElementById("native-cue-style");H&&document.head.removeChild(H)}}function ge(){if(Q)for(;Q.firstChild;)Q.removeChild(Q.firstChild)}function _e(H){H&&H.videoModel&&(ve=H.videoModel)}function W(H,Y){var ce=U(H);ce&&ce.mode!==Y&&(ce.mode=Y)}function ae(){return ye[Ie]}var me=this.context,Te=(0,g.default)(me).getInstance(),te=(0,D.default)(me).getInstance().log,ue=void 0,ve=void 0,ye=void 0,se=void 0,Ie=void 0,x=void 0,q=void 0,P=void 0,N=void 0,Q=void 0,z=void 0,oe=void 0,he=void 0,d=void 0,C=void 0,F=void 0;return{initialize:S,displayCConTop:B,addTextTrack:k,addCaptions:M,getCurrentTrackIdx:j,setCurrentTrackIdx:Z,getTrackIdxForId:le,getCurrentTrackInfo:ae,setModeForTrackIdx:W,deleteCuesFromTrackIdx:pe,deleteAllTextTracks:K,deleteTextTrack:de,setConfig:_e}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(47),g=l(v),_=t(51),p=l(_),y=t(48),I=l(y),E=t(46),D=l(E),R=t(18);h.__dashjs_factory_name="TextTracks",o.default=I.default.getSingletonFactory(h),f.exports=o.default},{18:18,46:46,47:47,48:48,51:51,98:98}],140:[function(t,f,o){"use strict";function l(S){return S&&S.__esModule?S:{default:S}}function h(S){function L(){w(),j=(0,I.default)(M).create({dashManifestModel:S.dashManifestModel,adapter:S.adapter,baseURLController:S.baseURLController,stream:S.stream})}function B(le){var Z=j.getCurrentTrack();if(!Z||Z.segmentDuration<=0)return null;var ne=Math.floor(le/Z.segmentDuration),X=le%Z.segmentDuration,pe=Math.floor(X*Z.tilesHor*Z.tilesVert/Z.segmentDuration),K=new p.default;return K.url=k(Z,ne),K.width=Math.floor(Z.widthPerTile),K.height=Math.floor(Z.heightPerTile),K.x=Math.floor(pe%Z.tilesHor)*Z.widthPerTile,K.y=Math.floor(pe/Z.tilesHor)*Z.heightPerTile,K}function k(le,Z){var ne=Z+le.startNumber,X=(0,R.replaceTokenForTemplate)(le.templateUrl,"Number",ne);return X=(0,R.replaceTokenForTemplate)(X,"Time",(ne-1)*le.segmentDuration),X=(0,R.replaceTokenForTemplate)(X,"Bandwidth",le.bandwidth),(0,R.unescapeDollarsInTemplate)(X)}function b(le){j.setTrackByIndex(le)}function A(){return j.getCurrentTrackIndex()}function G(){var le=j.getTracks();if(!le||le.length===0)return[];var Z=0;return le.map(function(ne){var X=new D.default;return X.mediaType=g.default.IMAGE,X.qualityIndex=Z++,X.bitrate=ne.bitrate,X.width=ne.width,X.height=ne.height,X})}function w(){j&&j.reset()}var M=this.context,U=void 0,j=void 0;return U={get:B,setTrackByIndex:b,getCurrentTrackIndex:A,getBitrateList:G,reset:w},L(),U}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(98),g=l(v),_=t(172),p=l(_),y=t(141),I=l(y),E=t(159),D=l(E),R=t(74);h.__dashjs_factory_name="ThumbnailController",o.default=u.default.getClassFactory(h),f.exports=o.default},{141:141,159:159,172:172,48:48,74:74,98:98}],141:[function(t,f,o){"use strict";function l(L){return L&&L.__esModule?L:{default:L}}function h(L){function B(){j(),k()}function k(){if(pe&&Z&&ne){var ge=pe?pe.getStreamInfo():null;if(ge){var _e=ne.getMediaInfoForType(ge,u.default.IMAGE);if(_e){var W=ne.getDataForMedia(_e);if(W){var ae=Z.getRepresentationsForAdaptation(W);ae&&ae.length>0&&ae.forEach(function(me){me.segmentInfoType===g.default.SEGMENT_TEMPLATE&&me.segmentDuration>0&&me.media&&b(me)}),fe.length>0&&(fe.sort(function(me,Te){return me.bitrate-Te.bitrate}),re=fe.length-1)}}}}}function b(ge){var _e=new I.default;_e.id=ge.id,_e.bitrate=ge.bandwidth,_e.width=ge.width,_e.height=ge.height,_e.tilesHor=1,_e.tilesVert=1,_e.startNumber=ge.startNumber,_e.segmentDuration=ge.segmentDuration,_e.timescale=ge.timescale,_e.templateUrl=A(ge),ge.essentialProperties&&ge.essentialProperties.forEach(function(W){if(W.schemeIdUri===S&&W.value){var ae=W.value.split("x");ae.length!==2||isNaN(ae[0])||isNaN(ae[1])||(_e.tilesHor=parseInt(ae[0],10),_e.tilesVert=parseInt(ae[1],10))}}),_e.tilesHor>0&&_e.tilesVert>0&&(_e.widthPerTile=_e.width/_e.tilesHor,_e.heightPerTile=_e.height/_e.tilesVert,fe.push(_e))}function A(ge){var _e=K.isRelative(ge.media)?K.resolve(ge.media,X.resolve(ge.path).url):ge.media;return _e?(0,R.replaceIDForTemplate)(_e,ge.id):""}function G(){return fe}function w(){return re}function M(){return re<0?null:fe[re]}function U(ge){fe&&fe.length!==0&&(ge>=fe.length&&(ge=fe.length-1),re=ge)}function j(){fe=[],re=-1}var le=this.context,Z=L.dashManifestModel,ne=L.adapter,X=L.baseURLController,pe=L.stream,K=(0,D.default)(le).getInstance(),de=void 0,fe=void 0,re=void 0;return de={initialize:B,getTracks:G,reset:j,setTrackByIndex:U,getCurrentTrack:M,getCurrentTrackIndex:w},B(),de}Object.defineProperty(o,"__esModule",{value:!0});var m=t(98),u=l(m),v=t(58),g=l(v),_=t(48),p=l(_),y=t(173),I=l(y),E=t(155),D=l(E),R=t(74),S="http://dashif.org/thumbnail_tile";h.__dashjs_factory_name="ThumbnailTracks",o.default=p.default.getClassFactory(h),f.exports=o.default},{155:155,173:173,48:48,58:58,74:74,98:98}],142:[function(t,f,o){"use strict";function l(b){return b&&b.__esModule?b:{default:b}}function h(){function b(){X=(0,p.default)(j).create({updateEventName:g.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.default.SERVICE_LOCATION_BLACKLIST_ADD}),pe=(0,D.default)(j).create({blacklistController:X}),K=(0,I.default)(j).create({blacklistController:X}),de=pe}function A(fe){fe.selector&&(de=fe.selector),fe.dashManifestModel&&(Z=fe.dashManifestModel)}function G(){if(!Z||!Z.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")}function w(fe){G(),de=Z.getIsDVB(fe)?K:pe}function M(fe){var re=fe.baseUrls,ge=fe.selectedIdx;if(!isNaN(ge))return re[ge];var _e=de.select(re);return _e?(fe.selectedIdx=re.indexOf(_e),_e):void le.trigger(g.default.URL_RESOLUTION_FAILED,{error:new Error(L,B)})}function U(){X.reset()}var j=this.context,le=(0,u.default)(j).getInstance(),Z=void 0,ne=void 0,X=void 0,pe=void 0,K=void 0,de=void 0;return ne={chooseSelectorFromManifest:w,select:M,reset:U,setConfig:A},b(),ne}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(102),p=l(_),y=t(158),I=l(y),E=t(157),D=l(E),R=t(48),S=l(R),L=1,B="Failed to resolve a valid URL";h.__dashjs_factory_name="BaseURLSelector";var k=S.default.getClassFactory(h);k.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=L,k.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=B,S.default.updateClassFactory(h.__dashjs_factory_name,k),o.default=k,f.exports=o.default},{102:102,157:157,158:158,47:47,48:48,51:51}],143:[function(t,f,o){"use strict";function l(y){return y&&y.__esModule?y:{default:y}}function h(){function y(E){if(!E)return null;E.fileStart===void 0&&(E.fileStart=0);var D=p.default.parseBuffer(E),R=(0,u.default)(I).create();return R.setData(D),R}var I=this.context;return{parse:y}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(150),u=l(m),v=t(48),g=l(v),_=t(10),p=l(_);h.__dashjs_factory_name="BoxParser",o.default=g.default.getSingletonFactory(h),f.exports=o.default},{10:10,150:150,48:48}],144:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(){E=!1}function g(){var D="WebKitMediaSource"in window,R="MediaSource"in window;return D||R}function _(){return E}function p(D){E=D}function y(D){return!!("MediaSource"in window&&MediaSource.isTypeSupported(D))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(D))}var I=void 0,E=void 0;return I={supportsMediaSource:g,supportsEncryptedMedia:_,supportsCodec:y,setEncryptedMediaSupported:p},v(),I}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="Capabilities",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],145:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(D,R){var S=0;for(S=0;S<this.customTimeRangeArray.length&&D>this.customTimeRangeArray[S].start;S++);for(this.customTimeRangeArray.splice(S,0,{start:D,end:R}),S=0;S<this.customTimeRangeArray.length-1;S++)this.mergeRanges(S,S+1)&&S--;this.length=this.customTimeRangeArray.length}function g(){this.customTimeRangeArray=[],this.length=0}function _(D,R){for(var S=0;S<this.customTimeRangeArray.length;S++)if(D<=this.customTimeRangeArray[S].start&&R>=this.customTimeRangeArray[S].end)this.customTimeRangeArray.splice(S,1),S--;else{if(D>this.customTimeRangeArray[S].start&&R<this.customTimeRangeArray[S].end){this.customTimeRangeArray.splice(S+1,0,{start:R,end:this.customTimeRangeArray[S].end}),this.customTimeRangeArray[S].end=D;break}D>this.customTimeRangeArray[S].start&&D<this.customTimeRangeArray[S].end?this.customTimeRangeArray[S].end=D:R>this.customTimeRangeArray[S].start&&R<this.customTimeRangeArray[S].end&&(this.customTimeRangeArray[S].start=R)}this.length=this.customTimeRangeArray.length}function p(D,R){var S=this.customTimeRangeArray[D],L=this.customTimeRangeArray[R];return S.start<=L.start&&L.start<=S.end&&S.end<=L.end?(S.end=L.end,this.customTimeRangeArray.splice(R,1),!0):L.start<=S.start&&S.start<=L.end&&L.end<=S.end?(S.start=L.start,this.customTimeRangeArray.splice(R,1),!0):L.start<=S.start&&S.start<=L.end&&S.end<=L.end?(this.customTimeRangeArray.splice(D,1),!0):S.start<=L.start&&L.start<=S.end&&L.end<=S.end&&(this.customTimeRangeArray.splice(R,1),!0)}function y(D){if(D===null||isNaN(D)||D%1!=0)throw new Error("index argument is not an integer")}function I(D){return y(D),D>=this.customTimeRangeArray.length||D<0?NaN:this.customTimeRangeArray[D].start}function E(D){return y(D),D>=this.customTimeRangeArray.length||D<0?NaN:this.customTimeRangeArray[D].end}return{customTimeRangeArray:[],length:0,add:v,clear:g,remove:_,mergeRanges:p,start:I,end:E}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="CustomTimeRanges",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],146:[function(t,f,o){"use strict";function l(L){return L&&L.__esModule?L:{default:L}}function h(L){function B(de){if(K!==void 0)return K;K=!1;var fe="1",re="1",ge=void 0;try{typeof window!="undefined"&&(ge=window[de])}catch(_e){return ne("Warning: DOMStorage access denied: "+_e.message),K}if(!ge||de!==I&&de!==E)return K;try{ge.setItem(fe,re),ge.removeItem(fe),K=!0}catch(_e){ne("Warning: DOMStorage is supported, but cannot be used: "+_e.message)}return K}function k(){B(I)&&_.forEach(function(de){var fe=localStorage.getItem(de.oldKey);if(fe){localStorage.removeItem(de.oldKey);try{localStorage.setItem(de.newKey,fe)}catch(re){ne(re.message)}}})}function b(){k()}function A(){var de=6e5;return Math.round(new Date().getTime()/de)*de}function G(de,fe){return B(de)&&X["get"+fe+"CachingInfo"]().enabled}function w(){if(!X||!X.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}function M(de){if(w(),!G(I,R))return null;var fe=null,re=y.replace(/\?/,de);try{var ge=JSON.parse(localStorage.getItem(re))||{},_e=new Date().getTime()-parseInt(ge.timestamp,10)>=X.getLastMediaSettingsCachingInfo().ttl||!1;fe=ge.settings,_e&&(localStorage.removeItem(re),fe=null)}catch{return null}return fe}function U(de){var fe=NaN;if(w(),G(I,D)){var re=p.replace(/\?/,de);try{var ge=JSON.parse(localStorage.getItem(re))||{},_e=new Date().getTime()-parseInt(ge.timestamp,10)>=X.getLastMediaSettingsCachingInfo().ttl||!1,W=parseFloat(ge.bitrate);isNaN(W)||_e?_e&&localStorage.removeItem(re):(fe=W,ne("Last saved bitrate for "+de+" was "+W))}catch{return null}}return fe}function j(de,fe){if(G(I,R)){var re=y.replace(/\?/,de);try{localStorage.setItem(re,JSON.stringify({settings:fe,timestamp:A()}))}catch(ge){ne(ge.message)}}}function le(de,fe){if(G(I,D)&&fe){var re=p.replace(/\?/,de);try{localStorage.setItem(re,JSON.stringify({bitrate:fe.toFixed(3),timestamp:A()}))}catch(ge){ne(ge.message)}}}L=L||{};var Z=this.context,ne=(0,g.default)(Z).getInstance().log,X=L.mediaPlayerModel,pe=void 0,K=void 0;return pe={getSavedBitrateSettings:U,setSavedBitrateSettings:le,getSavedMediaSettings:M,setSavedMediaSettings:j},b(),pe}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],p="dashjs_?_bitrate",y="dashjs_?_settings",I="localStorage",E="sessionStorage",D="LastBitrate",R="LastMediaSettings";h.__dashjs_factory_name="DOMStorage";var S=u.default.getSingletonFactory(h);o.default=S,f.exports=o.default},{46:46,48:48}],147:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(v){function g(){return b}function _(A){b=A}function p(A,G){var w=!0,M=0,U=void 0,j=void 0;if(G===void 0&&(G=!1),A.tag>16777215?(k.getUint32(b)!==A.tag&&(w=!1),M=4):A.tag>65535?(U=k.getUint16(b),j=k.getUint8(b+2),256*U+j!==A.tag&&(w=!1),M=3):A.tag>255?(k.getUint16(b)!==A.tag&&(w=!1),M=2):(k.getUint8(b)!==A.tag&&(w=!1),M=1),!w&&A.required&&!G)throw new Error("required tag not found");return w&&(b+=M),w}function y(A,G){var w=p(A,G);return w&&D(),w}function I(A){var G=void 0;return p(A),G=D(),B[A.parse](G)}function E(A,G){var w=p(A,G),M=void 0;return w&&(M=D(),b+=M),w}function D(A){var G=1,w=128,M=8,U=-1,j=0,le=k.getUint8(b),Z=0;for(Z=0;Z<M;Z+=1){if((le&w)===w){j=A===void 0?le&~w:le,U=Z;break}w>>=1}for(Z=0;Z<U;Z+=1,G+=1)j=j<<8|255&k.getUint8(b+G);return b+=G,j}function R(A){var G=void 0;switch(A){case 4:G=k.getFloat32(b),b+=4;break;case 8:G=k.getFloat64(b),b+=8}return G}function S(A){for(var G=0,w=0;w<A;w+=1)G<<=8,G|=255&k.getUint8(b+w);return b+=A,G}function L(){return b<k.byteLength}v=v||{};var B=void 0,k=new DataView(v.data),b=0;return B={getPos:g,setPos:_,consumeTag:p,consumeTagAndSize:y,parseTag:I,skipOverElement:E,getMatroskaCodedNum:D,getMatroskaFloat:R,getMatroskaUint:S,moreData:L}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="EBMLParser",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],148:[function(t,f,o){"use strict";function l(w){return w&&w.__esModule?w:{default:w}}function h(){function w(K){pe.trigger(g.default.ERROR,{error:"capability",event:K})}function M(K,de,fe){pe.trigger(g.default.ERROR,{error:"download",event:{id:K,url:de,request:fe}})}function U(K,de,fe,re){pe.trigger(g.default.ERROR,{error:"manifestError",event:{message:K,id:de,manifest:fe,event:re}})}function j(K,de,fe){pe.trigger(g.default.ERROR,{error:"cc",event:{message:K,id:de,cc:fe}})}function le(K){pe.trigger(g.default.ERROR,{error:"mediasource",event:K})}function Z(K){pe.trigger(g.default.ERROR,{error:"key_session",event:K})}function ne(K){pe.trigger(g.default.ERROR,{error:"key_message",event:K})}var X=this.context,pe=(0,u.default)(X).getInstance();return{capabilityError:w,downloadError:M,manifestError:U,timedTextError:j,mediaSourceError:le,mediaKeySessionError:Z,mediaKeyMessageError:ne}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(47),u=l(m),v=t(51),g=l(v),_=t(48),p=l(_),y="mediasource",I="mediakeys",E="manifest",D="SIDX",R="content",S="initialization",L="xlink",B="codec",k="parse",b="nostreams",A="parse";h.__dashjs_factory_name="ErrorHandler";var G=p.default.getSingletonFactory(h);G.CAPABILITY_ERROR_MEDIASOURCE=y,G.CAPABILITY_ERROR_MEDIAKEYS=I,G.DOWNLOAD_ERROR_ID_MANIFEST=E,G.DOWNLOAD_ERROR_ID_SIDX=D,G.DOWNLOAD_ERROR_ID_CONTENT=R,G.DOWNLOAD_ERROR_ID_INITIALIZATION=S,G.DOWNLOAD_ERROR_ID_XLINK=L,G.MANIFEST_ERROR_ID_CODEC=B,G.MANIFEST_ERROR_ID_PARSE=k,G.MANIFEST_ERROR_ID_NOSTREAMS=b,G.TIMED_TEXT_ERROR_ID_PARSE=A,p.default.updateSingletonFactory(h.__dashjs_factory_name,G),o.default=G,f.exports=o.default},{47:47,48:48,51:51}],149:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(y){var I=y.streamId,E=y.representationId;p[I]=p[I]||{},p[I][E]=y}function g(y,I){return p&&p[y]&&p[y][I]?p[y][I]:null}function _(){p={}}var p={};return{save:v,extract:g,reset:_}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="InitCache",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],150:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(){function _(R){return R&&D&&D.boxes&&D.boxes.length!==0&&typeof D.fetch=="function"?E(D.fetch(R)):null}function p(R){var S=[];if(!R||!D||typeof D.fetchAll!="function")return S;for(var L=D.fetchAll(R),B=void 0,k=0,b=L.length;k<b;k++)(B=E(L[k]))&&S.push(B);return S}function y(R){D=R}function I(){if(!D||!D.boxes||!D.boxes.length)return null;var R=D.boxes[D.boxes.length-1].type,S=p(R);return S.length>0?S[S.length-1]:null}function E(R){if(!R)return null;var S=new u.default(R);return R.hasOwnProperty("_incomplete")&&(S.isComplete=!R._incomplete),S}var D=void 0;return{getBox:_,getBoxes:p,setData:y,getLastBox:I}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(164),u=l(m),v=t(48),g=l(v);h.__dashjs_factory_name="IsoFile",o.default=g.default.getClassFactory(h),f.exports=o.default},{164:164,48:48}],151:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(v){function g(){if(!(y&&y.hasOwnProperty("getExpectedLiveEdge")&&I&&I.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}function _(){g();var E=I.getCurrentRepresentationInfo(),D=E.DVRWindow.end;return E.useCalculatedLiveEdgeTime&&(D=y.getExpectedLiveEdge(),y.setClientTimeOffset(D-E.DVRWindow.end)),D}function p(){y=null,I=null}v=v||{};var y=v.timelineConverter,I=v.streamProcessor;return{getLiveEdge:_,reset:p}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="LiveEdgeFinder",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],152:[function(t,f,o){"use strict";function l(_){return _&&_.__esModule?_:{default:_}}function h(){function _(p,y){return(0,g.default)(p,y)}return{areEqual:_}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(13),g=l(v);h.__dashjs_factory_name="ObjectUtils",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{13:13,48:48}],153:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(_){return _}function g(_){return _}return{modifyRequestURL:v,modifyRequestHeader:g}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="RequestModifier",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],154:[function(t,f,o){"use strict";function l(D){return D&&D.__esModule?D:{default:D}}function h(){function D(){var G="cue_TTML_"+A;return A++,G}function R(G,w,M,U,j){var le=void 0,Z=void 0,ne="",X=[],pe=void 0,K=void 0,de={},fe="",re="",ge={onOpenTag:function(me,Te,te){if(Te==="image"&&me==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"){if(!te[" imagetype"]||te[" imagetype"].value!=="PNG")return void B("Warning: smpte-tt imagetype != PNG. Discarded");fe=te["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(de[fe]=re.trim()),re="",fe=""},onText:function(me){fe&&(re+=me)}};if(!G)throw ne="no ttml data to parse",new Error(ne);var _e=(0,E.fromXML)(G,function(me){ne=me},ge);k.trigger(I.default.TTML_PARSED,{ttmlString:G,ttmlDoc:_e});var W=_e.getMediaTimeEvents();for(le=0;le<W.length;le++){var ae=(0,E.generateISD)(_e,W[le],function(me){ne=me});for(Z=0;Z<ae.contents.length;Z++)ae.contents[Z].contents.length>=1&&(pe=W[le]+w<M?M:W[le]+w,K=W[le+1]+w>U?U:W[le+1]+w,pe<K&&X.push({start:pe,end:K,type:"html",cueID:D(),isd:ae,images:j,embeddedImages:de}))}if(ne!==""&&B(ne),X.length>0)return X;throw new Error(ne)}function S(){}var L=this.context,B=(0,g.default)(L).getInstance().log,k=(0,p.default)(L).getInstance(),b=void 0,A=0;return b={parse:R},S(),b}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_=t(47),p=l(_),y=t(51),I=l(y),E=t(18);h.__dashjs_factory_name="TTMLParser",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{18:18,46:46,47:47,48:48,51:51}],155:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(){function v(){try{new window.URL("x","http://y"),L=G}catch{}finally{L=L||w}}function g(M){var U=M.indexOf("/"),j=M.lastIndexOf("/");return U!==-1?j===U+1?M:(M.indexOf("?")!==-1&&(M=M.substring(0,M.indexOf("?"))),M.substring(0,j+1)):""}function _(M){var U=M.match(A);return U?U[1]:""}function p(M){var U=M.match(B);return U?U[0]:""}function y(M){return!B.test(M)}function I(M){return y(M)&&M.charAt(0)==="/"}function E(M){return M.indexOf("//")===0}function D(M){return k.test(M)}function R(M){return b.test(M)}function S(M,U){return L(M,U)}var L=void 0,B=/^[a-z][a-z0-9+\-.]*:/i,k=/^https?:\/\//i,b=/^https:\/\//i,A=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,G=function(M,U){try{return new window.URL(M,U).toString()}catch{return M}},w=function(M,U){var j=g;if(!U||!y(M))return M;I(M)&&(j=_),E(M)&&(j=p);var le=j(U);return[le,M].join(le.charAt(le.length-1)!=="/"&&M.charAt(0)!=="/"?"/":"")};return v(),{parseBaseUrl:g,parseOrigin:_,parseScheme:p,isRelative:y,isPathAbsolute:I,isSchemeRelative:E,isHTTPURL:D,isHTTPS:R,resolve:S}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="URLUtils",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{48:48}],156:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(){function p(){k=/(?:\r\n|\r|\n)/gm,b=/-->/,A=/(^[\s]+|[\s]+$)/g,G=/\s\b/g}function y(w){var M=[],U=void 0,j=void 0;if(!w)return M;w=w.split(k),U=w.length,j=-1;for(var le=0;le<U;le++){var Z=w[le];if(Z.length>0&&Z!==_&&Z.match(b)){var ne=E(Z),X=ne.cuePoints,pe=ne.styles,K=R(w,le+1),de=I(X[0].replace(A,"")),fe=I(X[1].replace(A,""));!isNaN(de)&&!isNaN(fe)&&de>=j&&fe>de?K!==""?(j=de,M.push({start:de,end:fe,data:K,styles:pe})):L("Skipping cue due to empty/malformed cue text"):L("Skipping cue due to incorrect cue timing")}}return M}function I(w){var M=w.split(":"),U=M.length-1;return w=60*parseInt(M[U-1],10)+parseFloat(M[U]),U===2&&(w+=3600*parseInt(M[0],10)),w}function E(w){var M=w.split(b),U=M[1].split(G);return U.shift(),M[1]=U[0],U.shift(),{cuePoints:M,styles:D(U)}}function D(w){var M={};return w.forEach(function(U){if(U.split(/:/).length>1){var j=U.split(/:/)[1];j&&j.search(/%/)!=-1&&(j=parseInt(j.replace(/%/,""),10)),(U.match(/align/)||U.match(/A/))&&(M.align=j),(U.match(/line/)||U.match(/L/))&&(M.line=j),(U.match(/position/)||U.match(/P/))&&(M.position=j),(U.match(/size/)||U.match(/S/))&&(M.size=j)}}),M}function R(w,M){for(var U=M,j="",le="",Z=void 0;w[U]!==""&&U<w.length;)U++;if((Z=U-M)>1)for(var ne=0;ne<Z;ne++){if(le=w[M+ne],le.match(b)){j="";break}j+=le,ne!==Z-1&&(j+=`
`)}else le=w[M],le.match(b)||(j=le);return j}var S=this.context,L=(0,g.default)(S).getInstance().log,B=void 0,k=void 0,b=void 0,A=void 0,G=void 0;return B={parse:y},p(),B}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m),v=t(46),g=l(v),_="WEBVTT";h.__dashjs_factory_name="VTTParser",o.default=u.default.getSingletonFactory(h),f.exports=o.default},{46:46,48:48}],157:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(v){function g(p){var y=0,I=void 0;return p&&p.some(function(E,D){return y=D,!_.contains(E.serviceLocation)})&&(I=p[y]),I}v=v||{};var _=v.blacklistController;return{select:g}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="BasicSelector",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],158:[function(t,f,o){"use strict";function l(v){return v&&v.__esModule?v:{default:v}}function h(v){function g(I){var E=[],D=function(S){return!E.length||!S.dvb_priority||E.indexOf(S.dvb_priority)===-1},R=function(S){return!y.contains(S.serviceLocation)||(S.dvb_priority&&E.push(S.dvb_priority),!1)};return I.filter(R).filter(D)}function _(I){var E=function(b,A){var G=b.dvb_priority-A.dvb_priority;return isNaN(G)?0:G},D=function(b,A,G){return!A||G[0].dvb_priority&&b.dvb_priority&&G[0].dvb_priority===b.dvb_priority},R=0,S=[],L=0,B=void 0,k=void 0;if(k=I.sort(E).filter(D),k.length)return k.length>1&&(k.forEach(function(b){R+=b.dvb_weight,S.push(R)}),B=Math.floor(Math.random()*(R-1)),S.every(function(b,A){return L=A,!(B<b)})),k[L]}function p(I){return I&&_(g(I))}v=v||{};var y=v.blacklistController;return{select:p}}Object.defineProperty(o,"__esModule",{value:!0});var m=t(48),u=l(m);h.__dashjs_factory_name="DVBSelector",o.default=u.default.getClassFactory(h),f.exports=o.default},{48:48}],159:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};o.default=h,f.exports=o.default},{}],160:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(u,v,g){l(this,m),this.code=u||null,this.message=v||null,this.data=g||null};o.default=h,f.exports=o.default},{}],161:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null};o.default=h,f.exports=o.default},{}],162:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.action=m.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};h.ACTION_DOWNLOAD="download",h.ACTION_COMPLETE="complete",o.default=h,f.exports=o.default},{}],163:[function(t,f,o){"use strict";function l(p){return p&&p.__esModule?p:{default:p}}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function m(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(p,y,I){for(var E=!0;E;){var D=p,R=y,S=I;E=!1,D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,R);if(L!==void 0){if("value"in L)return L.value;var B=L.get;return B===void 0?void 0:B.call(S)}var k=Object.getPrototypeOf(D);if(k===null)return;p=k,y=R,I=S,E=!0,L=k=void 0}},v=t(162),g=l(v),_=function(p){function y(I){h(this,y),u(Object.getPrototypeOf(y.prototype),"constructor",this).call(this),this.url=I||null,this.checkForExistenceOnly=!0}return m(y,p),y}(g.default);o.default=_,f.exports=o.default},{162:162}],164:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function u(v,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,g,_){return g&&u(v.prototype,g),_&&u(v,_),v}}(),m=function(){function u(v){if(l(this,u),this.offset=v._offset,this.type=v.type,this.size=v.size,this.boxes=[],v.boxes)for(var g=0;g<v.boxes.length;g++)this.boxes.push(new u(v.boxes[g]));switch(this.isComplete=!0,v.type){case"sidx":if(this.timescale=v.timescale,this.earliest_presentation_time=v.earliest_presentation_time,this.first_offset=v.first_offset,this.references=v.references,v.references){this.references=[];for(var g=0;g<v.references.length;g++){var _={reference_type:v.references[g].reference_type,referenced_size:v.references[g].referenced_size,subsegment_duration:v.references[g].subsegment_duration};this.references.push(_)}}break;case"emsg":this.id=v.id,this.value=v.value,this.timescale=v.timescale,this.scheme_id_uri=v.scheme_id_uri,this.presentation_time_delta=v.presentation_time_delta,this.event_duration=v.event_duration,this.message_data=v.message_data;break;case"mdhd":this.timescale=v.timescale;break;case"mfhd":this.sequence_number=v.sequence_number;break;case"subs":this.entry_count=v.entry_count,this.entries=v.entries;break;case"tfhd":this.base_data_offset=v.base_data_offset,this.sample_description_index=v.sample_description_index,this.default_sample_duration=v.default_sample_duration,this.default_sample_size=v.default_sample_size,this.default_sample_flags=v.default_sample_flags,this.flags=v.flags;break;case"tfdt":this.version=v.version,this.baseMediaDecodeTime=v.baseMediaDecodeTime,this.flags=v.flags;break;case"trun":if(this.sample_count=v.sample_count,this.first_sample_flags=v.first_sample_flags,this.data_offset=v.data_offset,this.flags=v.flags,this.samples=v.samples,v.samples){this.samples=[];for(var g=0,p=v.samples.length;g<p;g++){var y={sample_size:v.samples[g].sample_size,sample_duration:v.samples[g].sample_duration,sample_composition_time_offset:v.samples[g].sample_composition_time_offset};this.samples.push(y)}}}}return h(u,[{key:"getChildBox",value:function(v){for(var g=0;g<this.boxes.length;g++)if(this.boxes[g].type===v)return this.boxes[g]}},{key:"getChildBoxes",value:function(v){for(var g=[],_=0;_<this.boxes.length;_++)this.boxes[_].type===v&&g.push(this.boxes[_]);return g}}]),u}();o.default=m,f.exports=o.default},{}],165:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};o.default=h,f.exports=o.default},{}],166:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};o.default=h,f.exports=o.default},{}],167:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]};o.default=h,f.exports=o.default},{}],168:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};o.default=h,f.exports=o.default},{}],169:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0};o.default=h,f.exports=o.default},{}],170:[function(t,f,o){"use strict";function l(I){return I&&I.__esModule?I:{default:I}}function h(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function m(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}Object.defineProperty(o,"__esModule",{value:!0});var u=function(I,E,D){for(var R=!0;R;){var S=I,L=E,B=D;R=!1,S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,L);if(k!==void 0){if("value"in k)return k.value;var b=k.get;return b===void 0?void 0:b.call(B)}var A=Object.getPrototypeOf(S);if(A===null)return;I=A,E=L,D=B,R=!0,k=A=void 0}},v=t(98),g=l(v),_=t(162),p=l(_),y=function(I){function E(D,R){h(this,E),u(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),this.url=D||null,this.type=R||null,this.mediaType=g.default.STREAM,this.responseType=""}return m(E,I),E}(p.default);o.default=y,f.exports=o.default},{162:162,98:98}],171:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};o.default=h,f.exports=o.default},{}],172:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null};o.default=h,f.exports=o.default},{}],173:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""};o.default=h,f.exports=o.default},{}],174:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};o.default=h,f.exports=o.default},{}],175:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.t=null,this.level=null};o.default=h,f.exports=o.default},{}],176:[function(t,f,o){"use strict";function l(g){return g&&g.__esModule?g:{default:g}}function h(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var m=t(103),u=l(m),v=function g(){h(this,g),this.target=null,this.state=u.default.BUFFER_EMPTY};o.default=v,f.exports=o.default},{103:103}],177:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.time=null,this.range=null,this.manifestInfo=null};o.default=h,f.exports=o.default},{}],178:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.time=null,this.droppedFrames=null};o.default=h,f.exports=o.default},{}],179:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function u(){l(this,u),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},m=function u(){l(this,u),this.s=null,this.d=null,this.b=[]};h.GET="GET",h.HEAD="HEAD",h.MPD_TYPE="MPD",h.XLINK_EXPANSION_TYPE="XLinkExpansion",h.INIT_SEGMENT_TYPE="InitializationSegment",h.INDEX_SEGMENT_TYPE="IndexSegment",h.MEDIA_SEGMENT_TYPE="MediaSegment",h.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",h.OTHER_TYPE="other",o.HTTPRequest=h,o.HTTPRequestTrace=m},{}],180:[function(t,f,o){"use strict";function l(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function v(){l(this,v),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},m=function v(){l(this,v),this.id=null,this.index=null,this.start=null,this.duration=null},u=function v(){l(this,v),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};o.ManifestUpdate=h,o.ManifestUpdateStreamInfo=m,o.ManifestUpdateRepresentationInfo=u},{}],181:[function(t,f,o){"use strict";function l(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function u(){l(this,u),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};h.INITIAL_PLAYOUT_START_REASON="initial_playout",h.SEEK_START_REASON="seek",h.RESUME_FROM_PAUSE_START_REASON="resume",h.METRICS_COLLECTION_START_REASON="metrics_collection_start";var m=function u(){l(this,u),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};m.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",m.REBUFFERING_REASON="rebuffering",m.USER_REQUEST_STOP_REASON="user_request",m.END_OF_PERIOD_STOP_REASON="end_of_period",m.END_OF_CONTENT_STOP_REASON="end_of_content",m.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",m.FAILURE_STOP_REASON="failure",o.PlayList=h,o.PlayListTrace=m},{}],182:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.t=null,this.mt=null,this.to=null,this.lto=null};o.default=h,f.exports=o.default},{}],183:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.loadingRequests=[],this.executedRequests=[]};o.default=h,f.exports=o.default},{}],184:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};o.default=h,f.exports=o.default},{}],185:[function(t,f,o){"use strict";function l(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var h=function m(){l(this,m),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};o.default=h,f.exports=o.default},{}]},{},[5]);var Br=function(t,f,o,l){function h(m){return m instanceof o?m:new o(function(u){u(m)})}return new(o||(o=Promise))(function(m,u){function v(p){try{_(l.next(p))}catch(y){u(y)}}function g(p){try{_(l.throw(p))}catch(y){u(y)}}function _(p){p.done?m(p.value):h(p.value).then(v,g)}_((l=l.apply(t,f||[])).next())})},An=Oi();kr();Lr();var kt=class extends qi{constructor(f){super(f);this._data=this.data(),this.canvasInstances=[],this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,this._posterImageExpanded=!1,this._init(),this._resize()}_init(){let f=super._init();return this._$element=An(this.el),f||vt.error("Component failed to initialise"),f}getCurrentCanvasInstance(){let f=this._data.helper.getRangeById(this._data.range.id);if(!f)return null;let o=gn(f);return o?this._data.helper.getCanvasById(o):null}data(){return{autoPlay:!1,constrainNavigationToRange:!1,defaultAspectRatio:.56,doubleClickMS:350,halveAtWidth:200,limitToRange:!1,autoAdvanceRanges:!0,posterImageRatio:.3,virtualCanvasEnabled:!0,content:{currentTime:"Current Time",collapse:"Collapse",duration:"Duration",expand:"Expand",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous",unmute:"Unmute"},enableFastForward:!0,enableFastRewind:!0}}set(f){vt.groupCollapsed("AVComponent.set()"),vt.log("Data",f);let o=Object.assign({},this._data);this._data=Object.assign(this._data,f);let l=dn(o,this._data);if(l.includes("helper")&&this._reset(),!this._data.helper){vt.warn("must pass a helper object");return}if(this.canvasInstances.forEach((h,m)=>{let u={};l.includes("limitToRange")&&this._data.canvasId&&(u.limitToRange=this._data.limitToRange),l.includes("autoAdvanceRanges")&&this._data.canvasId&&(u.autoAdvanceRanges=this._data.autoAdvanceRanges),l.includes("constrainNavigationToRange")&&this._data.canvasId&&(u.constrainNavigationToRange=this._data.constrainNavigationToRange),l.includes("autoSelectRange")&&this._data.canvasId&&(u.autoSelectRange=this._data.autoSelectRange),h.set(u)}),(l.includes("virtualCanvasEnabled")||l.includes("canvasId"))&&this._data.canvasId){let h=this._getCanvasInstanceById(this._data.canvasId);h&&this.canvasInstances.forEach(m=>{m.getCanvasId()!==h.getCanvasId()?m.set({visible:!1}):l.includes("range")?m.set({visible:!0,range:this._data.range?jQuery.extend(!0,{},this._data.range):void 0}):m.set({visible:!0})})}if(l.includes("virtualCanvasEnabled")&&(this.set({range:void 0}),this._data.virtualCanvasEnabled&&this.canvasInstances.forEach(h=>{h.isVirtual()&&this.set({canvasId:h.getCanvasId(),range:void 0})})),l.includes("range")&&this._data.range){let h=this._data.helper.getRangeById(this._data.range.id);if(!h)vt.warn("range not found",{id:this._data.range.id});else{let m=gn(h);if(m){let u=this._getCanvasInstanceById(m);if(u){if(u.isVirtual()&&this._data.virtualCanvasEnabled&&u.includesVirtualSubCanvas(m)){m=u.getCanvasId();for(let v=0;v<u.ranges.length;v++){let g=u.ranges[v];if(g.id===h.id){h=g;break}}}this._data.canvasId&&(this._data.canvasId.includes("://")?Sn.Utils.normaliseUrl(this._data.canvasId):this._data.canvasId)!==m?this.set({canvasId:m,range:jQuery.extend(!0,{},h)}):u.set({range:jQuery.extend(!0,{},h)})}}}}this._render(),this._resize(),vt.groupEnd()}_render(){}reset(){this._reset()}_reset(){if(this._readyMedia=0,this._readyWaveforms=0,this._posterCanvasWidth=0,this._posterCanvasHeight=0,clearInterval(this._checkAllMediaReadyInterval),clearInterval(this._checkAllWaveformsReadyInterval),this.canvasInstances.forEach(f=>{f.destroy()}),this.canvasInstances=[],this._$element.empty(),this._data&&this._data.helper&&this._data.helper.manifest){let f=this._data.helper.manifest.getBehavior(),o=this._getCanvases();if(f&&f.toString()==="auto-advance"){let h=new ki;o.forEach(m=>{h.addCanvas(m)}),this._initCanvas(h)}o.forEach(h=>{this._initCanvas(h)}),this.canvasInstances.length>0&&(this._data.canvasId=this.canvasInstances[0].getCanvasId()),this._checkAllMediaReadyInterval=setInterval(this._checkAllMediaReady.bind(this),100),this._checkAllWaveformsReadyInterval=setInterval(this._checkAllWaveformsReady.bind(this),100),this._$posterContainer=An('<div class="poster-container"></div>'),this._$element.append(this._$posterContainer),this._$posterImage=An('<div class="poster-image"></div>'),this._$posterExpandButton=An(`
                    <button class="btn" title="${this._data&&this._data.content?this._data.content.expand:""}">
                        <i class="av-icon  av-icon-expand expand" aria-hidden="true"></i><span class="sr-only">${this._data&&this._data.content?this._data.content.expand:""}</span>
                    </button>
                `),this._$posterImage.append(this._$posterExpandButton),this._$posterImage.on("touchstart click",h=>{h.preventDefault();let m=this._getPosterImageCss(!this._posterImageExpanded);if(this._$posterImage.animate(m),this._posterImageExpanded=!this._posterImageExpanded,this._data.content)if(this._posterImageExpanded){let u=this._data.content.collapse;this._$posterExpandButton.prop("title",u),this._$posterExpandButton.find("i").switchClass("expand","collapse")}else{let u=this._data.content.expand;this._$posterExpandButton.prop("title",u),this._$posterExpandButton.find("i").switchClass("collapse","expand")}});let l=this._data.helper.getAccompanyingCanvas();if(l||(l=this._data.helper.getPosterCanvas()),l){this._posterCanvasWidth=l.getWidth(),this._posterCanvasHeight=l.getHeight();let h=this._data.helper.getPosterImage();if(h||(h=this._data.helper.getAccompanyingCanvasImage()),h){this._$posterContainer.append(this._$posterImage);let m=this._getPosterImageCss(this._posterImageExpanded);m=Object.assign({},m,{"background-image":"url("+h+")"}),this._$posterImage.css(m)}}}}setCurrentTime(f,o=!1){return Br(this,void 0,void 0,function*(){let l=this._getCurrentCanvas();if(l)return l.setCurrentTime(f,o)})}setCurrentRangeTime(f,o,l=!1){return Br(this,void 0,void 0,function*(){let h=this._getCurrentCanvas();if(h)return h.setCurrentRangeTime(f,o,l)})}getCurrentTime(){let f=this._getCurrentCanvas();return f?f.getClockTime():0}isPlaying(){return this.canvasInstances.reduce((f,o)=>f||o.isPlaying(),!1)}_checkAllMediaReady(){this._readyMedia===this.canvasInstances.length&&(clearInterval(this._checkAllMediaReadyInterval),this.fire(Ht.MEDIA_READY),this.resize())}_checkAllWaveformsReady(){this._readyWaveforms===this._getCanvasInstancesWithWaveforms().length&&(clearInterval(this._checkAllWaveformsReadyInterval),this.fire(Ht.WAVEFORMS_READY),this.resize())}_getCanvasInstancesWithWaveforms(){return this.canvasInstances.filter(f=>f.waveforms.length>0)}_getCanvases(){return this._data.helper?this._data.helper.getCanvases():[]}_initCanvas(f){let o=new $n({target:document.createElement("div"),data:Object.assign({},{canvas:f},this._data)});o.logMessage=this._logMessage.bind(this),o.isOnlyCanvasInstance=this._getCanvases().length===1,this._$element.append(o.$playerElement),o.autoAdvanceRanges=this._data.autoAdvanceRanges===!1?this._data.autoAdvanceRanges:!0,o.limitToRange=this._data.limitToRange||!1,o.init(),this.canvasInstances.push(o),o.on("play",()=>{this.fire(Ht.PLAY,o)},!1),o.on("pause",()=>{this.fire(Ht.PAUSE,o)},!1),o.on(Ht.MEDIA_READY,()=>{this._readyMedia++,o.loaded()},!1),o.on(Ht.MEDIA_ERROR,l=>{this.fire(Ht.MEDIA_ERROR,l)},!1),o.on(Ht.WAVEFORM_READY,()=>{this._readyWaveforms++},!1),o.on(ti.PREVIOUS_RANGE,()=>{this._prevRange(),this.play()},!1),o.on(ti.NEXT_RANGE,()=>{this._nextRange(),this.play()},!1),o.on(Ht.RANGE_CHANGED,l=>{this.fire(Ht.RANGE_CHANGED,l)},!1),o.on(hi.VOLUME_CHANGED,l=>{this._setCanvasInstanceVolumes(l),this.fire(hi.VOLUME_CHANGED,l)},!1)}getCurrentRange(){let f=this._data.helper.getCurrentRange().id;return this._getCurrentCanvas().ranges.find(o=>o.id===f)||null}_prevRange(){if(!this._data||!this._data.helper)return;let f=this.getCurrentRange();if(f){let l=this.getCurrentTime(),h=f.getDuration().start||0;if(l-h>5){this.setCurrentTime(h);return}}let o=this._data.helper.getPreviousRange();o?this.playRange(o.id):this._rewind()}_nextRange(){if(!this._data||!this._data.helper)return;let f=this._data.helper.getNextRange();f&&this.playRange(f.id)}_setCanvasInstanceVolumes(f){this.canvasInstances.forEach(o=>{o.set({volume:f})})}_getNormaliseCanvasId(f){return f.includes("://")?Sn.Utils.normaliseUrl(f):f}_getCanvasInstanceById(f){if(f=this._getNormaliseCanvasId(f),this._data.virtualCanvasEnabled)for(let o=0;o<this.canvasInstances.length;o++){let l=this.canvasInstances[o],h=l.getCanvasId();if(h&&(h=this._getNormaliseCanvasId(h),(l.isVirtual()||this.canvasInstances.length===1)&&h===f||l.includesVirtualSubCanvas(f)))return l}else for(let o=0;o<this.canvasInstances.length;o++){let l=this.canvasInstances[o],h=l.getCanvasId();if(h&&Sn.Utils.normaliseUrl(h)===f)return l}}_getCurrentCanvas(){if(this._data.canvasId)return this._getCanvasInstanceById(this._data.canvasId)}_rewind(){if(this._data.limitToRange)return;let f=this._getCurrentCanvas();f&&f.set({range:void 0})}play(){let f=this._getCurrentCanvas();f&&f.play()}viewRange(f){let o=this._getCurrentCanvas();o&&o.viewRange(f)}pause(){let f=this._getCurrentCanvas();f&&f.pause()}playRange(f,o=!1){if(!this._data.helper)return;let l=this._data.helper.getRangeById(f);l&&this.set({range:jQuery.extend(!0,{autoChanged:o},l)})}showCanvas(f){let o=this._getCurrentCanvas();this._data.virtualCanvasEnabled&&o&&o.getCanvasId()===f&&!o.isVisible()?o.set({visible:!0}):this.set({canvasId:f})}_logMessage(f){this.fire(Ht.LOG,f)}_getPosterImageCss(f){let o=this._getCurrentCanvas();if(o){let l=o.$playerElement.find(".options-container"),h=o.$playerElement.parent().width(),m=o.$playerElement.parent().height()-l.height();if(f)return{top:0,left:0,width:h,height:m};{let u,v,g;return this._posterCanvasWidth>this._posterCanvasHeight?(u=this._posterCanvasHeight/this._posterCanvasWidth,v=h*(this._data.posterImageRatio||1),g=v*u):(u=this._posterCanvasWidth/this._posterCanvasHeight,g=m*(this._data.posterImageRatio||1),v=g*u),{top:0,left:h-v,width:v,height:g}}}return null}resize(){this.canvasInstances.forEach(o=>{o.resize()}),this._getCurrentCanvas()&&this._$posterImage&&this._$posterImage.is(":visible")&&(this._posterImageExpanded?this._$posterImage.css(this._getPosterImageCss(!0)):this._$posterImage.css(this._getPosterImageCss(!1)))}};kt.newRanges=!0;var vo=Oi(),er=class extends mr{constructor(f){super(f);this._mediaReady=!1;this._isThumbsViewOpen=!1;this._mediaReadyQueue=[];this.attributionPosition=gr.BOTTOM_RIGHT}create(){this.setConfig("avCenterPanel"),super.create();let f=this;this.extensionHost.subscribe(jt.OPEN_EXTERNAL_RESOURCE,o=>{f.openMedia(o)}),this.extensionHost.subscribe(jt.CANVAS_INDEX_CHANGE,o=>{this._lastCanvasIndex!==o&&this._viewCanvas(o)}),this.extensionHost.subscribe(jt.CURRENT_TIME_CHANGE,o=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.setCurrentTime(o,!0)})}),this.extensionHost.subscribe(jt.RANGE_TIME_CHANGE,({time:o,rangeId:l})=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.setCurrentRangeTime(o,l,!0)})}),this.extensionHost.subscribe(jt.RANGE_CHANGE,o=>{!this._observeRangeChanges()||this._whenMediaReady(()=>{f._viewRange(o),f._setTitle()})}),this.extensionHost.subscribe(jt.METRIC_CHANGE,()=>{this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({limitToRange:this._limitToRange(),constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges()})})}),this.extensionHost.subscribe(Ln.CREATED,()=>{this._setTitle()}),this.extensionHost.subscribe(jt.OPEN_THUMBS_VIEW,()=>{this._isThumbsViewOpen=!0,this._whenMediaReady(()=>{this.avcomponent&&(this.avcomponent.set({virtualCanvasEnabled:!1}),this.extension.helper.getCurrentCanvas()&&this._viewCanvas(this.extension.helper.canvasIndex))})}),this.extensionHost.subscribe(jt.OPEN_TREE_VIEW,()=>{this._isThumbsViewOpen=!1,this._whenMediaReady(()=>{this.avcomponent&&this.avcomponent.set({virtualCanvasEnabled:!0})})}),this.extensionHost.subscribe(jt.OPEN_LEFT_PANEL,()=>{this.resize()}),this.extensionHost.subscribe(jt.OPEN_RIGHT_PANEL,()=>{this.resize()}),this._createAVComponent()}_flushMediaReadyQueue(){for(let f of this._mediaReadyQueue)f();this._mediaReadyQueue=[]}_createAVComponent(){this.$avcomponent=vo('<div class="iiif-av-component"></div>'),this.$content.prepend(this.$avcomponent),this.avcomponent=new kt({target:this.$avcomponent[0],data:{posterImageExpanded:this.options.posterImageExpanded,enableFastForward:!0,enableFastRewind:!0}}),this.avcomponent.on("mediaerror",f=>{this.config.options.hideMediaError||this.extensionHost.publish(jt.SHOW_MESSAGE,[f])}),this.avcomponent.on("mediaready",()=>{this._mediaReady=!0,this._flushMediaReadyQueue()},!1),this.avcomponent.on("pause",()=>{this.extensionHost.publish(jt.PAUSE,this.avcomponent.getCurrentTime())}),this.avcomponent.on("rangechanged",f=>{if(f){let o=this.extension.helper.getRangeById(f);if(o){let l=this.extension.helper.getCurrentRange();o!==l&&this.extensionHost.publish(jt.RANGE_CHANGE,o)}else this.extensionHost.publish(jt.RANGE_CHANGE,null)}else this.extensionHost.publish(jt.RANGE_CHANGE,null);this._setTitle()},!1)}_observeRangeChanges(){return!this._isThumbsViewOpen}_setTitle(){let f="",o,l,h=this.extension.helper.getCurrentRange();h?l=h.getLabel():l=this.extension.helper.getCurrentCanvas().getLabel(),o=mn.LanguageMap.getValue(l),o&&(f=o),ji.getBool(this.config.options.includeParentInTitleEnabled,!1)&&(h?h.parentRange&&(l=h.parentRange.getLabel(),o=mn.LanguageMap.getValue(l)):o=this.extension.helper.getLabel(),o&&(f+=this.content.delimiter+o)),this.title=f;let m=this.extension.helper.getMetadata({range:h});for(let u=0;u<m.length;u++){let g=m[u].items.find(_=>{if(_.label){let p=mn.LanguageMap.getValue(_.label);if(p&&p.toLowerCase()===this.config.options.subtitleMetadataField)return!0}return!1});if(g){this.subtitle=mn.LanguageMap.getValue(g.value);break}}this.$title.text(pr(this.title)),this.resize(!1)}_isCurrentResourceAccessControlled(){return this.extension.helper.getCurrentCanvas().externalResource.isAccessControlled()}openMedia(f){this.extension.getExternalResources(f).then(()=>{if(this.avcomponent){let o=!1;this.extension.helper.canvasIndex===this._lastCanvasIndex&&(o=!0,this.avcomponent.reset()),this._lastCanvasIndex=this.extension.helper.canvasIndex,this.avcomponent.set({helper:this.extension.helper,adaptiveAuthEnabled:this._isCurrentResourceAccessControlled(),autoPlay:this.config.options.autoPlay,enableFastForward:this.config.options.enableFastForward,enableFastRewind:this.config.options.enableFastRewind,autoSelectRange:!0,constrainNavigationToRange:this._limitToRange(),autoAdvanceRanges:this._autoAdvanceRanges(),content:this.content,defaultAspectRatio:.56,doubleClickMS:350,limitToRange:this._limitToRange(),posterImageRatio:this.config.options.posterImageRatio}),o&&this._viewCanvas(this._lastCanvasIndex),this.extensionHost.publish(Ln.EXTERNAL_RESOURCE_OPENED)}})}_limitToRange(){return ji.getBool(this.config.options.limitToRange,!1)?!0:!this.extension.isDesktopMetric()}_autoAdvanceRanges(){return ji.getBool(this.config.options.autoAdvanceRanges,!0)}_whenMediaReady(f){this._mediaReady?f():this._mediaReadyQueue.push(f)}_viewRange(f){this._whenMediaReady(()=>{f&&this.avcomponent&&this.avcomponent.viewRange(f.id),this.resize(!1)})}_viewCanvas(f){this._whenMediaReady(()=>{let o=this.extension.helper.getCanvasByIndex(f);this.avcomponent&&this.avcomponent.showCanvas(o.id)})}resize(f=!0){super.resize(),f&&this.avcomponent&&(this.$avcomponent.height(this.$content.height()),this.avcomponent.resize())}};var Pi=Oi(),tr=class extends yr{constructor(f){super(f)}create(){this.setConfig("downloadDialogue"),super.create(),this.$entireFileAsOriginal=Pi('<li class="option single"><input id="'+Jt.ENTIRE_FILE_AS_ORIGINAL+'" type="radio" name="downloadOptions" tabindex="0" /><label id="'+Jt.ENTIRE_FILE_AS_ORIGINAL+'label" for="'+Jt.ENTIRE_FILE_AS_ORIGINAL+'"></label></li>'),this.$downloadOptions.append(this.$entireFileAsOriginal),this.$entireFileAsOriginal.hide(),this.$downloadButton=Pi('<a class="btn btn-primary" href="#" tabindex="0">'+this.content.download+"</a>"),this.$buttons.prepend(this.$downloadButton),this.$imageOptionsContainer=Pi('<li class="group image"></li>'),this.$imageOptions=Pi("<ul></ul>"),this.$imageOptionsContainer.append(this.$imageOptions),this.$canvasOptionsContainer=Pi('<li class="group canvas"></li>'),this.$canvasOptions=Pi("<ul></ul>"),this.$canvasOptionsContainer.append(this.$canvasOptions),this.$manifestOptionsContainer=Pi('<li class="group manifest"></li>'),this.$manifestOptions=Pi("<ul></ul>"),this.$manifestOptionsContainer.append(this.$manifestOptions);let f=this;this.$downloadButton.on("click",o=>{o.preventDefault();let l=f.getSelectedOption(),h=l.attr("id"),m=l.attr("title"),u=Jt.UNKNOWN;if(this.renderingUrls[h])window.open(this.renderingUrls[h]);else{let v=this.getCurrentResourceId();window.open(v)}this.extensionHost.publish(jt.DOWNLOAD,{type:u,label:m}),this.close()})}_isAdaptive(){let f=this.getCurrentResourceFormat();return f==="mpd"||f==="m3u8"}open(f){super.open(f);let o=this.extension.helper.getCurrentCanvas();if(this.isDownloadOptionAvailable(Jt.ENTIRE_FILE_AS_ORIGINAL)&&!this._isAdaptive()){let l=this.$entireFileAsOriginal.find("input"),h=this.$entireFileAsOriginal.find("label"),m=En.format(this.content.entireFileAsOriginalWithFormat,this.getCurrentResourceFormat());h.text(m),l.prop("title",m),this.$entireFileAsOriginal.show()}if(this.resetDynamicDownloadOptions(),this.isDownloadOptionAvailable(Jt.RANGE_RENDERINGS)&&o.ranges&&o.ranges.length){let l=this.extension.helper.getCurrentRange();if(l){this.$downloadOptions.append(this.$canvasOptionsContainer);let h=this.getDownloadOptionsForRenderings(l,this.content.entireFileAsOriginal,Jt.CANVAS_RENDERINGS);this.addDownloadOptionsForRenderings(h)}}if(this.isDownloadOptionAvailable(Jt.IMAGE_RENDERINGS)){let l=o.getImages();l.length&&this.$downloadOptions.append(this.$imageOptionsContainer);for(let h=0;h<l.length;h++){let m=this.getDownloadOptionsForRenderings(l[h].getResource(),this.content.entireFileAsOriginal,Jt.IMAGE_RENDERINGS);this.addDownloadOptionsForRenderings(m)}}if(this.isDownloadOptionAvailable(Jt.CANVAS_RENDERINGS)){let l=this.getDownloadOptionsForRenderings(o,this.content.entireFileAsOriginal,Jt.CANVAS_RENDERINGS);l.length&&(this.$downloadOptions.append(this.$canvasOptionsContainer),this.addDownloadOptionsForRenderings(l))}if(this.isDownloadOptionAvailable(Jt.MANIFEST_RENDERINGS)){let l=this.getDownloadOptionsForRenderings(this.extension.helper.getCurrentSequence(),this.content.entireDocument,Jt.MANIFEST_RENDERINGS);!l.length&&this.extension.helper.manifest&&(l=this.getDownloadOptionsForRenderings(this.extension.helper.manifest,this.content.entireDocument,Jt.MANIFEST_RENDERINGS)),l.length&&(this.$downloadOptions.append(this.$manifestOptionsContainer),this.addDownloadOptionsForRenderings(l))}this.$downloadOptions.length&&this.$entireFileAsOriginal.hide(),this.$downloadOptions.find("li.option:visible").length?(this.$downloadOptions.find("li.option input:visible:first").prop("checked",!0),this.$noneAvailable.hide(),this.$downloadButton.show()):(this.$noneAvailable.show(),this.$downloadButton.hide()),this.resize()}addDownloadOptionsForRenderings(f){f.forEach(o=>{switch(o.type){case Jt.IMAGE_RENDERINGS:this.$imageOptions.append(o.button);break;case Jt.CANVAS_RENDERINGS:this.$canvasOptions.append(o.button);break;case Jt.MANIFEST_RENDERINGS:this.$manifestOptions.append(o.button);break}})}isDownloadOptionAvailable(f){return this.isMediaDownloadEnabled()}};var ir=class extends br{constructor(f){super(f)}create(){this.setConfig("settingsDialogue"),super.create()}};var nr=class extends Cr{constructor(f){super(f)}create(){this.setConfig("shareDialogue"),super.create()}update(){super.update(),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)}resize(){super.resize()}};var sr=Mi(qs());var _o={allowStealFocus:!1,authAPIVersion:1,bookmarkThumbHeight:150,bookmarkThumbWidth:90,dropEnabled:!0,footerPanelEnabled:!0,headerPanelEnabled:!0,leftPanelEnabled:!0,limitLocales:!1,metrics:[{type:"sm",minWidth:0},{type:"md",minWidth:768},{type:"lg",minWidth:1024},{type:"xl",minWidth:1280}],multiSelectionMimeType:"application/zip",navigatorEnabled:!0,openTemplate:"http://universalviewer.io?manifest={0}",overrideFullScreen:!1,pagingEnabled:!0,pagingOptionEnabled:!0,pessimisticAccessControl:!1,preserveViewport:!1,rightPanelEnabled:!0,saveUserSettings:!1,clickToZoomEnabled:!0,searchWithinEnabled:!0,termsOfUseEnabled:!1,theme:"uv-en-GB-theme",tokenStorage:"session",useArrowKeysToNavigate:!1,zoomToSearchResultEnabled:!0},yo={contentLeftPanel:{options:{autoExpandTreeEnabled:!0,autoExpandTreeIfFewerThan:20,branchNodesExpandOnClick:!1,branchNodesSelectable:!0,defaultToTreeEnabled:!1,defaultToTreeIfGreaterThan:0,elideCount:40,expandFullEnabled:!0,galleryThumbChunkedResizingThreshold:400,galleryThumbHeight:320,galleryThumbLoadPadding:3,galleryThumbWidth:200,oneColThumbHeight:320,oneColThumbWidth:200,pageModeEnabled:!0,panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!0,tabOrder:"",thumbsEnabled:!0,thumbsExtraHeight:8,thumbsImageFadeInDuration:300,thumbsLoadRange:15,treeEnabled:!0,twoColThumbHeight:150,twoColThumbWidth:90},content:{collapse:"Collapse Contents",collapseFull:"Collapse Gallery",date:"date",expand:"Expand Contents",expandFull:"Expand Gallery",index:"Index",manifestRanges:"Manifest Ranges",searchResult:"{0} search result",searchResults:"{0} search results",sortBy:"Sort By:",thumbnails:"Thumbnails",title:"Contents",volume:"volume"}},dialogue:{topCloseButtonEnabled:!1,content:{close:"Close"}},footerPanel:{options:{bookmarkEnabled:!1,downloadEnabled:!0,embedEnabled:!1,feedbackEnabled:!1,fullscreenEnabled:!0,minimiseButtons:!0,moreInfoEnabled:!0,openEnabled:!1,printEnabled:!1,shareEnabled:!0},content:{bookmark:"Add to bookmarks",download:"Download",embed:"Embed",exitFullScreen:"Exit Full Screen",feedback:"Feedback",fullScreen:"Full Screen",moreInfo:"More Information",open:"Open",share:"Share"}},genericDialogue:{content:{emptyValue:"please enter a value.",invalidNumber:"Please enter a valid number.",noMatches:"No matches were found.",ok:"OK",pageNotFound:"This item does not contain a page with the number you entered. Try switching the numbering mode to 'image'.",refresh:"Refresh"}},headerPanel:{options:{localeToggleEnabled:!1,settingsButtonEnabled:!0},content:{settings:"Settings"}},helpDialogue:{content:{text:"placeholder text",title:"Help"}},moreInfoRightPanel:{options:{canvasDisplayOrder:"",canvasExclude:"",copyToClipboardEnabled:!1,manifestDisplayOrder:"",manifestExclude:"",panelAnimationDuration:250,panelCollapsedWidth:30,panelExpandedWidth:255,panelOpen:!1,rtlLanguageCodes:"ar, ara, dv, div, he, heb, ur, urd",showAllLanguages:!1,textLimit:4,textLimitType:"lines",limitToRange:!1},content:{attribution:"Attribution",collapse:"Collapse Information",collapseFull:"Collapse Gallery",description:"Description",expand:"Expand Information",expandFull:"Expand Gallery",holdingText:"Your module goes here!",less:"less",license:"License",logo:"Logo",more:"more",noData:"No data to display",page:"Page",title:"More Information",manifestHeader:"About the item",canvasHeader:"About the image",copyToClipboard:"Copy to clipboard",copiedToClipboard:"Copied to clipboard"}},avCenterPanel:{options:{autoPlay:!1,includeParentInTitleEnabled:!1,posterImageRatio:.3,subtitleMetadataField:"contributor",titleEnabled:!0,subtitleEnabled:!0},content:{attribution:"Attribution",currentTime:"Current Time",delimiter:" - ",duration:"Duration",mute:"Mute",next:"Next",pause:"Pause",play:"Play",previous:"Previous"}},settingsDialogue:{content:{locale:"Locale",navigatorEnabled:"Navigator Enabled",clickToZoomEnabled:"Mouse Click To Zoom",pagingEnabled:"Two Page View",reducedMotion:"Reduce motion (disables animations)",preserveViewport:"Preserve Zoom",title:"Settings",website:"<a href='https://github.com/universalviewer/universalviewer#contributors'>more info</a>"}},shareDialogue:{options:{embedTemplate:'<iframe src="{0}" width="{1}" height="{2}" allowfullscreen frameborder="0"></iframe>',instructionsEnabled:!1,shareFrameEnabled:!0},content:{customSize:"custom",embed:"Embed",embedInstructions:"To embed this item in your own website, copy and paste the code below.",height:"Height",iiif:"IIIF Manifest",share:"Share",shareInstructions:"To share this item, copy the URL below.",size:"Size:",width:"Width"}},authDialogue:{content:{cancel:"Cancel",confirm:"Confirm"}},clickThroughDialogue:{content:{viewTerms:"Read Full Terms and Conditions"}},downloadDialogue:{content:{currentViewAsJpg:"Current view {0} x {1}px (jpg)",currentViewAsJpgExplanation:"Opens in a new window",download:"Download",downloadSelection:"Download Selection",downloadSelectionExplanation:"Opens a dialogue to select which pages to download.",editSettings:"Edit Settings",entireDocument:"Entire document ({0})",entireFileAsOriginal:"Entire file",entireFileAsOriginalWithFormat:"Entire file ({0})",noneAvailable:"No download options are available.",pagingNote:"Please turn off Two Page View for additional options.",preview:"Preview",title:"Download",wholeImageHighRes:"Whole image {0} x {1}px ({2})",wholeImageHighResExplanation:"Opens in a new window.",wholeImagesHighRes:"Whole images ({0})",wholeImagesHighResExplanation:"Opens in two new windows.",wholeImageLowResAsJpg:"Whole image {0} x {1}px (jpg)",wholeImageLowResAsJpgExplanation:"Opens in a new window."}},loginDialogue:{content:{login:"Login",logout:"Logout",cancel:"Cancel"}},restrictedDialogue:{content:{cancel:"Cancel"}}},To={label:"English (GB)",locales:[{name:"cy-GB",label:"Cymraeg"},{name:"en-GB",label:"English (GB)"},{name:"fr-FR",label:"Fran\xE7ais (FR)"},{name:"pl-PL",label:"Polski"},{name:"sv-SE",label:"Svenska"}]},Eo={authCORSError:"Your browser does not support CORS, please upgrade to view this content.",authorisationFailedMessage:"Your log-in attempt did not appear to be successful. Please try again.",canvasIndexOutOfRange:"Canvas index out of range.",fallbackDegradedLabel:"Login",fallbackDegradedMessage:"Please log in to view this content at full resolution.",forbiddenResourceMessage:"Your current access rights are insufficient to view this image",termsOfUse:"Terms of Use",mediaViewer:"Media Viewer",skipToDownload:"Skip to downloads and alternative formats"},rr={options:_o,modules:yo,localisation:To,content:Eo};var Ur=class extends vr{constructor(){super(...arguments);this.defaultConfig=rr;this.locales={"en-GB":rr,"cy-GB":()=>import("./cy-GB-OBPEZVYZ.js"),"fr-FR":()=>import("./fr-FR-EKWXRZJ7.js"),"pl-PL":()=>import("./pl-PL-KQXXMOPU.js"),"sv-SE":()=>import("./sv-SE-UMBWWDO2.js")}}create(){super.create(),this.extensionHost.subscribe(jt.CANVAS_INDEX_CHANGE,f=>{f!==this.lastAvCanvasIndex&&this.viewCanvas(f),this.lastAvCanvasIndex=f}),this.extensionHost.subscribe(jt.TREE_NODE_SELECTED,f=>{this.fire(jt.TREE_NODE_SELECTED,f.data.path),this.treeNodeSelected(f)}),this.extensionHost.subscribe(jt.THUMB_SELECTED,f=>{this.extensionHost.publish(jt.CANVAS_INDEX_CHANGE,f.index)})}dependencyLoaded(f,o){f===this.getDependencyIndex("waveform-data")?window.WaveformData=o:f===this.getDependencyIndex("hls")&&(window.Hls=o)}createModules(){super.createModules(),this.isHeaderPanelEnabled()?this.headerPanel=new wr(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()?this.leftPanel=new _r(this.shell.$leftPanel):this.shell.$leftPanel.hide(),this.centerPanel=new er(this.shell.$centerPanel),this.isRightPanelEnabled()?this.rightPanel=new Ir(this.shell.$rightPanel):this.shell.$rightPanel.hide(),this.isFooterPanelEnabled()?(this.footerPanel=new Tr(this.shell.$footerPanel),this.mobileFooterPanel=new Er(this.shell.$mobileFooterPanel)):this.shell.$footerPanel.hide(),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new nr(this.$shareDialogue),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new tr(this.$downloadDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new ir(this.$settingsDialogue),this.isHeaderPanelEnabled()&&this.headerPanel.init(),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init(),this.isFooterPanelEnabled()&&this.footerPanel.init()}isLeftPanelEnabled(){return ji.getBool(this.data.config.options.leftPanelEnabled,!0)}render(){super.render()}getEmbedScript(f,o,l){let m=`${this.getAppUri()}#?manifest=${this.helper.manifestUri}&c=${this.helper.collectionIndex}&m=${this.helper.manifestIndex}&cv=${this.helper.canvasIndex}&rid=${this.helper.rangeId}`;return En.format(f,m,o.toString(),l.toString())}treeNodeSelected(f){let o=f.data;if(!!o.type)switch(o.type){case sr.IIIFResourceType.MANIFEST:break;case sr.IIIFResourceType.COLLECTION:break;default:this.viewRange(o.path);break}}viewRange(f){let o=this.helper.getRangeByPath(f);!o||this.extensionHost.publish(jt.RANGE_CHANGE,o)}};export{Ur as default};
/*!
 * jQuery Color Animations v2.2.0
 * https://github.com/jquery/jquery-color
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Sun May 10 09:02:36 2020 +0200
 */
/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Accordion 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Button 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Checkboxradio 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Controlgroup 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Datepicker 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Dialog 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Droppable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Blind 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Bounce 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Clip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Drop 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Explode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fade 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Fold 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Highlight 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Puff 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Pulsate 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Scale 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Shake 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Size 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Slide 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Effects Transfer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Progressbar 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Resizable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Selectmenu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Slider 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Sortable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Spinner 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tabs 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Tooltip 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/
/*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
/*! v2.6.7-e2394a6, 2018-03-14T14:47:04Z */
